(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,942305,e=>{"use strict";e.s(["assertCurrentChain",()=>a]);var t=e.i(505880);function a(e){let{chain:a,currentChainId:r}=e;if(!a)throw new t.ChainNotFoundError;if(r!==a.id)throw new t.ChainMismatchError({chain:a,currentChainId:r})}},10725,e=>{"use strict";e.s(["getTransactionError",()=>n]);var t=e.i(853532),a=e.i(393702),r=e.i(467078);function n(e,n){let{docsPath:s,...i}=n,o=(()=>{let a=(0,r.getNodeError)(e,i);return a instanceof t.UnknownNodeError?e:a})();return new a.TransactionExecutionError(o,{docsPath:s,...i})}},509916,888794,460841,e=>{"use strict";e.s(["getCallsStatus",()=>S],509916);var t=e.i(790063),a=e.i(8406),r=e.i(450323),n=e.i(839080);e.s(["fallbackMagicIdentifier",()=>T,"fallbackTransactionErrorMagicIdentifier",()=>E,"sendCalls",()=>A],460841);var s=e.i(189991),i=e.i(569934),o=e.i(383856),c=e.i(656679),l=e.i(147526),d=e.i(675107),u=e.i(10725);e.s(["sendTransaction",()=>j],888794);var h=e.i(611573),m=e.i(290392),p=e.i(942305),x=e.i(264404),f=e.i(190521),w=e.i(467125),g=e.i(976677),b=e.i(353464),y=e.i(975948),v=e.i(368941),N=e.i(638291);let C=new g.LruMap(128);async function j(e,t){let{account:a=e.account,chain:r=e.chain,accessList:n,authorizationList:o,blobs:c,data:l,gas:d,gasPrice:g,maxFeePerBlobGas:j,maxFeePerGas:T,maxPriorityFeePerGas:E,nonce:A,type:S,value:I,...q}=t;if(void 0===a)throw new h.AccountNotFoundError({docsPath:"/docs/actions/wallet/sendTransaction"});let k=a?(0,s.parseAccount)(a):null;try{var R,P,B,F;(0,b.assertRequest)(t);let a=await (async()=>t.to?t.to:null!==t.to&&o&&o.length>0?await (0,m.recoverAuthorizationAddress)({authorization:o[0]}).catch(()=>{throw new i.BaseError("`to` is required. Could not infer from `authorizationList`.")}):void 0)();if((null==k?void 0:k.type)==="json-rpc"||null===k){let t;null!==r&&(t=await (0,w.getAction)(e,y.getChainId,"getChainId")({}),(0,p.assertCurrentChain)({currentChainId:t,chain:r}));let s=null==(B=e.chain)||null==(P=B.formatters)||null==(R=P.transactionRequest)?void 0:R.format,i=(s||f.formatTransactionRequest)({...(0,x.extract)(q,{format:s}),accessList:n,authorizationList:o,blobs:c,chainId:t,data:l,from:null==k?void 0:k.address,gas:d,gasPrice:g,maxFeePerBlobGas:j,maxFeePerGas:T,maxPriorityFeePerGas:E,nonce:A,to:a,type:S,value:I}),u=C.get(e.uid);try{return await e.request({method:u?"wallet_sendTransaction":"eth_sendTransaction",params:[i]},{retryCount:0})}catch(t){if(!1===u)throw t;if("InvalidInputRpcError"===t.name||"InvalidParamsRpcError"===t.name||"MethodNotFoundRpcError"===t.name||"MethodNotSupportedRpcError"===t.name)return await e.request({method:"wallet_sendTransaction",params:[i]},{retryCount:0}).then(t=>(C.set(e.uid,!0),t)).catch(a=>{if("MethodNotFoundRpcError"===a.name||"MethodNotSupportedRpcError"===a.name)throw C.set(e.uid,!1),t;throw a});throw t}}if((null==k?void 0:k.type)==="local"){let t=await (0,w.getAction)(e,v.prepareTransactionRequest,"prepareTransactionRequest")({account:k,accessList:n,authorizationList:o,blobs:c,chain:r,data:l,gas:d,gasPrice:g,maxFeePerBlobGas:j,maxFeePerGas:T,maxPriorityFeePerGas:E,nonce:A,nonceManager:k.nonceManager,parameters:[...v.defaultParameters,"sidecars"],type:S,value:I,...q,to:a}),s=null==r||null==(F=r.serializers)?void 0:F.transaction,i=await k.signTransaction(t,{serializer:s});return await (0,w.getAction)(e,N.sendRawTransaction,"sendRawTransaction")({serializedTransaction:i})}if((null==k?void 0:k.type)==="smart")throw new h.AccountTypeNotSupportedError({metaMessages:["Consider using the `sendUserOperation` Action instead."],docsPath:"/docs/actions/bundler/sendUserOperation",type:"smart"});throw new h.AccountTypeNotSupportedError({docsPath:"/docs/actions/wallet/sendTransaction",type:null==k?void 0:k.type})}catch(e){if(e instanceof h.AccountTypeNotSupportedError)throw e;throw(0,u.getTransactionError)(e,{...t,account:k,chain:t.chain||void 0})}}let T="0x5792579257925792579257925792579257925792579257925792579257925792",E=(0,d.numberToHex)(0,{size:32});async function A(e,t){let{account:a=e.account,capabilities:n,chain:h=e.chain,experimental_fallback:m,experimental_fallbackDelay:p=32,forceAtomic:x=!1,id:f,version:w="2.0.0"}=t,g=a?(0,s.parseAccount)(a):null,b=t.calls.map(e=>{let t=e.abi?(0,c.encodeFunctionData)({abi:e.abi,functionName:e.functionName,args:e.args}):e.data;return{data:e.dataSuffix&&t?(0,l.concat)([t,e.dataSuffix]):t,to:e.to,value:e.value?(0,d.numberToHex)(e.value):void 0}});try{let t=await e.request({method:"wallet_sendCalls",params:[{atomicRequired:x,calls:b,capabilities:n,chainId:(0,d.numberToHex)(h.id),from:null==g?void 0:g.address,id:f,version:w}]},{retryCount:0});if("string"==typeof t)return{id:t};return t}catch(a){if(m&&("MethodNotFoundRpcError"===a.name||"MethodNotSupportedRpcError"===a.name||"UnknownRpcError"===a.name||a.details.toLowerCase().includes("does not exist / is not available")||a.details.toLowerCase().includes("missing or invalid. request()")||a.details.toLowerCase().includes("did not match any variant of untagged enum")||a.details.toLowerCase().includes("account upgraded to unsupported contract")||a.details.toLowerCase().includes("eip-7702 not supported")||a.details.toLowerCase().includes("unsupported wc_ method")||a.details.toLowerCase().includes("feature toggled misconfigured"))){if(n&&Object.values(n).some(e=>!e.optional)){let e="non-optional `capabilities` are not supported on fallback to `eth_sendTransaction`.";throw new o.UnsupportedNonOptionalCapabilityError(new i.BaseError(e,{details:e}))}if(x&&b.length>1){let e="`forceAtomic` is not supported on fallback to `eth_sendTransaction`.";throw new o.AtomicityNotSupportedError(new i.BaseError(e,{details:e}))}let t=[];for(let a of b){let n=j(e,{account:g,chain:h,data:a.data,to:a.to,value:a.value?(0,r.hexToBigInt)(a.value):void 0});t.push(n),p>0&&await new Promise(e=>setTimeout(e,p))}let a=await Promise.allSettled(t);if(a.every(e=>"rejected"===e.status))throw a[0].reason;let s=a.map(e=>"fulfilled"===e.status?e.value:E);return{id:(0,l.concat)([...s,(0,d.numberToHex)(h.id,{size:32}),T])}}throw(0,u.getTransactionError)(a,{...t,account:g,chain:t.chain})}}async function S(e,s){var i;async function o(n){if(n.endsWith(T.slice(2))){let s=(0,a.trim)((0,t.sliceHex)(n,-64,-32)),i=(0,t.sliceHex)(n,0,-64).slice(2).match(/.{1,64}/g),o=await Promise.all(i.map(t=>E.slice(2)!==t?e.request({method:"eth_getTransactionReceipt",params:["0x".concat(t)]},{dedupe:!0}):void 0)),c=o.some(e=>null===e)?100:o.every(e=>(null==e?void 0:e.status)==="0x1")?200:o.every(e=>(null==e?void 0:e.status)==="0x0")?500:600;return{atomic:!1,chainId:(0,r.hexToNumber)(s),receipts:o.filter(Boolean),status:c,version:"2.0.0"}}return e.request({method:"wallet_getCallsStatus",params:[n]})}let{atomic:c=!1,chainId:l,receipts:d,version:u="2.0.0",...h}=await o(s.id),[m,p]=(()=>{let e=h.status;return e>=100&&e<200?["pending",e]:e>=200&&e<300?["success",e]:e>=300&&e<700?["failure",e]:"CONFIRMED"===e?["success",200]:"PENDING"===e?["pending",100]:[void 0,e]})();return{...h,atomic:c,chainId:l?(0,r.hexToNumber)(l):void 0,receipts:null!=(i=null==d?void 0:d.map(e=>({...e,blockNumber:(0,r.hexToBigInt)(e.blockNumber),gasUsed:(0,r.hexToBigInt)(e.gasUsed),status:n.receiptStatuses[e.status]})))?i:[],statusCode:p,status:m,version:u}}},829897,403058,e=>{"use strict";e.s(["prepareAuthorization",()=>o],829897);var t=e.i(189991),a=e.i(611573),r=e.i(806685),n=e.i(467125),s=e.i(975948),i=e.i(937445);async function o(e,o){var c,l,d;let{account:u=e.account,chainId:h,nonce:m}=o;if(!u)throw new a.AccountNotFoundError({docsPath:"/docs/eip7702/prepareAuthorization"});let p=(0,t.parseAccount)(u),x=(()=>{if(o.executor)return"self"===o.executor?o.executor:(0,t.parseAccount)(o.executor)})(),f={address:null!=(l=o.contractAddress)?l:o.address,chainId:h,nonce:m};return void 0===f.chainId&&(f.chainId=null!=(d=null==(c=e.chain)?void 0:c.id)?d:await (0,n.getAction)(e,s.getChainId,"getChainId")({})),void 0===f.nonce&&(f.nonce=await (0,n.getAction)(e,i.getTransactionCount,"getTransactionCount")({address:p.address,blockTag:"pending"}),("self"===x||(null==x?void 0:x.address)&&(0,r.isAddressEqual)(x.address,p.address))&&(f.nonce+=1)),f}e.s(["BundleFailedError",()=>l],403058);var c=e.i(569934);class l extends c.BaseError{constructor(e){super("Call bundle failed with status: ".concat(e.statusCode),{name:"BundleFailedError"}),Object.defineProperty(this,"result",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.result=e}}},763448,e=>{"use strict";e.s(["waitForCallsStatus",()=>d]);var t=e.i(569934),a=e.i(403058),r=e.i(467125),n=e.i(20101),s=e.i(976215),i=e.i(509486),o=e.i(204202),c=e.i(34888),l=e.i(509916);async function d(e,t){let d,{id:h,pollingInterval:m=e.pollingInterval,status:p=e=>{let{statusCode:t}=e;return 200===t||t>=300},retryCount:x=4,retryDelay:f=e=>{let{count:t}=e;return 200*~~(1<<t)},timeout:w=6e4,throwOnFailure:g=!1}=t,b=(0,c.stringify)(["waitForCallsStatus",e.uid,h]),{promise:y,resolve:v,reject:N}=(0,i.withResolvers)(),C=(0,n.observe)(b,{resolve:v,reject:N},t=>{let n=(0,s.poll)(async()=>{let s=e=>{clearTimeout(d),n(),e(),C()};try{let n=await (0,o.withRetry)(async()=>{let t=await (0,r.getAction)(e,l.getCallsStatus,"getCallsStatus")({id:h});if(g&&"failure"===t.status)throw new a.BundleFailedError(t);return t},{retryCount:x,delay:f});if(!p(n))return;s(()=>t.resolve(n))}catch(e){s(()=>t.reject(e))}},{interval:m,emitOnBegin:!0});return n});return d=w?setTimeout(()=>{C(),clearTimeout(d),N(new u({id:h}))},w):void 0,await y}class u extends t.BaseError{constructor({id:e}){super('Timed out while waiting for call bundle with id "'.concat(e,'" to be confirmed.'),{name:"WaitForCallsStatusTimeoutError"})}}},258116,e=>{"use strict";e.s(["Dashboard",()=>en],258116);var t=e.i(843476),a=e.i(271645),r=e.i(266027),n=e.i(700510);let s={contract:"0xC53341BDe576085aE2E59B4dF53CEEaA9d993cC0",toshi:"0xAC1Bd2486aAf3B5C0fc3Fd868558b082a531B2B4",tostr:"0x0000000000000000000000000000000000000000",dead:"0x000000000000000000000000000000000000dEaD"},i=[{type:"function",name:"balanceOf",stateMutability:"view",inputs:[{name:"",type:"address"}],outputs:[{type:"uint256"}]}],o=[{type:"function",name:"getOrderCount",stateMutability:"view",inputs:[],outputs:[{type:"uint256"}]},{type:"function",name:"orders",stateMutability:"view",inputs:[{name:"",type:"uint256"}],outputs:[{name:"ethSpent",type:"uint256"},{name:"toshiBought",type:"uint256"},{name:"entryPrice",type:"uint160"},{name:"sold",type:"bool"}]},{type:"event",name:"ToshiBought",inputs:[{name:"orderId",type:"uint256",indexed:!0},{name:"ethSpent",type:"uint256",indexed:!1},{name:"toshiBought",type:"uint256",indexed:!1}]},{type:"event",name:"ToshiSold",inputs:[{name:"orderId",type:"uint256",indexed:!0},{name:"ethReceived",type:"uint256",indexed:!1},{name:"profit",type:"uint256",indexed:!1}]},{type:"function",name:"triggerBuy",stateMutability:"nonpayable",inputs:[],outputs:[]},{type:"function",name:"process",stateMutability:"nonpayable",inputs:[],outputs:[]},{type:"function",name:"buy",stateMutability:"nonpayable",inputs:[],outputs:[]}];var c=e.i(912598),l=e.i(975948),d=e.i(675107);async function u(e,t){let{chain:a}=t,{id:r,name:n,nativeCurrency:s,rpcUrls:i,blockExplorers:o}=a;await e.request({method:"wallet_addEthereumChain",params:[{chainId:(0,d.numberToHex)(r),chainName:n,nativeCurrency:s,rpcUrls:i.default.http,blockExplorerUrls:o?Object.values(o).map(e=>{let{url:t}=e;return t}):void 0}]},{dedupe:!0,retryCount:0})}var h=e.i(289169),m=e.i(888794),p=e.i(823838);async function x(e){var t;return(null==(t=e.account)?void 0:t.type)==="local"?[e.account.address]:(await e.request({method:"eth_accounts"},{dedupe:!0})).map(e=>(0,p.checksumAddress)(e))}var f=e.i(509916),w=e.i(189991);async function g(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{account:a=e.account,chainId:r}=t,n=a?(0,w.parseAccount)(a):void 0,s=r?[null==n?void 0:n.address,[(0,d.numberToHex)(r)]]:[null==n?void 0:n.address],i=await e.request({method:"wallet_getCapabilities",params:s}),o={};for(let[e,t]of Object.entries(i))for(let[a,r]of(o[Number(e)]={},Object.entries(t)))"addSubAccount"===a&&(a="unstable_addSubAccount"),o[Number(e)][a]=r;return"number"==typeof r?o[r]:o}async function b(e){return await e.request({method:"wallet_getPermissions"},{dedupe:!0})}var y=e.i(829897),v=e.i(368941);async function N(e){return(await e.request({method:"eth_requestAccounts"},{dedupe:!0,retryCount:0})).map(e=>(0,p.getAddress)(e))}async function C(e,t){return e.request({method:"wallet_requestPermissions",params:[t]},{retryCount:0})}var j=e.i(460841),T=e.i(638291);async function E(e,t){let{id:a}=t;await e.request({method:"wallet_showCallsStatus",params:[a]})}var A=e.i(611573);async function S(e,t){let{account:a=e.account}=t;if(!a)throw new A.AccountNotFoundError({docsPath:"/docs/eip7702/signAuthorization"});let r=(0,w.parseAccount)(a);if(!r.signAuthorization)throw new A.AccountTypeNotSupportedError({docsPath:"/docs/eip7702/signAuthorization",metaMessages:["The `signAuthorization` Action does not support JSON-RPC Accounts."],type:r.type});let n=await (0,y.prepareAuthorization)(e,t);return r.signAuthorization(n)}var I=e.i(599976),q=e.i(942305),k=e.i(190521),R=e.i(467125),P=e.i(353464);async function B(e,t){var a,r,n,s;let{account:i=e.account,chain:o=e.chain,...c}=t;if(!i)throw new A.AccountNotFoundError({docsPath:"/docs/actions/wallet/signTransaction"});let u=(0,w.parseAccount)(i);(0,P.assertRequest)({account:u,...t});let h=await (0,R.getAction)(e,l.getChainId,"getChainId")({});null!==o&&(0,q.assertCurrentChain)({currentChainId:h,chain:o});let m=(null==o?void 0:o.formatters)||(null==(a=e.chain)?void 0:a.formatters),p=(null==m||null==(r=m.transactionRequest)?void 0:r.format)||k.formatTransactionRequest;return u.signTransaction?u.signTransaction({...c,chainId:h},{serializer:null==(s=e.chain)||null==(n=s.serializers)?void 0:n.transaction}):await e.request({method:"eth_signTransaction",params:[{...p(c),chainId:(0,d.numberToHex)(h),from:u.address}]},{retryCount:0})}var F=e.i(643506);async function M(e,t){let{account:a=e.account,domain:r,message:n,primaryType:s}=t;if(!a)throw new A.AccountNotFoundError({docsPath:"/docs/actions/wallet/signTypedData"});let i=(0,w.parseAccount)(a),o={EIP712Domain:(0,F.getTypesForEIP712Domain)({domain:r}),...t.types};if((0,F.validateTypedData)({domain:r,message:n,primaryType:s,types:o}),i.signTypedData)return i.signTypedData({domain:r,message:n,primaryType:s,types:o});let c=(0,F.serializeTypedData)({domain:r,message:n,primaryType:s,types:o});return e.request({method:"eth_signTypedData_v4",params:[i.address,c]},{retryCount:0})}async function z(e,t){let{id:a}=t;await e.request({method:"wallet_switchEthereumChain",params:[{chainId:(0,d.numberToHex)(a)}]},{retryCount:0})}var H=e.i(763448);async function _(e,t){return await e.request({method:"wallet_watchAsset",params:t},{retryCount:0})}var O=e.i(656679),D=e.i(807749);async function U(e,t){let{abi:a,account:r=e.account,address:n,args:s,dataSuffix:i,functionName:o,...c}=t;if(void 0===r)throw new A.AccountNotFoundError({docsPath:"/docs/contract/writeContract"});let l=r?(0,w.parseAccount)(r):null,d=(0,O.encodeFunctionData)({abi:a,args:s,functionName:o});try{return await (0,R.getAction)(e,m.sendTransaction,"sendTransaction")({data:"".concat(d).concat(i?i.replace("0x",""):""),to:n,account:l,...c})}catch(e){throw(0,D.getContractError)(e,{abi:a,address:n,args:s,docsPath:"/docs/contract/writeContract",functionName:o,sender:null==l?void 0:l.address})}}function L(e){return{addChain:t=>u(e,t),deployContract:t=>(function(e,t){let{abi:a,args:r,bytecode:n,...s}=t,i=(0,h.encodeDeployData)({abi:a,args:r,bytecode:n});return(0,m.sendTransaction)(e,{...s,...s.authorizationList?{to:null}:{},data:i})})(e,t),getAddresses:()=>x(e),getCallsStatus:t=>(0,f.getCallsStatus)(e,t),getCapabilities:t=>g(e,t),getChainId:()=>(0,l.getChainId)(e),getPermissions:()=>b(e),prepareAuthorization:t=>(0,y.prepareAuthorization)(e,t),prepareTransactionRequest:t=>(0,v.prepareTransactionRequest)(e,t),requestAddresses:()=>N(e),requestPermissions:t=>C(e,t),sendCalls:t=>(0,j.sendCalls)(e,t),sendRawTransaction:t=>(0,T.sendRawTransaction)(e,t),sendTransaction:t=>(0,m.sendTransaction)(e,t),showCallsStatus:t=>E(e,t),signAuthorization:t=>S(e,t),signMessage:t=>(0,I.signMessage)(e,t),signTransaction:t=>B(e,t),signTypedData:t=>M(e,t),switchChain:t=>z(e,t),waitForCallsStatus:t=>(0,H.waitForCallsStatus)(e,t),watchAsset:t=>_(e,t),writeContract:t=>U(e,t)}}var V=e.i(44563);async function Q(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(await (0,V.getConnectorClient)(e,t)).extend(L)}var K=e.i(789408),W=e.i(348396),G=e.i(982615),J=e.i(170778),$=e.i(210920),X=e.i(285973),Y=e.i(475254);let Z=(0,Y.default)("coins",[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]]),ee=(0,Y.default)("wallet",[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]]),et=(0,Y.default)("flame",[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]]),ea=(0,Y.default)("circle-check",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),er=(0,Y.default)("arrow-right-left",[["path",{d:"m16 3 4 4-4 4",key:"1x1c3m"}],["path",{d:"M20 7H4",key:"zbl0bi"}],["path",{d:"m8 21-4-4 4-4",key:"h9nckh"}],["path",{d:"M4 17h16",key:"g4d7ey"}]]);function en(){var e;let[l]=(0,a.useState)(8.6),{data:d}=function(){let e=(0,n.usePublicClient)();return(0,r.useQuery)({queryKey:["status"],queryFn:async()=>{if(!e)throw Error("No public client");let[t,a,r]=await Promise.all([e.getBalance({address:s.contract}),e.readContract({address:s.toshi,abi:i,functionName:"balanceOf",args:[s.contract]}),e.readContract({address:s.tostr,abi:i,functionName:"balanceOf",args:[s.dead]})]);return{eth:t,toshi:a,burned:r}},refetchInterval:3e4})}(),{data:u}=function(){let e=(0,n.usePublicClient)();return(0,r.useQuery)({queryKey:["orders"],queryFn:async()=>{if(!e)throw Error("No public client");let t=await e.readContract({address:s.contract,abi:o,functionName:"getOrderCount"}),a=[],r=[];for(let n=1;n<=Number(t);n++){let[t,i,c,l]=await e.readContract({address:s.contract,abi:o,functionName:"orders",args:[BigInt(n)]}),d={id:n,ethSpent:t,toshiBought:i,entryPrice:c,sold:l};(l?r:a).push(d)}return{active:a,completed:r,count:Number(t)}},refetchInterval:3e4})}(),{trigger:h}=function(){let{data:e}=function(){var e,t,r,n;let s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{query:i={},...o}=s,l=(0,$.useConfig)(o),d=(0,c.useQueryClient)(),{address:u,connector:h,status:m}=(0,G.useAccount)({config:l}),p=(0,J.useChainId)({config:l}),x=null!=(e=s.connector)?e:h,{queryKey:f,...w}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return{gcTime:0,async queryFn(a){let{queryKey:r}=a,{connector:n}=t,{connectorUid:s,scopeKey:i,...o}=r[1];return Q(e,{...o,connector:n})},queryKey:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{connector:t,...a}=e;return["walletClient",{...(0,K.filterQueryOptions)(a),connectorUid:null==t?void 0:t.uid}]}(t)}}(l,{...s,chainId:null!=(t=s.chainId)?t:p,connector:null!=(r=s.connector)?r:h}),g=!!(("connected"===m||"reconnecting"===m&&(null==x?void 0:x.getProvider))&&(null==(n=i.enabled)||n)),b=(0,a.useRef)(u);return(0,a.useEffect)(()=>{let e=b.current;!u&&e?(d.removeQueries({queryKey:f}),b.current=void 0):u!==e&&(d.invalidateQueries({queryKey:f}),b.current=u)},[u,d]),(0,W.useQuery)({...i,...w,queryKey:f,enabled:g,staleTime:1/0})}();return{trigger:async function(){let t;if(!e)throw Error("Connect wallet");for(let a of["triggerBuy","process","buy"])try{return await e.writeContract({address:s.contract,abi:o,functionName:a,args:[]})}catch(e){t=e}throw null!=t?t:Error("No compatible trigger function found")}}}(),[m,p]=(0,a.useState)("idle"),[x,f]=(0,a.useState)("ETH"),[w,g]=(0,a.useState)("active");return(0,t.jsxs)("div",{className:"py-8 sm:py-10 md:py-12",children:[(0,t.jsxs)("section",{className:"app-container",children:[(0,t.jsxs)("div",{className:"inline-flex items-center gap-2 text-xs px-2 py-1 rounded-full bg-[--color-muted] border border-white/10 mb-3",children:[(0,t.jsx)("span",{className:"inline-block h-1.5 w-1.5 rounded-full bg-[--color-accent]"}),"Live holdings"]}),(0,t.jsxs)("div",{className:"card p-4 sm:p-5 md:p-6",children:[(0,t.jsx)("h2",{className:"text-lg sm:text-xl font-semibold mb-4",children:"VirtualStrategy is currently holding"}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 auto-rows-fr",children:[(0,t.jsxs)("div",{className:"rounded-xl bg-[--color-muted] p-4 border border-white/10 h-full",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 text-sm text-white/80",children:[(0,t.jsx)(ee,{size:16})," ETH"]}),(0,t.jsx)("div",{className:"text-2xl font-semibold mt-1",children:"0"})]}),(0,t.jsxs)("div",{className:"rounded-xl bg-[--color-muted] p-4 border border-white/10 h-full",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 text-sm text-white/80",children:[(0,t.jsx)(Z,{size:16})," VIRTUAL"]}),(0,t.jsx)("div",{className:"text-2xl font-semibold mt-1",children:"0"})]}),(0,t.jsxs)("div",{className:"rounded-xl bg-[--color-muted] p-4 border border-white/10 h-full",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between text-xs text-white/70",children:[(0,t.jsx)("span",{children:"Progress to Next Purchase"}),(0,t.jsxs)("span",{children:[l,"%"]})]}),(0,t.jsx)("div",{className:"mt-3 h-2 rounded-full bg-black/30 overflow-hidden",children:(0,t.jsx)("div",{className:"h-2 bg-[--color-accent]",style:{width:"".concat(l,"%")}})}),(0,t.jsxs)("p",{className:"mt-3 text-xs text-white/70",children:["When the machine acquires the missing ",(0,t.jsx)("b",{children:"0 ETH"}),", the contract autobuys VIRTUAL."]})]}),(0,t.jsxs)("div",{className:"rounded-xl bg-[--color-muted] p-4 border border-white/10 h-full",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between text-xs text-white/70",children:[(0,t.jsxs)("span",{className:"inline-flex items-center gap-1",children:[(0,t.jsx)(et,{size:14})," Burned $VIRSTR"]}),(0,t.jsx)("span",{className:"inline-flex items-center text-[11px] px-2 py-0.5 rounded-full bg-white/5 border border-white/10",children:"0.73% of 1B"})]}),(0,t.jsx)("div",{className:"text-2xl font-semibold mt-2",children:"0"})]})]})]})]}),(0,t.jsxs)("section",{className:"card p-4 sm:p-5 md:p-6 mb-6 app-container",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between text-xs text-white/70",children:[(0,t.jsx)("span",{children:"Progress to Next Purchase"}),(0,t.jsx)("span",{children:"Current rewards: 0 ETH"})]}),(0,t.jsx)("div",{className:"mt-3 h-12 rounded-lg bg-[--color-muted] border border-white/10 flex items-center px-3",children:(0,t.jsxs)("span",{className:"text-xs text-white/70",children:["When the machine acquires the missing ",(0,t.jsx)("b",{children:"0 ETH"}),", the first entity to trigger the functions below will process the mechanism forward and earn a reward."]})}),(0,t.jsxs)("div",{className:"mt-4",children:[(0,t.jsx)("div",{className:"w-full h-2 bg-black/30 rounded-full overflow-hidden",children:(0,t.jsx)("div",{className:"h-2 bg-[--color-accent]",style:{width:"".concat(l,"%")}})}),(0,t.jsx)("button",{className:"btn-primary mt-3 w-full py-3 disabled:opacity-50",disabled:"pending"===m,onClick:async()=>{try{p("pending"),await h(),p("success")}catch(e){console.error(e),p("error")}finally{setTimeout(()=>p("idle"),4e3)}},children:"pending"===m?"Processing…":"success"===m?"Buy submitted":"error"===m?"Failed - retry":"Buy"})]})]}),(0,t.jsxs)("section",{className:"app-container mb-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,t.jsxs)("div",{className:"inline-flex rounded-full border border-white/10 bg-white/5 p-1 text-xs",children:[(0,t.jsx)("button",{className:"px-3 py-1 rounded-full ".concat("active"===w?"bg-[--color-accent] text-white":"hover:bg-white/10"),onClick:()=>g("active"),children:"Currently Holding"}),(0,t.jsx)("button",{className:"px-3 py-1 rounded-full ".concat("sold"===w?"bg-[--color-accent] text-white":"hover:bg-white/10"),onClick:()=>g("sold"),children:"Sold Pepe"})]}),(0,t.jsx)("span",{className:"text-xs text-white/60",children:"Orders"})]}),(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:null==(e="active"===w?null==u?void 0:u.active:null==u?void 0:u.completed)?void 0:e.slice(0,3).map(e=>(0,t.jsxs)("div",{className:"card p-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between text-xs text-white/70 mb-2",children:[(0,t.jsxs)("span",{children:["#",e.id]}),(0,t.jsx)("span",{className:"inline-flex items-center gap-1 px-2 py-0.5 rounded-full border border-white/10 bg-white/5",children:"active"===w?(0,t.jsx)(t.Fragment,{children:"Open"}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(ea,{size:12})," Sold"]})})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[(0,t.jsxs)("div",{className:"rounded-lg bg-[--color-muted] p-3 border border-white/10",children:[(0,t.jsx)("div",{className:"text-white/70 text-xs",children:"ETH Spent"}),(0,t.jsxs)("div",{className:"font-semibold mt-1",children:[Number((0,X.formatEther)(e.ethSpent)).toFixed(3)," Ξ"]})]}),(0,t.jsxs)("div",{className:"rounded-lg bg-[--color-muted] p-3 border border-white/10",children:[(0,t.jsx)("div",{className:"text-white/70 text-xs",children:"PEPE Bought"}),(0,t.jsx)("div",{className:"font-semibold mt-1",children:e.toshiBought.toString()})]}),(0,t.jsxs)("div",{className:"rounded-lg bg-[--color-muted] p-3 border border-white/10",children:[(0,t.jsx)("div",{className:"text-white/70 text-xs",children:"Est. Value (now)"}),(0,t.jsx)("div",{className:"font-semibold mt-1",children:"—"})]}),(0,t.jsxs)("div",{className:"rounded-lg bg-[--color-muted] p-3 border border-white/10",children:[(0,t.jsx)("div",{className:"text-white/70 text-xs",children:"Target to Sell"}),(0,t.jsx)("div",{className:"font-semibold mt-1",children:"—"})]})]}),"active"===w?(0,t.jsxs)("div",{className:"mt-3",children:[(0,t.jsx)("div",{className:"w-full h-2 bg-black/30 rounded-full overflow-hidden",children:(0,t.jsx)("div",{className:"h-2 bg-[--color-accent]",style:{width:"82%"}})}),(0,t.jsxs)("button",{className:"btn-secondary mt-3 w-full py-2 inline-flex items-center justify-center gap-1",children:[(0,t.jsx)(er,{size:14})," Sell"]})]}):null]},e.id))})]}),(0,t.jsxs)("section",{className:"card p-3 md:p-4 app-container",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between text-xs text-white/60 mb-3",children:[(0,t.jsx)("span",{children:"Market Chart"}),(0,t.jsxs)("div",{className:"inline-flex rounded-full border border-white/10 bg-white/5 p-1",children:[(0,t.jsx)("button",{className:"px-3 py-1 rounded-full text-xs ".concat("ETH"===x?"bg-[--color-accent] text-white":"hover:bg-white/10"),onClick:()=>f("ETH"),children:"ETH"}),(0,t.jsx)("button",{className:"px-3 py-1 rounded-full text-xs ".concat("VIRTUAL"===x?"bg-[--color-accent] text-white":"hover:bg-white/10"),onClick:()=>f("VIRTUAL"),children:"VIRTUAL"})]})]}),(0,t.jsx)("div",{className:"aspect-[16/9] w-full overflow-hidden rounded-md border border-white/10",children:"ETH"===x?(0,t.jsx)("iframe",{className:"w-full h-full",src:"https://www.tradingview.com/widgetembed/?symbol=COINBASE:ETHUSD&interval=60&hidesidetoolbar=1&symboledit=1&saveimage=0&toolbarbg=rgba(0,0,0,0)&hideideas=1&studies=[]&theme=dark&style=1&timezone=Etc/UTC&withdateranges=1&allow_symbol_change=1#",title:"ETH Chart"}):(0,t.jsx)("iframe",{className:"w-full h-full",src:"https://dexscreener.com/base/0xc4da0cb0e9cc712ab8b2b90d282bd55a05518d76?embed=1&theme=dark",title:"Dexscreener"})})]}),(0,t.jsx)("div",{className:"h-6"})]})}}]);