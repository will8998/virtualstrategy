module.exports=[108219,a=>{"use strict";a.s(["__assign",()=>d,"__asyncDelegator",()=>t,"__asyncGenerator",()=>s,"__asyncValues",()=>u,"__await",()=>r,"__awaiter",()=>i,"__classPrivateFieldGet",()=>y,"__classPrivateFieldSet",()=>z,"__createBinding",()=>k,"__decorate",()=>f,"__exportStar",()=>l,"__extends",()=>c,"__generator",()=>j,"__importDefault",()=>x,"__importStar",()=>w,"__makeTemplateObject",()=>v,"__metadata",()=>h,"__param",()=>g,"__read",()=>o,"__rest",()=>e,"__spread",()=>p,"__spreadArrays",()=>q,"__values",()=>m]);var b=function(a,c){return(b=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])})(a,c)};function c(a,c){function d(){this.constructor=a}b(a,c),a.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}var d=function(){return(d=Object.assign||function(a){for(var b,c=1,d=arguments.length;c<d;c++)for(var e in b=arguments[c])Object.prototype.hasOwnProperty.call(b,e)&&(a[e]=b[e]);return a}).apply(this,arguments)};function e(a,b){var c={};for(var d in a)Object.prototype.hasOwnProperty.call(a,d)&&0>b.indexOf(d)&&(c[d]=a[d]);if(null!=a&&"function"==typeof Object.getOwnPropertySymbols)for(var e=0,d=Object.getOwnPropertySymbols(a);e<d.length;e++)0>b.indexOf(d[e])&&Object.prototype.propertyIsEnumerable.call(a,d[e])&&(c[d[e]]=a[d[e]]);return c}function f(a,b,c,d){var e,f=arguments.length,g=f<3?b:null===d?d=Object.getOwnPropertyDescriptor(b,c):d;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)g=Reflect.decorate(a,b,c,d);else for(var h=a.length-1;h>=0;h--)(e=a[h])&&(g=(f<3?e(g):f>3?e(b,c,g):e(b,c))||g);return f>3&&g&&Object.defineProperty(b,c,g),g}function g(a,b){return function(c,d){b(c,d,a)}}function h(a,b){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(a,b)}function i(a,b,c,d){return new(c||(c=Promise))(function(e,f){function g(a){try{i(d.next(a))}catch(a){f(a)}}function h(a){try{i(d.throw(a))}catch(a){f(a)}}function i(a){var b;a.done?e(a.value):((b=a.value)instanceof c?b:new c(function(a){a(b)})).then(g,h)}i((d=d.apply(a,b||[])).next())})}function j(a,b){var c,d,e,f,g={label:0,sent:function(){if(1&e[0])throw e[1];return e[1]},trys:[],ops:[]};return f={next:h(0),throw:h(1),return:h(2)},"function"==typeof Symbol&&(f[Symbol.iterator]=function(){return this}),f;function h(f){return function(h){var i=[f,h];if(c)throw TypeError("Generator is already executing.");for(;g;)try{if(c=1,d&&(e=2&i[0]?d.return:i[0]?d.throw||((e=d.return)&&e.call(d),0):d.next)&&!(e=e.call(d,i[1])).done)return e;switch(d=0,e&&(i=[2&i[0],e.value]),i[0]){case 0:case 1:e=i;break;case 4:return g.label++,{value:i[1],done:!1};case 5:g.label++,d=i[1],i=[0];continue;case 7:i=g.ops.pop(),g.trys.pop();continue;default:if(!(e=(e=g.trys).length>0&&e[e.length-1])&&(6===i[0]||2===i[0])){g=0;continue}if(3===i[0]&&(!e||i[1]>e[0]&&i[1]<e[3])){g.label=i[1];break}if(6===i[0]&&g.label<e[1]){g.label=e[1],e=i;break}if(e&&g.label<e[2]){g.label=e[2],g.ops.push(i);break}e[2]&&g.ops.pop(),g.trys.pop();continue}i=b.call(a,g)}catch(a){i=[6,a],d=0}finally{c=e=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}}}function k(a,b,c,d){void 0===d&&(d=c),a[d]=b[c]}function l(a,b){for(var c in a)"default"===c||b.hasOwnProperty(c)||(b[c]=a[c])}function m(a){var b="function"==typeof Symbol&&Symbol.iterator,c=b&&a[b],d=0;if(c)return c.call(a);if(a&&"number"==typeof a.length)return{next:function(){return a&&d>=a.length&&(a=void 0),{value:a&&a[d++],done:!a}}};throw TypeError(b?"Object is not iterable.":"Symbol.iterator is not defined.")}function o(a,b){var c="function"==typeof Symbol&&a[Symbol.iterator];if(!c)return a;var d,e,f=c.call(a),g=[];try{for(;(void 0===b||b-- >0)&&!(d=f.next()).done;)g.push(d.value)}catch(a){e={error:a}}finally{try{d&&!d.done&&(c=f.return)&&c.call(f)}finally{if(e)throw e.error}}return g}function p(){for(var a=[],b=0;b<arguments.length;b++)a=a.concat(o(arguments[b]));return a}function q(){for(var a=0,b=0,c=arguments.length;b<c;b++)a+=arguments[b].length;for(var d=Array(a),e=0,b=0;b<c;b++)for(var f=arguments[b],g=0,h=f.length;g<h;g++,e++)d[e]=f[g];return d}function r(a){return this instanceof r?(this.v=a,this):new r(a)}function s(a,b,c){if(!Symbol.asyncIterator)throw TypeError("Symbol.asyncIterator is not defined.");var d,e=c.apply(a,b||[]),f=[];return d={},g("next"),g("throw"),g("return"),d[Symbol.asyncIterator]=function(){return this},d;function g(a){e[a]&&(d[a]=function(b){return new Promise(function(c,d){f.push([a,b,c,d])>1||h(a,b)})})}function h(a,b){try{var c;(c=e[a](b)).value instanceof r?Promise.resolve(c.value.v).then(i,j):k(f[0][2],c)}catch(a){k(f[0][3],a)}}function i(a){h("next",a)}function j(a){h("throw",a)}function k(a,b){a(b),f.shift(),f.length&&h(f[0][0],f[0][1])}}function t(a){var b,c;return b={},d("next"),d("throw",function(a){throw a}),d("return"),b[Symbol.iterator]=function(){return this},b;function d(d,e){b[d]=a[d]?function(b){return(c=!c)?{value:r(a[d](b)),done:"return"===d}:e?e(b):b}:e}}function u(a){if(!Symbol.asyncIterator)throw TypeError("Symbol.asyncIterator is not defined.");var b,c=a[Symbol.asyncIterator];return c?c.call(a):(a=m(a),b={},d("next"),d("throw"),d("return"),b[Symbol.asyncIterator]=function(){return this},b);function d(c){b[c]=a[c]&&function(b){return new Promise(function(d,e){var f,g,h;f=d,g=e,h=(b=a[c](b)).done,Promise.resolve(b.value).then(function(a){f({value:a,done:h})},g)})}}}function v(a,b){return Object.defineProperty?Object.defineProperty(a,"raw",{value:b}):a.raw=b,a}function w(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)Object.hasOwnProperty.call(a,c)&&(b[c]=a[c]);return b.default=a,b}function x(a){return a&&a.__esModule?a:{default:a}}function y(a,b){if(!b.has(a))throw TypeError("attempted to get private field on non-instance");return b.get(a)}function z(a,b,c){if(!b.has(a))throw TypeError("attempted to set private field on non-instance");return b.set(a,c),c}},708029,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.delay=void 0,c.delay=function(a){return new Promise(b=>{setTimeout(()=>{b(!0)},a)})}},145775,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.ONE_THOUSAND=c.ONE_HUNDRED=void 0,c.ONE_HUNDRED=100,c.ONE_THOUSAND=1e3},159162,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.ONE_YEAR=c.FOUR_WEEKS=c.THREE_WEEKS=c.TWO_WEEKS=c.ONE_WEEK=c.THIRTY_DAYS=c.SEVEN_DAYS=c.FIVE_DAYS=c.THREE_DAYS=c.ONE_DAY=c.TWENTY_FOUR_HOURS=c.TWELVE_HOURS=c.SIX_HOURS=c.THREE_HOURS=c.ONE_HOUR=c.SIXTY_MINUTES=c.THIRTY_MINUTES=c.TEN_MINUTES=c.FIVE_MINUTES=c.ONE_MINUTE=c.SIXTY_SECONDS=c.THIRTY_SECONDS=c.TEN_SECONDS=c.FIVE_SECONDS=c.ONE_SECOND=void 0,c.ONE_SECOND=1,c.FIVE_SECONDS=5,c.TEN_SECONDS=10,c.THIRTY_SECONDS=30,c.SIXTY_SECONDS=60,c.ONE_MINUTE=c.SIXTY_SECONDS,c.FIVE_MINUTES=5*c.ONE_MINUTE,c.TEN_MINUTES=10*c.ONE_MINUTE,c.THIRTY_MINUTES=30*c.ONE_MINUTE,c.SIXTY_MINUTES=60*c.ONE_MINUTE,c.ONE_HOUR=c.SIXTY_MINUTES,c.THREE_HOURS=3*c.ONE_HOUR,c.SIX_HOURS=6*c.ONE_HOUR,c.TWELVE_HOURS=12*c.ONE_HOUR,c.TWENTY_FOUR_HOURS=24*c.ONE_HOUR,c.ONE_DAY=c.TWENTY_FOUR_HOURS,c.THREE_DAYS=3*c.ONE_DAY,c.FIVE_DAYS=5*c.ONE_DAY,c.SEVEN_DAYS=7*c.ONE_DAY,c.THIRTY_DAYS=30*c.ONE_DAY,c.ONE_WEEK=c.SEVEN_DAYS,c.TWO_WEEKS=2*c.ONE_WEEK,c.THREE_WEEKS=3*c.ONE_WEEK,c.FOUR_WEEKS=4*c.ONE_WEEK,c.ONE_YEAR=365*c.ONE_DAY},553628,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0});let d=a.r(108219);d.__exportStar(a.r(145775),c),d.__exportStar(a.r(159162),c)},465290,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.fromMiliseconds=c.toMiliseconds=void 0;let d=a.r(553628);c.toMiliseconds=function(a){return a*d.ONE_THOUSAND},c.fromMiliseconds=function(a){return Math.floor(a/d.ONE_THOUSAND)}},486805,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0});let d=a.r(108219);d.__exportStar(a.r(708029),c),d.__exportStar(a.r(465290),c)},835315,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.Watch=void 0;class d{constructor(){this.timestamps=new Map}start(a){if(this.timestamps.has(a))throw Error(`Watch already started for label: ${a}`);this.timestamps.set(a,{started:Date.now()})}stop(a){let b=this.get(a);if(void 0!==b.elapsed)throw Error(`Watch already stopped for label: ${a}`);let c=Date.now()-b.started;this.timestamps.set(a,{started:b.started,elapsed:c})}get(a){let b=this.timestamps.get(a);if(void 0===b)throw Error(`No timestamp found for label: ${a}`);return b}elapsed(a){let b=this.get(a);return b.elapsed||Date.now()-b.started}}c.Watch=d,c.default=d},229323,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.IWatch=void 0,c.IWatch=class{}},230635,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),a.r(108219).__exportStar(a.r(229323),c)},673620,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0});let d=a.r(108219);d.__exportStar(a.r(486805),c),d.__exportStar(a.r(835315),c),d.__exportStar(a.r(230635),c),d.__exportStar(a.r(553628),c)},679628,(a,b,c)=>{"use strict";function d(a){}function e(a){let b=d(a);if(!b)throw Error(`${a} is not defined in Window`);return b}Object.defineProperty(c,"__esModule",{value:!0}),c.getLocalStorage=c.getLocalStorageOrThrow=c.getCrypto=c.getCryptoOrThrow=c.getLocation=c.getLocationOrThrow=c.getNavigator=c.getNavigatorOrThrow=c.getDocument=c.getDocumentOrThrow=c.getFromWindowOrThrow=c.getFromWindow=void 0,c.getFromWindow=d,c.getFromWindowOrThrow=e,c.getDocumentOrThrow=function(){return e("document")},c.getDocument=function(){return d("document")},c.getNavigatorOrThrow=function(){return e("navigator")},c.getNavigator=function(){return d("navigator")},c.getLocationOrThrow=function(){return e("location")},c.getLocation=function(){return d("location")},c.getCryptoOrThrow=function(){return e("crypto")},c.getCrypto=function(){return d("crypto")},c.getLocalStorageOrThrow=function(){return e("localStorage")},c.getLocalStorage=function(){return d("localStorage")}},741721,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.getWindowMetadata=void 0;let d=a.r(679628);c.getWindowMetadata=function(){let a,b,c;try{a=d.getDocumentOrThrow(),b=d.getLocationOrThrow()}catch(a){return null}function e(...b){let c=a.getElementsByTagName("meta");for(let a=0;a<c.length;a++){let d=c[a],e=["itemprop","property","name"].map(a=>d.getAttribute(a)).filter(a=>!!a&&b.includes(a));if(e.length&&e){let a=d.getAttribute("content");if(a)return a}}return""}let f=((c=e("name","og:site_name","og:title","twitter:title"))||(c=a.title),c),g=e("description","og:description","twitter:description","keywords"),h=b.origin;return{description:g,url:h,icons:function(){let c=a.getElementsByTagName("link"),d=[];for(let a=0;a<c.length;a++){let e=c[a],f=e.getAttribute("rel");if(f&&f.toLowerCase().indexOf("icon")>-1){let a=e.getAttribute("href");if(a)if(-1===a.toLowerCase().indexOf("https:")&&-1===a.toLowerCase().indexOf("http:")&&0!==a.indexOf("//")){let c=b.protocol+"//"+b.host;if(0===a.indexOf("/"))c+=a;else{let d=b.pathname.split("/");d.pop(),c+=d.join("/")+"/"+a}d.push(c)}else if(0===a.indexOf("//")){let c=b.protocol+a;d.push(c)}else d.push(a)}}return d}(),name:f}}},15388,130934,a=>{"use strict";a.s(["detect",()=>k],15388);var b=function(a,b,c){if(c||2==arguments.length)for(var d,e=0,f=b.length;e<f;e++)!d&&e in b||(d||(d=Array.prototype.slice.call(b,0,e)),d[e]=b[e]);return a.concat(d||Array.prototype.slice.call(b))},c=function(a,b,c){this.name=a,this.version=b,this.os=c,this.type="browser"},d=function(a){this.version=a,this.type="node",this.name="node",this.os=process.platform},e=function(a,b,c,d){this.name=a,this.version=b,this.os=c,this.bot=d,this.type="bot-device"},f=function(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null},g=function(){this.type="react-native",this.name="react-native",this.version=null,this.os=null},h=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,i=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["pie",/^Microsoft Pocket Internet Explorer\/(\d+\.\d+)$/],["pie",/^Mozilla\/\d\.\d+\s\(compatible;\s(?:MSP?IE|MSInternet Explorer) (\d+\.\d+);.*Windows CE.*\)$/],["netfront",/^Mozilla\/\d\.\d+.*NetFront\/(\d.\d)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/]],j=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Windows CE",/Windows CE|WinCE|Microsoft Pocket Internet Explorer/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function k(a){return a?l(a):"undefined"==typeof document&&"undefined"!=typeof navigator&&"ReactNative"===navigator.product?new g:"undefined"!=typeof navigator?l(navigator.userAgent):"undefined"!=typeof process&&process.version?new d(process.version.slice(1)):null}function l(a){var d=""!==a&&i.reduce(function(b,c){var d=c[0],e=c[1];if(b)return b;var f=e.exec(a);return!!f&&[d,f]},!1);if(!d)return null;var g=d[0],k=d[1];if("searchbot"===g)return new f;var l=k[1]&&k[1].split(".").join("_").split("_").slice(0,3);l?l.length<3&&(l=b(b([],l,!0),function(a){for(var b=[],c=0;c<a;c++)b.push("0");return b}(3-l.length),!0)):l=[];var m=l.join("."),o=function(a){for(var b=0,c=j.length;b<c;b++){var d=j[b],e=d[0];if(d[1].exec(a))return e}return null}(a),p=h.exec(a);return p&&p[1]?new e(g,m,o,p[1]):new c(g,m,o)}a.s(["default",()=>m],130934);let m=function(a){if(a.length>=255)throw TypeError("Alphabet too long");let b=new Uint8Array(256);for(let a=0;a<b.length;a++)b[a]=255;for(let c=0;c<a.length;c++){let d=a.charAt(c),e=d.charCodeAt(0);if(255!==b[e])throw TypeError(d+" is ambiguous");b[e]=c}let c=a.length,d=a.charAt(0),e=Math.log(c)/Math.log(256),f=Math.log(256)/Math.log(c);function g(a){if("string"!=typeof a)throw TypeError("Expected String");if(0===a.length)return new Uint8Array;let f=0,g=0,h=0;for(;a[f]===d;)g++,f++;let i=(a.length-f)*e+1>>>0,j=new Uint8Array(i);for(;f<a.length;){let d=a.charCodeAt(f);if(d>255)return;let e=b[d];if(255===e)return;let g=0;for(let a=i-1;(0!==e||g<h)&&-1!==a;a--,g++)e+=c*j[a]>>>0,j[a]=e%256>>>0,e=e/256>>>0;if(0!==e)throw Error("Non-zero carry");h=g,f++}let k=i-h;for(;k!==i&&0===j[k];)k++;let l=new Uint8Array(g+(i-k)),m=g;for(;k!==i;)l[m++]=j[k++];return l}return{encode:function(b){if(b instanceof Uint8Array||(ArrayBuffer.isView(b)?b=new Uint8Array(b.buffer,b.byteOffset,b.byteLength):Array.isArray(b)&&(b=Uint8Array.from(b))),!(b instanceof Uint8Array))throw TypeError("Expected Uint8Array");if(0===b.length)return"";let e=0,g=0,h=0,i=b.length;for(;h!==i&&0===b[h];)h++,e++;let j=(i-h)*f+1>>>0,k=new Uint8Array(j);for(;h!==i;){let a=b[h],d=0;for(let b=j-1;(0!==a||d<g)&&-1!==b;b--,d++)a+=256*k[b]>>>0,k[b]=a%c>>>0,a=a/c>>>0;if(0!==a)throw Error("Non-zero carry");g=d,h++}let l=j-g;for(;l!==j&&0===k[l];)l++;let m=d.repeat(e);for(;l<j;++l)m+=a.charAt(k[l]);return m},decodeUnsafe:g,decode:function(a){let b=g(a);if(b)return b;throw Error("Non-base"+c+" character")}}}("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz")},920275,a=>{"use strict";function b(a){if("string"!=typeof a)throw Error(`Cannot safe json parse value of type ${typeof a}`);try{return JSON.parse(a.replace(/([\[:])?(\d{17,}|(?:[9](?:[1-9]07199254740991|0[1-9]7199254740991|00[8-9]199254740991|007[2-9]99254740991|007199[3-9]54740991|0071992[6-9]4740991|00719925[5-9]740991|007199254[8-9]40991|0071992547[5-9]0991|00719925474[1-9]991|00719925474099[2-9])))([,\}\]])/g,'$1"$2n"$3'),(a,b)=>"string"==typeof b&&b.match(/^\d+n$/)?BigInt(b.substring(0,b.length-1)):b)}catch(b){return a}}function c(a){return"string"==typeof a?a:JSON.stringify(a,(a,b)=>"bigint"==typeof b?b.toString()+"n":b)||""}a.s(["safeJsonParse",()=>b,"safeJsonStringify",()=>c])},832819,a=>{"use strict";a.s(["decodeJWT",()=>bt,"encodeIss",()=>bs,"generateKeyPair",()=>bu,"signJWT",()=>bv]);var b=a.i(673620),c=a.i(920275);function d(a,...b){if(!(a instanceof Uint8Array||ArrayBuffer.isView(a)&&"Uint8Array"===a.constructor.name))throw Error("Uint8Array expected");if(b.length>0&&!b.includes(a.length))throw Error("Uint8Array expected of length "+b+", got length="+a.length)}function e(a,b=!0){if(a.destroyed)throw Error("Hash instance has been destroyed");if(b&&a.finished)throw Error("Hash#digest() has already been called")}let f="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0,g=a=>new DataView(a.buffer,a.byteOffset,a.byteLength);function h(a){return"string"==typeof a&&(a=function(a){if("string"!=typeof a)throw Error("utf8ToBytes expected string, got "+typeof a);return new Uint8Array(new TextEncoder().encode(a))}(a)),d(a),a}class i{clone(){return this._cloneInto()}}function j(a=32){if(f&&"function"==typeof f.getRandomValues)return f.getRandomValues(new Uint8Array(a));if(f&&"function"==typeof f.randomBytes)return f.randomBytes(a);throw Error("crypto.getRandomValues must be defined")}class k extends i{constructor(a,b,c,d){super(),this.blockLen=a,this.outputLen=b,this.padOffset=c,this.isLE=d,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(a),this.view=g(this.buffer)}update(a){e(this);let{view:b,buffer:c,blockLen:d}=this,f=(a=h(a)).length;for(let e=0;e<f;){let h=Math.min(d-this.pos,f-e);if(h===d){let b=g(a);for(;d<=f-e;e+=d)this.process(b,e);continue}c.set(a.subarray(e,e+h),this.pos),this.pos+=h,e+=h,this.pos===d&&(this.process(b,0),this.pos=0)}return this.length+=a.length,this.roundClean(),this}digestInto(a){e(this),function(a,b){d(a);let c=b.outputLen;if(a.length<c)throw Error("digestInto() expects output buffer of length at least "+c)}(a,this),this.finished=!0;let{buffer:b,view:c,blockLen:f,isLE:h}=this,{pos:i}=this;b[i++]=128,this.buffer.subarray(i).fill(0),this.padOffset>f-i&&(this.process(c,0),i=0);for(let a=i;a<f;a++)b[a]=0;(function(a,b,c,d){if("function"==typeof a.setBigUint64)return a.setBigUint64(b,c,d);let e=BigInt(32),f=BigInt(0xffffffff),g=Number(c>>e&f),h=Number(c&f),i=4*!!d,j=4*!d;a.setUint32(b+i,g,d),a.setUint32(b+j,h,d)})(c,f-8,BigInt(8*this.length),h),this.process(c,0);let j=g(a),k=this.outputLen;if(k%4)throw Error("_sha2: outputLen should be aligned to 32bit");let l=k/4,m=this.get();if(l>m.length)throw Error("_sha2: outputLen bigger than state");for(let a=0;a<l;a++)j.setUint32(4*a,m[a],h)}digest(){let{buffer:a,outputLen:b}=this;this.digestInto(a);let c=a.slice(0,b);return this.destroy(),c}_cloneInto(a){a||(a=new this.constructor),a.set(...this.get());let{blockLen:b,buffer:c,length:d,finished:e,destroyed:f,pos:g}=this;return a.length=d,a.pos=g,a.finished=e,a.destroyed=f,d%b&&a.buffer.set(c),a}}let l=BigInt(0x100000000-1),m=BigInt(32),o={split:function(a,b=!1){let c=new Uint32Array(a.length),d=new Uint32Array(a.length);for(let e=0;e<a.length;e++){let{h:f,l:g}=function(a,b=!1){return b?{h:Number(a&l),l:Number(a>>m&l)}:{h:0|Number(a>>m&l),l:0|Number(a&l)}}(a[e],b);[c[e],d[e]]=[f,g]}return[c,d]},shrSH:(a,b,c)=>a>>>c,shrSL:(a,b,c)=>a<<32-c|b>>>c,rotrSH:(a,b,c)=>a>>>c|b<<32-c,rotrSL:(a,b,c)=>a<<32-c|b>>>c,rotrBH:(a,b,c)=>a<<64-c|b>>>c-32,rotrBL:(a,b,c)=>a>>>c-32|b<<64-c,add:function(a,b,c,d){let e=(b>>>0)+(d>>>0);return{h:a+c+(e/0x100000000|0)|0,l:0|e}},add3L:(a,b,c)=>(a>>>0)+(b>>>0)+(c>>>0),add3H:(a,b,c,d)=>b+c+d+(a/0x100000000|0)|0,add4L:(a,b,c,d)=>(a>>>0)+(b>>>0)+(c>>>0)+(d>>>0),add4H:(a,b,c,d,e)=>b+c+d+e+(a/0x100000000|0)|0,add5H:(a,b,c,d,e,f)=>b+c+d+e+f+(a/0x100000000|0)|0,add5L:(a,b,c,d,e)=>(a>>>0)+(b>>>0)+(c>>>0)+(d>>>0)+(e>>>0)},[p,q]=o.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(a=>BigInt(a))),r=new Uint32Array(80),s=new Uint32Array(80);class t extends k{constructor(){super(128,64,16,!1),this.Ah=0x6a09e667,this.Al=-0xc4336f8,this.Bh=-0x4498517b,this.Bl=-0x7b3558c5,this.Ch=0x3c6ef372,this.Cl=-0x16b07d5,this.Dh=-0x5ab00ac6,this.Dl=0x5f1d36f1,this.Eh=0x510e527f,this.El=-0x52197d2f,this.Fh=-0x64fa9774,this.Fl=0x2b3e6c1f,this.Gh=0x1f83d9ab,this.Gl=-0x4be4295,this.Hh=0x5be0cd19,this.Hl=0x137e2179}get(){let{Ah:a,Al:b,Bh:c,Bl:d,Ch:e,Cl:f,Dh:g,Dl:h,Eh:i,El:j,Fh:k,Fl:l,Gh:m,Gl:o,Hh:p,Hl:q}=this;return[a,b,c,d,e,f,g,h,i,j,k,l,m,o,p,q]}set(a,b,c,d,e,f,g,h,i,j,k,l,m,o,p,q){this.Ah=0|a,this.Al=0|b,this.Bh=0|c,this.Bl=0|d,this.Ch=0|e,this.Cl=0|f,this.Dh=0|g,this.Dl=0|h,this.Eh=0|i,this.El=0|j,this.Fh=0|k,this.Fl=0|l,this.Gh=0|m,this.Gl=0|o,this.Hh=0|p,this.Hl=0|q}process(a,b){for(let c=0;c<16;c++,b+=4)r[c]=a.getUint32(b),s[c]=a.getUint32(b+=4);for(let a=16;a<80;a++){let b=0|r[a-15],c=0|s[a-15],d=o.rotrSH(b,c,1)^o.rotrSH(b,c,8)^o.shrSH(b,c,7),e=o.rotrSL(b,c,1)^o.rotrSL(b,c,8)^o.shrSL(b,c,7),f=0|r[a-2],g=0|s[a-2],h=o.rotrSH(f,g,19)^o.rotrBH(f,g,61)^o.shrSH(f,g,6),i=o.rotrSL(f,g,19)^o.rotrBL(f,g,61)^o.shrSL(f,g,6),j=o.add4L(e,i,s[a-7],s[a-16]),k=o.add4H(j,d,h,r[a-7],r[a-16]);r[a]=0|k,s[a]=0|j}let{Ah:c,Al:d,Bh:e,Bl:f,Ch:g,Cl:h,Dh:i,Dl:j,Eh:k,El:l,Fh:m,Fl:t,Gh:u,Gl:v,Hh:w,Hl:x}=this;for(let a=0;a<80;a++){let b=o.rotrSH(k,l,14)^o.rotrSH(k,l,18)^o.rotrBH(k,l,41),y=o.rotrSL(k,l,14)^o.rotrSL(k,l,18)^o.rotrBL(k,l,41),z=k&m^~k&u,A=l&t^~l&v,B=o.add5L(x,y,A,q[a],s[a]),C=o.add5H(B,w,b,z,p[a],r[a]),D=0|B,E=o.rotrSH(c,d,28)^o.rotrBH(c,d,34)^o.rotrBH(c,d,39),F=o.rotrSL(c,d,28)^o.rotrBL(c,d,34)^o.rotrBL(c,d,39),G=c&e^c&g^e&g,H=d&f^d&h^f&h;w=0|u,x=0|v,u=0|m,v=0|t,m=0|k,t=0|l,({h:k,l:l}=o.add(0|i,0|j,0|C,0|D)),i=0|g,j=0|h,g=0|e,h=0|f,e=0|c,f=0|d;let I=o.add3L(D,F,H);c=o.add3H(I,C,E,G),d=0|I}({h:c,l:d}=o.add(0|this.Ah,0|this.Al,0|c,0|d)),({h:e,l:f}=o.add(0|this.Bh,0|this.Bl,0|e,0|f)),({h:g,l:h}=o.add(0|this.Ch,0|this.Cl,0|g,0|h)),({h:i,l:j}=o.add(0|this.Dh,0|this.Dl,0|i,0|j)),({h:k,l:l}=o.add(0|this.Eh,0|this.El,0|k,0|l)),({h:m,l:t}=o.add(0|this.Fh,0|this.Fl,0|m,0|t)),({h:u,l:v}=o.add(0|this.Gh,0|this.Gl,0|u,0|v)),({h:w,l:x}=o.add(0|this.Hh,0|this.Hl,0|w,0|x)),this.set(c,d,e,f,g,h,i,j,k,l,m,t,u,v,w,x)}roundClean(){r.fill(0),s.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}let u=function(a){let b=b=>a().update(h(b)).digest(),c=a();return b.outputLen=c.outputLen,b.blockLen=c.blockLen,b.create=()=>a(),b}(()=>new t),v=BigInt(0),w=BigInt(1),x=BigInt(2);function y(a){return a instanceof Uint8Array||ArrayBuffer.isView(a)&&"Uint8Array"===a.constructor.name}function z(a){if(!y(a))throw Error("Uint8Array expected")}function A(a,b){if("boolean"!=typeof b)throw Error(a+" boolean expected, got "+b)}let B=Array.from({length:256},(a,b)=>b.toString(16).padStart(2,"0"));function C(a){z(a);let b="";for(let c=0;c<a.length;c++)b+=B[a[c]];return b}function D(a){if("string"!=typeof a)throw Error("hex string expected, got "+typeof a);return""===a?v:BigInt("0x"+a)}let E={_0:48,_9:57,A:65,F:70,a:97,f:102};function F(a){return a>=E._0&&a<=E._9?a-E._0:a>=E.A&&a<=E.F?a-(E.A-10):a>=E.a&&a<=E.f?a-(E.a-10):void 0}function G(a){if("string"!=typeof a)throw Error("hex string expected, got "+typeof a);let b=a.length,c=b/2;if(b%2)throw Error("hex string expected, got unpadded hex of length "+b);let d=new Uint8Array(c);for(let b=0,e=0;b<c;b++,e+=2){let c=F(a.charCodeAt(e)),f=F(a.charCodeAt(e+1));if(void 0===c||void 0===f)throw Error('hex string expected, got non-hex character "'+(a[e]+a[e+1])+'" at index '+e);d[b]=16*c+f}return d}function H(a){return z(a),D(C(Uint8Array.from(a).reverse()))}function I(a,b){return G(a.toString(16).padStart(2*b,"0"))}function J(a,b){return I(a,b).reverse()}function K(a,b,c){let d;if("string"==typeof b)try{d=G(b)}catch(b){throw Error(a+" must be hex string or Uint8Array, cause: "+b)}else if(y(b))d=Uint8Array.from(b);else throw Error(a+" must be hex string or Uint8Array");let e=d.length;if("number"==typeof c&&e!==c)throw Error(a+" of length "+c+" expected, got "+e);return d}function L(...a){let b=0;for(let c=0;c<a.length;c++){let d=a[c];z(d),b+=d.length}let c=new Uint8Array(b);for(let b=0,d=0;b<a.length;b++){let e=a[b];c.set(e,d),d+=e.length}return c}let M=a=>"bigint"==typeof a&&v<=a;function N(a,b,c,d){if(!(M(b)&&M(c)&&M(d))||!(c<=b)||!(b<d))throw Error("expected valid "+a+": "+c+" <= n < "+d+", got "+b)}let O={bigint:a=>"bigint"==typeof a,function:a=>"function"==typeof a,boolean:a=>"boolean"==typeof a,string:a=>"string"==typeof a,stringOrUint8Array:a=>"string"==typeof a||y(a),isSafeInteger:a=>Number.isSafeInteger(a),array:a=>Array.isArray(a),field:(a,b)=>b.Fp.isValid(a),hash:a=>"function"==typeof a&&Number.isSafeInteger(a.outputLen)};function P(a,b,c={}){let d=(b,c,d)=>{let e=O[c];if("function"!=typeof e)throw Error("invalid validator function");let f=a[b];if(!(d&&void 0===f)&&!e(f,a))throw Error("param "+String(b)+" is invalid. Expected "+c+", got "+f)};for(let[a,c]of Object.entries(b))d(a,c,!1);for(let[a,b]of Object.entries(c))d(a,b,!0);return a}function Q(a){let b=new WeakMap;return(c,...d)=>{let e=b.get(c);if(void 0!==e)return e;let f=a(c,...d);return b.set(c,f),f}}let R=BigInt(0),S=BigInt(1),T=BigInt(2),U=BigInt(3),V=BigInt(4),W=BigInt(5),X=BigInt(8);function Y(a,b){let c=a%b;return c>=R?c:b+c}function Z(a,b,c){let d=a;for(;b-- >R;)d*=d,d%=c;return d}function $(a,b){if(a===R)throw Error("invert: expected non-zero number");if(b<=R)throw Error("invert: expected positive modulus, got "+b);let c=Y(a,b),d=b,e=R,f=S;for(;c!==R;){let a=d/c,b=d%c,g=e-f*a;d=c,c=b,e=f,f=g}if(d!==S)throw Error("invert: does not exist");return Y(e,b)}let _=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function aa(a,b){let c=void 0!==b?b:a.toString(2).length,d=Math.ceil(c/8);return{nBitLength:c,nByteLength:d}}function ab(a,b,c=!1,d={}){let e;if(a<=R)throw Error("invalid field: expected ORDER > 0, got "+a);let{nBitLength:f,nByteLength:g}=aa(a,b);if(g>2048)throw Error("invalid field: expected ORDER of <= 2048 bytes");let h=Object.freeze({ORDER:a,isLE:c,BITS:f,BYTES:g,MASK:(x<<BigInt(f-1))-w,ZERO:R,ONE:S,create:b=>Y(b,a),isValid:b=>{if("bigint"!=typeof b)throw Error("invalid field element: expected bigint, got "+typeof b);return R<=b&&b<a},is0:a=>a===R,isOdd:a=>(a&S)===S,neg:b=>Y(-b,a),eql:(a,b)=>a===b,sqr:b=>Y(b*b,a),add:(b,c)=>Y(b+c,a),sub:(b,c)=>Y(b-c,a),mul:(b,c)=>Y(b*c,a),pow:(a,b)=>(function(a,b,c){if(c<R)throw Error("invalid exponent, negatives unsupported");if(c===R)return a.ONE;if(c===S)return b;let d=a.ONE,e=b;for(;c>R;)c&S&&(d=a.mul(d,e)),e=a.sqr(e),c>>=S;return d})(h,a,b),div:(b,c)=>Y(b*$(c,a),a),sqrN:a=>a*a,addN:(a,b)=>a+b,subN:(a,b)=>a-b,mulN:(a,b)=>a*b,inv:b=>$(b,a),sqrt:d.sqrt||(b=>(e||(e=function(a){if(a%V===U){let b=(a+S)/V;return function(a,c){let d=a.pow(c,b);if(!a.eql(a.sqr(d),c))throw Error("Cannot find square root");return d}}if(a%X===W){let b=(a-W)/X;return function(a,c){let d=a.mul(c,T),e=a.pow(d,b),f=a.mul(c,e),g=a.mul(a.mul(f,T),e),h=a.mul(f,a.sub(g,a.ONE));if(!a.eql(a.sqr(h),c))throw Error("Cannot find square root");return h}}return function(a){let b,c,d,e=(a-S)/T;for(b=a-S,c=0;b%T===R;b/=T,c++);for(d=T;d<a&&function(a,b,c){if(b<R)throw Error("invalid exponent, negatives unsupported");if(c<=R)throw Error("invalid modulus");if(c===S)return R;let d=S;for(;b>R;)b&S&&(d=d*a%c),a=a*a%c,b>>=S;return d}(d,e,a)!==a-S;d++)if(d>1e3)throw Error("Cannot find square root: likely non-prime P");if(1===c){let b=(a+S)/V;return function(a,c){let d=a.pow(c,b);if(!a.eql(a.sqr(d),c))throw Error("Cannot find square root");return d}}let f=(b+S)/T;return function(a,g){if(a.pow(g,e)===a.neg(a.ONE))throw Error("Cannot find square root");let h=c,i=a.pow(a.mul(a.ONE,d),b),j=a.pow(g,f),k=a.pow(g,b);for(;!a.eql(k,a.ONE);){if(a.eql(k,a.ZERO))return a.ZERO;let b=1;for(let c=a.sqr(k);b<h&&!a.eql(c,a.ONE);b++)c=a.sqr(c);let c=a.pow(i,S<<BigInt(h-b-1));i=a.sqr(c),j=a.mul(j,c),k=a.mul(k,i),h=b}return j}}(a)}(a)),e(h,b))),invertBatch:a=>(function(a,b){let c=Array(b.length),d=b.reduce((b,d,e)=>a.is0(d)?b:(c[e]=b,a.mul(b,d)),a.ONE),e=a.inv(d);return b.reduceRight((b,d,e)=>a.is0(d)?b:(c[e]=a.mul(b,c[e]),a.mul(b,d)),e),c})(h,a),cmov:(a,b,c)=>c?b:a,toBytes:a=>c?J(a,g):I(a,g),fromBytes:a=>{if(a.length!==g)throw Error("Field.fromBytes: expected "+g+" bytes, got "+a.length);return c?H(a):D(C(a))}});return Object.freeze(h)}let ac=BigInt(0),ad=BigInt(1);function ae(a,b){let c=b.negate();return a?c:b}function af(a,b){if(!Number.isSafeInteger(a)||a<=0||a>b)throw Error("invalid window size, expected [1.."+b+"], got W="+a)}function ag(a,b){return af(a,b),{windows:Math.ceil(b/a)+1,windowSize:2**(a-1)}}let ah=new WeakMap,ai=new WeakMap;function aj(a){return ai.get(a)||1}let ak=BigInt(0),al=BigInt(1),am=BigInt(2),an=BigInt(8),ao={zip215:!0};BigInt(0),BigInt(1);let ap=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),aq=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");BigInt(0);let ar=BigInt(1),as=BigInt(2);BigInt(3);let at=BigInt(5),au=BigInt(8),av=ab(ap,void 0,!0),aw=function(a){var b;let c=function(a){let b=(P(a.Fp,_.reduce((a,b)=>(a[b]="function",a),{ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"})),P(a,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...aa(a.n,a.nBitLength),...a,p:a.Fp.ORDER}));return P(a,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...b})}(a),{Fp:d,n:e,prehash:f,hash:g,randomBytes:h,nByteLength:i,h:j}=c,k=am<<BigInt(8*i)-al,l=d.create,m=ab(c.n,c.nBitLength),o=c.uvRatio||((a,b)=>{try{return{isValid:!0,value:d.sqrt(a*d.inv(b))}}catch{return{isValid:!1,value:ak}}}),p=c.adjustScalarBytes||(a=>a),q=c.domain||((a,b,c)=>{if(A("phflag",c),b.length||c)throw Error("Contexts/pre-hash are not supported");return a});function r(a,b){N("coordinate "+a,b,ak,k)}function s(a){if(!(a instanceof x))throw Error("ExtendedPoint expected")}let t=Q((a,b)=>{let{ex:c,ey:e,ez:f}=a,g=a.is0();null==b&&(b=g?an:d.inv(f));let h=l(c*b),i=l(e*b),j=l(f*b);if(g)return{x:ak,y:al};if(j!==al)throw Error("invZ was invalid");return{x:h,y:i}}),u=Q(a=>{let{a:b,d:d}=c;if(a.is0())throw Error("bad point: ZERO");let{ex:e,ey:f,ez:g,et:h}=a,i=l(e*e),j=l(f*f),k=l(g*g),m=l(k*k),o=l(i*b);if(l(k*l(o+j))!==l(m+l(d*l(i*j))))throw Error("bad point: equation left != right (1)");if(l(e*f)!==l(g*h))throw Error("bad point: equation left != right (2)");return!0});class x{constructor(a,b,c,d){this.ex=a,this.ey=b,this.ez=c,this.et=d,r("x",a),r("y",b),r("z",c),r("t",d),Object.freeze(this)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(a){if(a instanceof x)throw Error("extended point not allowed");let{x:b,y:c}=a||{};return r("x",b),r("y",c),new x(b,c,al,l(b*c))}static normalizeZ(a){let b=d.invertBatch(a.map(a=>a.ez));return a.map((a,c)=>a.toAffine(b[c])).map(x.fromAffine)}static msm(a,b){return function(a,b,c,d){if(function(a,b){if(!Array.isArray(a))throw Error("array expected");a.forEach((a,c)=>{if(!(a instanceof b))throw Error("invalid point at index "+c)})}(c,a),function(a,b){if(!Array.isArray(a))throw Error("array of scalars expected");a.forEach((a,c)=>{if(!b.isValid(a))throw Error("invalid scalar at index "+c)})}(d,b),c.length!==d.length)throw Error("arrays of points and scalars must have equal length");let e=a.ZERO,f=function(a){let b;for(b=0;a>v;a>>=w,b+=1);return b}(BigInt(c.length)),g=f>12?f-3:f>4?f-2:f?2:1,h=(1<<g)-1,i=Array(h+1).fill(e),j=Math.floor((b.BITS-1)/g)*g,k=e;for(let a=j;a>=0;a-=g){i.fill(e);for(let b=0;b<d.length;b++){let e=Number(d[b]>>BigInt(a)&BigInt(h));i[e]=i[e].add(c[b])}let b=e;for(let a=i.length-1,c=e;a>0;a--)c=c.add(i[a]),b=b.add(c);if(k=k.add(b),0!==a)for(let a=0;a<g;a++)k=k.double()}return k}(x,m,a,b)}_setWindowSize(a){B.setWindowSize(this,a)}assertValidity(){u(this)}equals(a){s(a);let{ex:b,ey:c,ez:d}=this,{ex:e,ey:f,ez:g}=a,h=l(b*g),i=l(e*d),j=l(c*g),k=l(f*d);return h===i&&j===k}is0(){return this.equals(x.ZERO)}negate(){return new x(l(-this.ex),this.ey,this.ez,l(-this.et))}double(){let{a:a}=c,{ex:b,ey:d,ez:e}=this,f=l(b*b),g=l(d*d),h=l(am*l(e*e)),i=l(a*f),j=b+d,k=l(l(j*j)-f-g),m=i+g,o=m-h,p=i-g,q=l(k*o),r=l(m*p),s=l(k*p);return new x(q,r,l(o*m),s)}add(a){s(a);let{a:b,d:d}=c,{ex:e,ey:f,ez:g,et:h}=this,{ex:i,ey:j,ez:k,et:m}=a;if(b===BigInt(-1)){let a=l((f-e)*(j+i)),b=l((f+e)*(j-i)),c=l(b-a);if(c===ak)return this.double();let d=l(g*am*m),o=l(h*am*k),p=o+d,q=b+a,r=o-d,s=l(p*c),t=l(q*r),u=l(p*r);return new x(s,t,l(c*q),u)}let o=l(e*i),p=l(f*j),q=l(h*d*m),r=l(g*k),t=l((e+f)*(i+j)-o-p),u=r-q,v=r+q,w=l(p-b*o),y=l(t*u),z=l(v*w),A=l(t*w);return new x(y,z,l(u*v),A)}subtract(a){return this.add(a.negate())}wNAF(a){return B.wNAFCached(this,a,x.normalizeZ)}multiply(a){N("scalar",a,al,e);let{p:b,f:c}=this.wNAF(a);return x.normalizeZ([b,c])[0]}multiplyUnsafe(a,b=x.ZERO){return N("scalar",a,ak,e),a===ak?z:this.is0()||a===al?this:B.wNAFCachedUnsafe(this,a,x.normalizeZ,b)}isSmallOrder(){return this.multiplyUnsafe(j).is0()}isTorsionFree(){return B.unsafeLadder(this,e).is0()}toAffine(a){return t(this,a)}clearCofactor(){let{h:a}=c;return a===al?this:this.multiplyUnsafe(a)}static fromHex(a,b=!1){let{d:e,a:f}=c,g=d.BYTES;a=K("pointHex",a,g),A("zip215",b);let h=a.slice(),i=a[g-1];h[g-1]=-129&i;let j=H(h);N("pointHex.y",j,ak,b?k:d.ORDER);let m=l(j*j),{isValid:p,value:q}=o(l(m-al),l(e*m-f));if(!p)throw Error("Point.fromHex: invalid y coordinate");let r=(q&al)===al,s=(128&i)!=0;if(!b&&q===ak&&s)throw Error("Point.fromHex: x=0 and x_0=1");return s!==r&&(q=l(-q)),x.fromAffine({x:q,y:j})}static fromPrivateKey(a){return D(a).point}toRawBytes(){let{x:a,y:b}=this.toAffine(),c=J(b,d.BYTES);return c[c.length-1]|=a&al?128:0,c}toHex(){return C(this.toRawBytes())}}x.BASE=new x(c.Gx,c.Gy,al,l(c.Gx*c.Gy)),x.ZERO=new x(ak,al,al,ak);let{BASE:y,ZERO:z}=x,B=(b=8*i,{constTimeNegate:ae,hasPrecomputes:a=>1!==aj(a),unsafeLadder(a,b,c=x.ZERO){let d=a;for(;b>ac;)b&ad&&(c=c.add(d)),d=d.double(),b>>=ad;return c},precomputeWindow(a,c){let{windows:d,windowSize:e}=ag(c,b),f=[],g=a,h=g;for(let a=0;a<d;a++){h=g,f.push(h);for(let a=1;a<e;a++)h=h.add(g),f.push(h);g=h.double()}return f},wNAF(a,c,d){let{windows:e,windowSize:f}=ag(a,b),g=x.ZERO,h=x.BASE,i=BigInt(2**a-1),j=2**a,k=BigInt(a);for(let a=0;a<e;a++){let b=a*f,e=Number(d&i);d>>=k,e>f&&(e-=j,d+=ad);let l=b+Math.abs(e)-1,m=a%2!=0,o=e<0;0===e?h=h.add(ae(m,c[b])):g=g.add(ae(o,c[l]))}return{p:g,f:h}},wNAFUnsafe(a,c,d,e=x.ZERO){let{windows:f,windowSize:g}=ag(a,b),h=BigInt(2**a-1),i=2**a,j=BigInt(a);for(let a=0;a<f;a++){let b=a*g;if(d===ac)break;let f=Number(d&h);if(d>>=j,f>g&&(f-=i,d+=ad),0===f)continue;let k=c[b+Math.abs(f)-1];f<0&&(k=k.negate()),e=e.add(k)}return e},getPrecomputes(a,b,c){let d=ah.get(b);return d||(d=this.precomputeWindow(b,a),1!==a&&ah.set(b,c(d))),d},wNAFCached(a,b,c){let d=aj(a);return this.wNAF(d,this.getPrecomputes(d,a,c),b)},wNAFCachedUnsafe(a,b,c,d){let e=aj(a);return 1===e?this.unsafeLadder(a,b,d):this.wNAFUnsafe(e,this.getPrecomputes(e,a,c),b,d)},setWindowSize(a,c){af(c,b),ai.set(a,c),ah.delete(a)}});function D(a){let b=d.BYTES;a=K("private key",a,b);let c=K("hashed private key",g(a),2*b),f=p(c.slice(0,b)),h=c.slice(b,2*b),i=Y(H(f),e),j=y.multiply(i),k=j.toRawBytes();return{head:f,prefix:h,scalar:i,point:j,pointBytes:k}}function E(a=new Uint8Array,...b){return Y(H(g(q(L(...b),K("context",a),!!f))),e)}return y._setWindowSize(8),{CURVE:c,getPublicKey:function(a){return D(a).pointBytes},sign:function(a,b,c={}){a=K("message",a),f&&(a=f(a));let{prefix:g,scalar:h,pointBytes:i}=D(b),j=E(c.context,g,a),k=y.multiply(j).toRawBytes(),l=Y(j+E(c.context,k,i,a)*h,e);return N("signature.s",l,ak,e),K("result",L(k,J(l,d.BYTES)),2*d.BYTES)},verify:function(a,b,c,e=ao){let g,h,i,{context:j,zip215:k}=e,l=d.BYTES;a=K("signature",a,2*l),b=K("message",b),c=K("publicKey",c,l),void 0!==k&&A("zip215",k),f&&(b=f(b));let m=H(a.slice(l,2*l));try{g=x.fromHex(c,k),h=x.fromHex(a.slice(0,l),k),i=y.multiplyUnsafe(m)}catch{return!1}if(!k&&g.isSmallOrder())return!1;let o=E(j,h.toRawBytes(),g.toRawBytes(),b);return h.add(g.multiplyUnsafe(o)).subtract(i).clearCofactor().equals(x.ZERO)},ExtendedPoint:x,utils:{getExtendedPublicKey:D,randomPrivateKey:()=>h(d.BYTES),precompute:(a=8,b=x.BASE)=>(b._setWindowSize(a),b.multiply(BigInt(3)),b)}}}({a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:av,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:au,Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:u,randomBytes:j,adjustScalarBytes:function(a){return a[0]&=248,a[31]&=127,a[31]|=64,a},uvRatio:function(a,b){let c=Y(b*b*b,ap),d=function(a){let b=BigInt(10),c=BigInt(20),d=BigInt(40),e=BigInt(80),f=a*a%ap*a%ap,g=Z(f,as,ap)*f%ap,h=Z(g,ar,ap)*a%ap,i=Z(h,at,ap)*h%ap,j=Z(i,b,ap)*i%ap,k=Z(j,c,ap)*j%ap,l=Z(k,d,ap)*k%ap,m=Z(l,e,ap)*l%ap,o=Z(m,e,ap)*l%ap,p=Z(o,b,ap)*i%ap;return{pow_p_5_8:Z(p,as,ap)*a%ap,b2:f}}(a*Y(c*c*b,ap)).pow_p_5_8,e=Y(a*c*d,ap),f=Y(b*e*e,ap),g=e,h=Y(e*aq,ap),i=f===a,j=f===Y(-a,ap),k=f===Y(-a*aq,ap);return i&&(e=g),(j||k)&&(e=h),(Y(e,ap)&S)===S&&(e=Y(-e,ap)),{isValid:i||j,value:e}}}),ax="base64url",ay="utf8",az="utf8",aA="base58btc";function aB(a){return null!=globalThis.Buffer?new Uint8Array(a.buffer,a.byteOffset,a.byteLength):a}function aC(a=0){return null!=globalThis.Buffer&&null!=globalThis.Buffer.allocUnsafe?aB(globalThis.Buffer.allocUnsafe(a)):new Uint8Array(a)}function aD(a,b){b||(b=a.reduce((a,b)=>a+b.length,0));let c=aC(b),d=0;for(let b of a)c.set(b,d),d+=b.length;return aB(c)}var aE=function(a,b){if(a.length>=255)throw TypeError("Alphabet too long");for(var c=new Uint8Array(256),d=0;d<c.length;d++)c[d]=255;for(var e=0;e<a.length;e++){var f=a.charAt(e),g=f.charCodeAt(0);if(255!==c[g])throw TypeError(f+" is ambiguous");c[g]=e}var h=a.length,i=a.charAt(0),j=Math.log(h)/Math.log(256),k=Math.log(256)/Math.log(h);function l(a){if("string"!=typeof a)throw TypeError("Expected String");if(0===a.length)return new Uint8Array;var b=0;if(" "!==a[0]){for(var d=0,e=0;a[b]===i;)d++,b++;for(var f=(a.length-b)*j+1>>>0,g=new Uint8Array(f);a[b];){var k=c[a.charCodeAt(b)];if(255===k)return;for(var l=0,m=f-1;(0!==k||l<e)&&-1!==m;m--,l++)k+=h*g[m]>>>0,g[m]=k%256>>>0,k=k/256>>>0;if(0!==k)throw Error("Non-zero carry");e=l,b++}if(" "!==a[b]){for(var o=f-e;o!==f&&0===g[o];)o++;for(var p=new Uint8Array(d+(f-o)),q=d;o!==f;)p[q++]=g[o++];return p}}}return{encode:function(b){if(b instanceof Uint8Array||(ArrayBuffer.isView(b)?b=new Uint8Array(b.buffer,b.byteOffset,b.byteLength):Array.isArray(b)&&(b=Uint8Array.from(b))),!(b instanceof Uint8Array))throw TypeError("Expected Uint8Array");if(0===b.length)return"";for(var c=0,d=0,e=0,f=b.length;e!==f&&0===b[e];)e++,c++;for(var g=(f-e)*k+1>>>0,j=new Uint8Array(g);e!==f;){for(var l=b[e],m=0,o=g-1;(0!==l||m<d)&&-1!==o;o--,m++)l+=256*j[o]>>>0,j[o]=l%h>>>0,l=l/h>>>0;if(0!==l)throw Error("Non-zero carry");d=m,e++}for(var p=g-d;p!==g&&0===j[p];)p++;for(var q=i.repeat(c);p<g;++p)q+=a.charAt(j[p]);return q},decodeUnsafe:l,decode:function(a){var c=l(a);if(c)return c;throw Error(`Non-${b} character`)}}};let aF=a=>{if(a instanceof Uint8Array&&"Uint8Array"===a.constructor.name)return a;if(a instanceof ArrayBuffer)return new Uint8Array(a);if(ArrayBuffer.isView(a))return new Uint8Array(a.buffer,a.byteOffset,a.byteLength);throw Error("Unknown type, must be binary type")};class aG{constructor(a,b,c){this.name=a,this.prefix=b,this.baseEncode=c}encode(a){if(a instanceof Uint8Array)return`${this.prefix}${this.baseEncode(a)}`;throw Error("Unknown type, must be binary type")}}class aH{constructor(a,b,c){if(this.name=a,this.prefix=b,void 0===b.codePointAt(0))throw Error("Invalid prefix character");this.prefixCodePoint=b.codePointAt(0),this.baseDecode=c}decode(a){if("string"==typeof a){if(a.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(a)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(a.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(a){return aJ(this,a)}}class aI{constructor(a){this.decoders=a}or(a){return aJ(this,a)}decode(a){let b=a[0],c=this.decoders[b];if(c)return c.decode(a);throw RangeError(`Unable to decode multibase string ${JSON.stringify(a)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}let aJ=(a,b)=>new aI({...a.decoders||{[a.prefix]:a},...b.decoders||{[b.prefix]:b}});class aK{constructor(a,b,c,d){this.name=a,this.prefix=b,this.baseEncode=c,this.baseDecode=d,this.encoder=new aG(a,b,c),this.decoder=new aH(a,b,d)}encode(a){return this.encoder.encode(a)}decode(a){return this.decoder.decode(a)}}let aL=({name:a,prefix:b,encode:c,decode:d})=>new aK(a,b,c,d),aM=({prefix:a,name:b,alphabet:c})=>{let{encode:d,decode:e}=aE(c,b);return aL({prefix:a,name:b,encode:d,decode:a=>aF(e(a))})},aN=({name:a,prefix:b,bitsPerChar:c,alphabet:d})=>aL({prefix:b,name:a,encode:a=>((a,b,c)=>{let d="="===b[b.length-1],e=(1<<c)-1,f="",g=0,h=0;for(let d=0;d<a.length;++d)for(h=h<<8|a[d],g+=8;g>c;)g-=c,f+=b[e&h>>g];if(g&&(f+=b[e&h<<c-g]),d)for(;f.length*c&7;)f+="=";return f})(a,d,c),decode:b=>((a,b,c,d)=>{let e={};for(let a=0;a<b.length;++a)e[b[a]]=a;let f=a.length;for(;"="===a[f-1];)--f;let g=new Uint8Array(f*c/8|0),h=0,i=0,j=0;for(let b=0;b<f;++b){let f=e[a[b]];if(void 0===f)throw SyntaxError(`Non-${d} character`);i=i<<c|f,(h+=c)>=8&&(h-=8,g[j++]=255&i>>h)}if(h>=c||255&i<<8-h)throw SyntaxError("Unexpected end of data");return g})(b,d,c,a)});var aO=Object.freeze({__proto__:null,identity:aL({prefix:"\0",name:"identity",encode:a=>new TextDecoder().decode(a),decode:a=>new TextEncoder().encode(a)})}),aP=Object.freeze({__proto__:null,base2:aN({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1})}),aQ=Object.freeze({__proto__:null,base8:aN({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3})}),aR=Object.freeze({__proto__:null,base10:aM({prefix:"9",name:"base10",alphabet:"0123456789"})}),aS=Object.freeze({__proto__:null,base16:aN({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),base16upper:aN({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4})});let aT=aN({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),aU=aN({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),aV=aN({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),aW=aN({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),aX=aN({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),aY=aN({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),aZ=aN({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5});var a$=Object.freeze({__proto__:null,base32:aT,base32upper:aU,base32pad:aV,base32padupper:aW,base32hex:aX,base32hexupper:aY,base32hexpad:aZ,base32hexpadupper:aN({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),base32z:aN({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5})}),a_=Object.freeze({__proto__:null,base36:aM({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),base36upper:aM({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"})}),a0=Object.freeze({__proto__:null,base58btc:aM({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),base58flickr:aM({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"})});let a1=aN({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),a2=aN({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6});var a3=Object.freeze({__proto__:null,base64:a1,base64pad:a2,base64url:aN({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),base64urlpad:aN({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6})});let a4=Array.from("🚀🪐☄🛰🌌🌑🌒🌓🌔🌕🌖🌗🌘🌍🌏🌎🐉☀💻🖥💾💿😂❤😍🤣😊🙏💕😭😘👍😅👏😁🔥🥰💔💖💙😢🤔😆🙄💪😉☺👌🤗💜😔😎😇🌹🤦🎉💞✌✨🤷😱😌🌸🙌😋💗💚😏💛🙂💓🤩😄😀🖤😃💯🙈👇🎶😒🤭❣😜💋👀😪😑💥🙋😞😩😡🤪👊🥳😥🤤👉💃😳✋😚😝😴🌟😬🙃🍀🌷😻😓⭐✅🥺🌈😈🤘💦✔😣🏃💐☹🎊💘😠☝😕🌺🎂🌻😐🖕💝🙊😹🗣💫💀👑🎵🤞😛🔴😤🌼😫⚽🤙☕🏆🤫👈😮🙆🍻🍃🐶💁😲🌿🧡🎁⚡🌞🎈❌✊👋😰🤨😶🤝🚶💰🍓💢🤟🙁🚨💨🤬✈🎀🍺🤓😙💟🌱😖👶🥴▶➡❓💎💸⬇😨🌚🦋😷🕺⚠🙅😟😵👎🤲🤠🤧📌🔵💅🧐🐾🍒😗🤑🌊🤯🐷☎💧😯💆👆🎤🙇🍑❄🌴💣🐸💌📍🥀🤢👅💡💩👐📸👻🤐🤮🎼🥵🚩🍎🍊👼💍📣🥂"),a5=a4.reduce((a,b,c)=>(a[c]=b,a),[]),a6=a4.reduce((a,b,c)=>(a[b.codePointAt(0)]=c,a),[]);var a7=Object.freeze({__proto__:null,base256emoji:aL({prefix:"🚀",name:"base256emoji",encode:function(a){return a.reduce((a,b)=>a+=a5[b],"")},decode:function(a){let b=[];for(let c of a){let a=a6[c.codePointAt(0)];if(void 0===a)throw Error(`Non-base256emoji character: ${c}`);b.push(a)}return new Uint8Array(b)}})});function a8(a,b,c){b=b||[],c=c||0;for(var d=c;a>=0x80000000;)b[c++]=255&a|128,a/=128;for(;-128&a;)b[c++]=255&a|128,a>>>=7;return b[c]=0|a,a8.bytes=c-d+1,b}var a9={encode:a8,encodingLength:function(a){return a<128?1:a<16384?2:a<2097152?3:a<0x10000000?4:a<0x800000000?5:a<0x40000000000?6:a<0x2000000000000?7:a<0x100000000000000?8:a<0x8000000000000000?9:10}};let ba=(a,b,c=0)=>(a9.encode(a,b,c),b),bb=a=>a9.encodingLength(a),bc=(a,b)=>{let c=b.byteLength,d=bb(a),e=d+bb(c),f=new Uint8Array(e+c);return ba(a,f,0),ba(c,f,d),f.set(b,e),new bd(a,c,b,f)};class bd{constructor(a,b,c,d){this.code=a,this.size=b,this.digest=c,this.bytes=d}}let be=({name:a,code:b,encode:c})=>new bf(a,b,c);class bf{constructor(a,b,c){this.name=a,this.code=b,this.encode=c}digest(a){if(a instanceof Uint8Array){let b=this.encode(a);return b instanceof Uint8Array?bc(this.code,b):b.then(a=>bc(this.code,a))}throw Error("Unknown type, must be binary type")}}let bg=a=>async b=>new Uint8Array(await crypto.subtle.digest(a,b));var bh=Object.freeze({__proto__:null,sha256:be({name:"sha2-256",code:18,encode:bg("SHA-256")}),sha512:be({name:"sha2-512",code:19,encode:bg("SHA-512")})}),bi=Object.freeze({__proto__:null,identity:{code:0,name:"identity",encode:aF,digest:a=>bc(0,aF(a))}});new TextEncoder,new TextDecoder;let bj={...aO,...aP,...aQ,...aR,...aS,...a$,...a_,...a0,...a3,...a7};function bk(a,b,c,d){return{name:a,prefix:b,encoder:{name:a,prefix:b,encode:c},decoder:{decode:d}}}({...bh,...bi});let bl=bk("utf8","u",a=>"u"+new TextDecoder("utf8").decode(a),a=>new TextEncoder().encode(a.substring(1))),bm=bk("ascii","a",a=>{let b="a";for(let c=0;c<a.length;c++)b+=String.fromCharCode(a[c]);return b},a=>{let b=aC((a=a.substring(1)).length);for(let c=0;c<a.length;c++)b[c]=a.charCodeAt(c);return b}),bn={utf8:bl,"utf-8":bl,hex:bj.base16,latin1:bm,ascii:bm,binary:bm,...bj};function bo(a,b="utf8"){let c=bn[b];if(!c)throw Error(`Unsupported encoding "${b}"`);return("utf8"===b||"utf-8"===b)&&null!=globalThis.Buffer&&null!=globalThis.Buffer.from?globalThis.Buffer.from(a.buffer,a.byteOffset,a.byteLength).toString("utf8"):c.encoder.encode(a).substring(1)}function bp(a,b="utf8"){let c=bn[b];if(!c)throw Error(`Unsupported encoding "${b}"`);return("utf8"===b||"utf-8"===b)&&null!=globalThis.Buffer&&null!=globalThis.Buffer.from?aB(globalThis.Buffer.from(a,"utf-8")):c.decoder.decode(`${c.prefix}${a}`)}function bq(a){return(0,c.safeJsonParse)(bo(bp(a,ax),ay))}function br(a){return bo(bp((0,c.safeJsonStringify)(a),ay),ax)}function bs(a){return["did:key","z"+bo(aD([bp("K36",aA),a]),aA)].join(":")}function bt(a){let b=a.split("."),c=bq(b[0]),d=bq(b[1]);return{header:c,payload:d,signature:bp(b[2],ax),data:bp(b.slice(0,2).join("."),az)}}function bu(a=j(32)){let b=aw.getPublicKey(a);return{secretKey:aD([a,b]),publicKey:b}}async function bv(a,c,d,e,f=(0,b.fromMiliseconds)(Date.now())){let g={alg:"EdDSA",typ:"JWT"},h={iss:bs(e.publicKey),sub:a,aud:c,iat:f,exp:f+d},i=bp([br((j={header:g,payload:h}).header),br(j.payload)].join("."),az);var j,k={header:g,payload:h,signature:aw.sign(i,e.secretKey.slice(0,32))};return[br(k.header),br(k.payload),bo(k.signature,ax)].join(".")}},78125,60611,864671,282800,73915,a=>{"use strict";function b(a=0){return null!=globalThis.Buffer&&null!=globalThis.Buffer.allocUnsafe?globalThis.Buffer.allocUnsafe(a):new Uint8Array(a)}function c(a,c){c||(c=a.reduce((a,b)=>a+b.length,0));let d=b(c),e=0;for(let b of a)d.set(b,e),e+=b.length;return d}a.s([],78125),a.s(["concat",()=>c],60611),a.s(["fromString",()=>aX],864671),a.s(["identity",()=>v],236206);let d=function(a,b){if(a.length>=255)throw TypeError("Alphabet too long");for(var c=new Uint8Array(256),d=0;d<c.length;d++)c[d]=255;for(var e=0;e<a.length;e++){var f=a.charAt(e),g=f.charCodeAt(0);if(255!==c[g])throw TypeError(f+" is ambiguous");c[g]=e}var h=a.length,i=a.charAt(0),j=Math.log(h)/Math.log(256),k=Math.log(256)/Math.log(h);function l(a){if("string"!=typeof a)throw TypeError("Expected String");if(0===a.length)return new Uint8Array;var b=0;if(" "!==a[0]){for(var d=0,e=0;a[b]===i;)d++,b++;for(var f=(a.length-b)*j+1>>>0,g=new Uint8Array(f);a[b];){var k=c[a.charCodeAt(b)];if(255===k)return;for(var l=0,m=f-1;(0!==k||l<e)&&-1!==m;m--,l++)k+=h*g[m]>>>0,g[m]=k%256>>>0,k=k/256>>>0;if(0!==k)throw Error("Non-zero carry");e=l,b++}if(" "!==a[b]){for(var o=f-e;o!==f&&0===g[o];)o++;for(var p=new Uint8Array(d+(f-o)),q=d;o!==f;)p[q++]=g[o++];return p}}}return{encode:function(b){if(b instanceof Uint8Array||(ArrayBuffer.isView(b)?b=new Uint8Array(b.buffer,b.byteOffset,b.byteLength):Array.isArray(b)&&(b=Uint8Array.from(b))),!(b instanceof Uint8Array))throw TypeError("Expected Uint8Array");if(0===b.length)return"";for(var c=0,d=0,e=0,f=b.length;e!==f&&0===b[e];)e++,c++;for(var g=(f-e)*k+1>>>0,j=new Uint8Array(g);e!==f;){for(var l=b[e],m=0,o=g-1;(0!==l||m<d)&&-1!==o;o--,m++)l+=256*j[o]>>>0,j[o]=l%h>>>0,l=l/h>>>0;if(0!==l)throw Error("Non-zero carry");d=m,e++}for(var p=g-d;p!==g&&0===j[p];)p++;for(var q=i.repeat(c);p<g;++p)q+=a.charAt(j[p]);return q},decodeUnsafe:l,decode:function(a){var c=l(a);if(c)return c;throw Error(`Non-${b} character`)}}};a.s(["coerce",()=>i,"empty",()=>e,"equals",()=>h,"fromHex",()=>g,"fromString",()=>k,"isBinary",()=>j,"toHex",()=>f,"toString",()=>l],908619);let e=new Uint8Array(0),f=a=>a.reduce((a,b)=>a+b.toString(16).padStart(2,"0"),""),g=a=>{let b=a.match(/../g);return b?new Uint8Array(b.map(a=>parseInt(a,16))):e},h=(a,b)=>{if(a===b)return!0;if(a.byteLength!==b.byteLength)return!1;for(let c=0;c<a.byteLength;c++)if(a[c]!==b[c])return!1;return!0},i=a=>{if(a instanceof Uint8Array&&"Uint8Array"===a.constructor.name)return a;if(a instanceof ArrayBuffer)return new Uint8Array(a);if(ArrayBuffer.isView(a))return new Uint8Array(a.buffer,a.byteOffset,a.byteLength);throw Error("Unknown type, must be binary type")},j=a=>a instanceof ArrayBuffer||ArrayBuffer.isView(a),k=a=>new TextEncoder().encode(a),l=a=>new TextDecoder().decode(a);class m{constructor(a,b,c){this.name=a,this.prefix=b,this.baseEncode=c}encode(a){if(a instanceof Uint8Array)return`${this.prefix}${this.baseEncode(a)}`;throw Error("Unknown type, must be binary type")}}class o{constructor(a,b,c){if(this.name=a,this.prefix=b,void 0===b.codePointAt(0))throw Error("Invalid prefix character");this.prefixCodePoint=b.codePointAt(0),this.baseDecode=c}decode(a){if("string"==typeof a){if(a.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(a)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(a.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(a){return q(this,a)}}class p{constructor(a){this.decoders=a}or(a){return q(this,a)}decode(a){let b=a[0],c=this.decoders[b];if(c)return c.decode(a);throw RangeError(`Unable to decode multibase string ${JSON.stringify(a)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}let q=(a,b)=>new p({...a.decoders||{[a.prefix]:a},...b.decoders||{[b.prefix]:b}});class r{constructor(a,b,c,d){this.name=a,this.prefix=b,this.baseEncode=c,this.baseDecode=d,this.encoder=new m(a,b,c),this.decoder=new o(a,b,d)}encode(a){return this.encoder.encode(a)}decode(a){return this.decoder.decode(a)}}let s=({name:a,prefix:b,encode:c,decode:d})=>new r(a,b,c,d),t=({prefix:a,name:b,alphabet:c})=>{let{encode:e,decode:f}=d(c,b);return s({prefix:a,name:b,encode:e,decode:a=>i(f(a))})},u=({name:a,prefix:b,bitsPerChar:c,alphabet:d})=>s({prefix:b,name:a,encode:a=>((a,b,c)=>{let d="="===b[b.length-1],e=(1<<c)-1,f="",g=0,h=0;for(let d=0;d<a.length;++d)for(h=h<<8|a[d],g+=8;g>c;)g-=c,f+=b[e&h>>g];if(g&&(f+=b[e&h<<c-g]),d)for(;f.length*c&7;)f+="=";return f})(a,d,c),decode:b=>((a,b,c,d)=>{let e={};for(let a=0;a<b.length;++a)e[b[a]]=a;let f=a.length;for(;"="===a[f-1];)--f;let g=new Uint8Array(f*c/8|0),h=0,i=0,j=0;for(let b=0;b<f;++b){let f=e[a[b]];if(void 0===f)throw SyntaxError(`Non-${d} character`);i=i<<c|f,(h+=c)>=8&&(h-=8,g[j++]=255&i>>h)}if(h>=c||255&i<<8-h)throw SyntaxError("Unexpected end of data");return g})(b,d,c,a)}),v=s({prefix:"\0",name:"identity",encode:a=>l(a),decode:a=>k(a)});var w=a.i(236206);a.s(["base2",()=>x],412591);let x=u({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var y=a.i(412591);a.s(["base8",()=>z],393571);let z=u({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var A=a.i(393571);a.s(["base10",()=>B],965715);let B=t({prefix:"9",name:"base10",alphabet:"0123456789"});var C=a.i(965715);a.s(["base16",()=>D,"base16upper",()=>E],767012);let D=u({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),E=u({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var F=a.i(767012);a.s(["base32",()=>G,"base32hex",()=>K,"base32hexpad",()=>M,"base32hexpadupper",()=>N,"base32hexupper",()=>L,"base32pad",()=>I,"base32padupper",()=>J,"base32upper",()=>H,"base32z",()=>O],625162);let G=u({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),H=u({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),I=u({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),J=u({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),K=u({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),L=u({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),M=u({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),N=u({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),O=u({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var P=a.i(625162);a.s(["base36",()=>Q,"base36upper",()=>R],279980);let Q=t({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),R=t({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var S=a.i(279980);a.s(["base58btc",()=>T,"base58flickr",()=>U],295959);let T=t({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),U=t({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var V=a.i(295959);a.s(["base64",()=>W,"base64pad",()=>X,"base64url",()=>Y,"base64urlpad",()=>Z],884919);let W=u({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),X=u({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),Y=u({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),Z=u({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var $=a.i(884919);a.s(["base256emoji",()=>ac],438253);let _=Array.from("\uD83D\uDE80\uD83E\uDE90☄\uD83D\uDEF0\uD83C\uDF0C\uD83C\uDF11\uD83C\uDF12\uD83C\uDF13\uD83C\uDF14\uD83C\uDF15\uD83C\uDF16\uD83C\uDF17\uD83C\uDF18\uD83C\uDF0D\uD83C\uDF0F\uD83C\uDF0E\uD83D\uDC09☀\uD83D\uDCBB\uD83D\uDDA5\uD83D\uDCBE\uD83D\uDCBF\uD83D\uDE02❤\uD83D\uDE0D\uD83E\uDD23\uD83D\uDE0A\uD83D\uDE4F\uD83D\uDC95\uD83D\uDE2D\uD83D\uDE18\uD83D\uDC4D\uD83D\uDE05\uD83D\uDC4F\uD83D\uDE01\uD83D\uDD25\uD83E\uDD70\uD83D\uDC94\uD83D\uDC96\uD83D\uDC99\uD83D\uDE22\uD83E\uDD14\uD83D\uDE06\uD83D\uDE44\uD83D\uDCAA\uD83D\uDE09☺\uD83D\uDC4C\uD83E\uDD17\uD83D\uDC9C\uD83D\uDE14\uD83D\uDE0E\uD83D\uDE07\uD83C\uDF39\uD83E\uDD26\uD83C\uDF89\uD83D\uDC9E✌✨\uD83E\uDD37\uD83D\uDE31\uD83D\uDE0C\uD83C\uDF38\uD83D\uDE4C\uD83D\uDE0B\uD83D\uDC97\uD83D\uDC9A\uD83D\uDE0F\uD83D\uDC9B\uD83D\uDE42\uD83D\uDC93\uD83E\uDD29\uD83D\uDE04\uD83D\uDE00\uD83D\uDDA4\uD83D\uDE03\uD83D\uDCAF\uD83D\uDE48\uD83D\uDC47\uD83C\uDFB6\uD83D\uDE12\uD83E\uDD2D❣\uD83D\uDE1C\uD83D\uDC8B\uD83D\uDC40\uD83D\uDE2A\uD83D\uDE11\uD83D\uDCA5\uD83D\uDE4B\uD83D\uDE1E\uD83D\uDE29\uD83D\uDE21\uD83E\uDD2A\uD83D\uDC4A\uD83E\uDD73\uD83D\uDE25\uD83E\uDD24\uD83D\uDC49\uD83D\uDC83\uD83D\uDE33✋\uD83D\uDE1A\uD83D\uDE1D\uD83D\uDE34\uD83C\uDF1F\uD83D\uDE2C\uD83D\uDE43\uD83C\uDF40\uD83C\uDF37\uD83D\uDE3B\uD83D\uDE13⭐✅\uD83E\uDD7A\uD83C\uDF08\uD83D\uDE08\uD83E\uDD18\uD83D\uDCA6✔\uD83D\uDE23\uD83C\uDFC3\uD83D\uDC90☹\uD83C\uDF8A\uD83D\uDC98\uD83D\uDE20☝\uD83D\uDE15\uD83C\uDF3A\uD83C\uDF82\uD83C\uDF3B\uD83D\uDE10\uD83D\uDD95\uD83D\uDC9D\uD83D\uDE4A\uD83D\uDE39\uD83D\uDDE3\uD83D\uDCAB\uD83D\uDC80\uD83D\uDC51\uD83C\uDFB5\uD83E\uDD1E\uD83D\uDE1B\uD83D\uDD34\uD83D\uDE24\uD83C\uDF3C\uD83D\uDE2B⚽\uD83E\uDD19☕\uD83C\uDFC6\uD83E\uDD2B\uD83D\uDC48\uD83D\uDE2E\uD83D\uDE46\uD83C\uDF7B\uD83C\uDF43\uD83D\uDC36\uD83D\uDC81\uD83D\uDE32\uD83C\uDF3F\uD83E\uDDE1\uD83C\uDF81⚡\uD83C\uDF1E\uD83C\uDF88❌✊\uD83D\uDC4B\uD83D\uDE30\uD83E\uDD28\uD83D\uDE36\uD83E\uDD1D\uD83D\uDEB6\uD83D\uDCB0\uD83C\uDF53\uD83D\uDCA2\uD83E\uDD1F\uD83D\uDE41\uD83D\uDEA8\uD83D\uDCA8\uD83E\uDD2C✈\uD83C\uDF80\uD83C\uDF7A\uD83E\uDD13\uD83D\uDE19\uD83D\uDC9F\uD83C\uDF31\uD83D\uDE16\uD83D\uDC76\uD83E\uDD74▶➡❓\uD83D\uDC8E\uD83D\uDCB8⬇\uD83D\uDE28\uD83C\uDF1A\uD83E\uDD8B\uD83D\uDE37\uD83D\uDD7A⚠\uD83D\uDE45\uD83D\uDE1F\uD83D\uDE35\uD83D\uDC4E\uD83E\uDD32\uD83E\uDD20\uD83E\uDD27\uD83D\uDCCC\uD83D\uDD35\uD83D\uDC85\uD83E\uDDD0\uD83D\uDC3E\uD83C\uDF52\uD83D\uDE17\uD83E\uDD11\uD83C\uDF0A\uD83E\uDD2F\uD83D\uDC37☎\uD83D\uDCA7\uD83D\uDE2F\uD83D\uDC86\uD83D\uDC46\uD83C\uDFA4\uD83D\uDE47\uD83C\uDF51❄\uD83C\uDF34\uD83D\uDCA3\uD83D\uDC38\uD83D\uDC8C\uD83D\uDCCD\uD83E\uDD40\uD83E\uDD22\uD83D\uDC45\uD83D\uDCA1\uD83D\uDCA9\uD83D\uDC50\uD83D\uDCF8\uD83D\uDC7B\uD83E\uDD10\uD83E\uDD2E\uD83C\uDFBC\uD83E\uDD75\uD83D\uDEA9\uD83C\uDF4E\uD83C\uDF4A\uD83D\uDC7C\uD83D\uDC8D\uD83D\uDCE3\uD83E\uDD42"),aa=_.reduce((a,b,c)=>(a[c]=b,a),[]),ab=_.reduce((a,b,c)=>(a[b.codePointAt(0)]=c,a),[]),ac=s({prefix:"\uD83D\uDE80",name:"base256emoji",encode:function(a){return a.reduce((a,b)=>a+=aa[b],"")},decode:function(a){let b=[];for(let c of a){let a=ab[c.codePointAt(0)];if(void 0===a)throw Error(`Non-base256emoji character: ${c}`);b.push(a)}return new Uint8Array(b)}});var ad=a.i(438253);a.s(["sha256",()=>ar,"sha512",()=>as],9822);var ae=a.i(254799);a.s(["Hasher",()=>aq,"from",()=>ap],964955),a.s(["Digest",()=>ao,"create",()=>al,"decode",()=>am,"equals",()=>an],643442),a.s(["decode",()=>ai,"encodeTo",()=>aj,"encodingLength",()=>ak],703229);function af(a,b,c){b=b||[];for(var d=c=c||0;a>=0x80000000;)b[c++]=255&a|128,a/=128;for(;-128&a;)b[c++]=255&a|128,a>>>=7;return b[c]=0|a,af.bytes=c-d+1,b}function ag(a,b){var c,d=0,b=b||0,e=0,f=b,g=a.length;do{if(f>=g)throw ag.bytes=0,RangeError("Could not decode varint");c=a[f++],d+=e<28?(127&c)<<e:(127&c)*Math.pow(2,e),e+=7}while(c>=128)return ag.bytes=f-b,d}let ah={encode:af,decode:ag,encodingLength:function(a){return a<128?1:a<16384?2:a<2097152?3:a<0x10000000?4:a<0x800000000?5:a<0x40000000000?6:a<0x2000000000000?7:a<0x100000000000000?8:a<0x8000000000000000?9:10}},ai=(a,b=0)=>[ah.decode(a,b),ah.decode.bytes],aj=(a,b,c=0)=>(ah.encode(a,b,c),b),ak=a=>ah.encodingLength(a),al=(a,b)=>{let c=b.byteLength,d=ak(a),e=d+ak(c),f=new Uint8Array(e+c);return aj(a,f,0),aj(c,f,d),f.set(b,e),new ao(a,c,b,f)},am=a=>{let b=i(a),[c,d]=ai(b),[e,f]=ai(b.subarray(d)),g=b.subarray(d+f);if(g.byteLength!==e)throw Error("Incorrect length");return new ao(c,e,g,b)},an=(a,b)=>a===b||a.code===b.code&&a.size===b.size&&h(a.bytes,b.bytes);class ao{constructor(a,b,c,d){this.code=a,this.size=b,this.digest=c,this.bytes=d}}let ap=({name:a,code:b,encode:c})=>new aq(a,b,c);class aq{constructor(a,b,c){this.name=a,this.code=b,this.encode=c}digest(a){if(a instanceof Uint8Array){let b=this.encode(a);return b instanceof Uint8Array?al(this.code,b):b.then(a=>al(this.code,a))}throw Error("Unknown type, must be binary type")}}let ar=ap({name:"sha2-256",code:18,encode:a=>i(ae.default.createHash("sha256").update(a).digest())}),as=ap({name:"sha2-512",code:19,encode:a=>i(ae.default.createHash("sha512").update(a).digest())});var at=a.i(9822);a.s(["identity",()=>au],651817);let au={code:0,name:"identity",encode:i,digest:a=>al(0,i(a))};var av=a.i(651817);a.s(["code",()=>ax,"decode",()=>az,"encode",()=>ay,"name",()=>aw],708321);let aw="raw",ax=85,ay=a=>i(a),az=a=>i(a);a.i(708321),a.s(["code",()=>aD,"decode",()=>aF,"encode",()=>aE,"name",()=>aC],954056);let aA=new TextEncoder,aB=new TextDecoder,aC="json",aD=512,aE=a=>aA.encode(JSON.stringify(a)),aF=a=>JSON.parse(aB.decode(a));a.i(954056);class aG{constructor(a,b,c,d){this.code=b,this.version=a,this.multihash=c,this.bytes=d,this.byteOffset=d.byteOffset,this.byteLength=d.byteLength,this.asCID=this,this._baseCache=new Map,Object.defineProperties(this,{byteOffset:aP,byteLength:aP,code:aO,version:aO,multihash:aO,bytes:aO,_baseCache:aP,asCID:aP})}toV0(){if(0===this.version)return this;{let{code:a,multihash:b}=this;if(a!==aK)throw Error("Cannot convert a non dag-pb CID to CIDv0");if(b.code!==aL)throw Error("Cannot convert non sha2-256 multihash CID to CIDv0");return aG.createV0(b)}}toV1(){switch(this.version){case 0:{let{code:a,digest:b}=this.multihash,c=al(a,b);return aG.createV1(this.code,c)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}equals(a){return a&&this.code===a.code&&this.version===a.version&&an(this.multihash,a.multihash)}toString(a){let{bytes:b,version:c,_baseCache:d}=this;return 0===c?aI(b,d,a||T.encoder):aJ(b,d,a||G.encoder)}toJSON(){return{code:this.code,version:this.version,hash:this.multihash.bytes}}get[Symbol.toStringTag](){return"CID"}[Symbol.for("nodejs.util.inspect.custom")](){return"CID("+this.toString()+")"}static isCID(a){return aQ(/^0\.0/,aR),!!(a&&(a[aN]||a.asCID===a))}get toBaseEncodedString(){throw Error("Deprecated, use .toString()")}get codec(){throw Error('"codec" property is deprecated, use integer "code" property instead')}get buffer(){throw Error("Deprecated .buffer property, use .bytes to get Uint8Array instead")}get multibaseName(){throw Error('"multibaseName" property is deprecated')}get prefix(){throw Error('"prefix" property is deprecated')}static asCID(a){if(a instanceof aG)return a;if(null!=a&&a.asCID===a){let{version:b,code:c,multihash:d,bytes:e}=a;return new aG(b,c,d,e||aM(b,c,d.bytes))}if(null==a||!0!==a[aN])return null;{let{version:b,multihash:c,code:d}=a,e=am(c);return aG.create(b,d,e)}}static create(a,b,c){if("number"!=typeof b)throw Error("String codecs are no longer supported");switch(a){case 0:if(b===aK)return new aG(a,b,c,c.bytes);throw Error(`Version 0 CID must use dag-pb (code: ${aK}) block encoding`);case 1:{let d=aM(a,b,c.bytes);return new aG(a,b,c,d)}default:throw Error("Invalid version")}}static createV0(a){return aG.create(0,aK,a)}static createV1(a,b){return aG.create(1,a,b)}static decode(a){let[b,c]=aG.decodeFirst(a);if(c.length)throw Error("Incorrect length");return b}static decodeFirst(a){let b=aG.inspectBytes(a),c=b.size-b.multihashSize,d=i(a.subarray(c,c+b.multihashSize));if(d.byteLength!==b.multihashSize)throw Error("Incorrect length");let e=d.subarray(b.multihashSize-b.digestSize),f=new ao(b.multihashCode,b.digestSize,e,d);return[0===b.version?aG.createV0(f):aG.createV1(b.codec,f),a.subarray(b.size)]}static inspectBytes(a){let b=0,c=()=>{let[c,d]=ai(a.subarray(b));return b+=d,c},d=c(),e=aK;if(18===d?(d=0,b=0):1===d&&(e=c()),0!==d&&1!==d)throw RangeError(`Invalid CID version ${d}`);let f=b,g=c(),h=c(),i=b+h;return{version:d,codec:e,multihashCode:g,digestSize:h,multihashSize:i-f,size:i}}static parse(a,b){let[c,d]=aH(a,b),e=aG.decode(d);return e._baseCache.set(c,a),e}}let aH=(a,b)=>{switch(a[0]){case"Q":{let c=b||T;return[T.prefix,c.decode(`${T.prefix}${a}`)]}case T.prefix:{let c=b||T;return[T.prefix,c.decode(a)]}case G.prefix:{let c=b||G;return[G.prefix,c.decode(a)]}default:if(null==b)throw Error("To parse non base32 or base58btc encoded CID multibase decoder must be provided");return[a[0],b.decode(a)]}},aI=(a,b,c)=>{let{prefix:d}=c;if(d!==T.prefix)throw Error(`Cannot string encode V0 in ${c.name} encoding`);let e=b.get(d);if(null!=e)return e;{let e=c.encode(a).slice(1);return b.set(d,e),e}},aJ=(a,b,c)=>{let{prefix:d}=c,e=b.get(d);if(null!=e)return e;{let e=c.encode(a);return b.set(d,e),e}},aK=112,aL=18,aM=(a,b,c)=>{let d=ak(a),e=d+ak(b),f=new Uint8Array(e+c.byteLength);return aj(a,f,0),aj(b,f,d),f.set(c,e),f},aN=Symbol.for("@ipld/js-cid/CID"),aO={writable:!1,configurable:!1,enumerable:!0},aP={writable:!1,enumerable:!1,configurable:!1},aQ=(a,b)=>{if(a.test("0.0.0-dev"))console.warn(b);else throw Error(b)},aR=`CID.isCID(v) is deprecated and will be removed in the next major release.
Following code pattern:

if (CID.isCID(value)) {
  doSomethingWithCID(value)
}

Is replaced with:

const cid = CID.asCID(value)
if (cid) {
  // Make sure to use cid instead of value
  doSomethingWithCID(cid)
}
`;a.i(703229),a.i(908619),a.i(964955),a.i(643442);let aS={...w,...y,...A,...C,...F,...P,...S,...V,...$,...ad};function aT(a,b,c,d){return{name:a,prefix:b,encoder:{name:a,prefix:b,encode:c},decoder:{decode:d}}}({...at,...av});let aU=aT("utf8","u",a=>"u"+new TextDecoder("utf8").decode(a),a=>new TextEncoder().encode(a.substring(1))),aV=aT("ascii","a",a=>{let b="a";for(let c=0;c<a.length;c++)b+=String.fromCharCode(a[c]);return b},a=>{let c=b((a=a.substring(1)).length);for(let b=0;b<a.length;b++)c[b]=a.charCodeAt(b);return c}),aW={utf8:aU,"utf-8":aU,hex:aS.base16,latin1:aV,ascii:aV,binary:aV,...aS};function aX(a,b="utf8"){let c=aW[b];if(!c)throw Error(`Unsupported encoding "${b}"`);return("utf8"===b||"utf-8"===b)&&null!=globalThis.Buffer&&null!=globalThis.Buffer.from?globalThis.Buffer.from(a,"utf8"):c.decoder.decode(`${c.prefix}${a}`)}function aY(a,b="utf8"){let c=aW[b];if(!c)throw Error(`Unsupported encoding "${b}"`);return("utf8"===b||"utf-8"===b)&&null!=globalThis.Buffer&&null!=globalThis.Buffer.from?globalThis.Buffer.from(a.buffer,a.byteOffset,a.byteLength).toString("utf8"):c.encoder.encode(a).substring(1)}a.s(["toString",()=>aY],282800),a.s(["RELAY_JSONRPC",()=>aZ],73915);let aZ={waku:{publish:"waku_publish",batchPublish:"waku_batchPublish",subscribe:"waku_subscribe",batchSubscribe:"waku_batchSubscribe",subscription:"waku_subscription",unsubscribe:"waku_unsubscribe",batchUnsubscribe:"waku_batchUnsubscribe",batchFetchMessages:"waku_batchFetchMessages"},irn:{publish:"irn_publish",batchPublish:"irn_batchPublish",subscribe:"irn_subscribe",batchSubscribe:"irn_batchSubscribe",subscription:"irn_subscription",unsubscribe:"irn_unsubscribe",batchUnsubscribe:"irn_batchUnsubscribe",batchFetchMessages:"irn_batchFetchMessages"},iridium:{publish:"iridium_publish",batchPublish:"iridium_batchPublish",subscribe:"iridium_subscribe",batchSubscribe:"iridium_batchSubscribe",subscription:"iridium_subscription",unsubscribe:"iridium_unsubscribe",batchUnsubscribe:"iridium_batchUnsubscribe",batchFetchMessages:"iridium_batchFetchMessages"}}},241958,693172,157938,212566,a=>{"use strict";a.s(["HEARTBEAT_EVENTS",()=>g,"HeartBeat",()=>h],241958);var b=a.i(427699),c=a.i(673620);a.s([],157938),a.s(["IEvents",()=>d],693172);class d{}class e extends d{constructor(a){super()}}let f=c.FIVE_SECONDS,g={pulse:"heartbeat_pulse"};class h extends e{constructor(a){super(a),this.events=new b.EventEmitter,this.interval=f,this.interval=a?.interval||f}static async init(a){let b=new h(a);return await b.init(),b}async init(){await this.initialize()}stop(){clearInterval(this.intervalRef)}on(a,b){this.events.on(a,b)}once(a,b){this.events.once(a,b)}off(a,b){this.events.off(a,b)}removeListener(a,b){this.events.removeListener(a,b)}async initialize(){this.intervalRef=setInterval(()=>this.pulse(),(0,c.toMiliseconds)(this.interval))}pulse(){this.events.emit(g.pulse)}}a.s(["createStorage",()=>t],212566);let i=/"(?:_|\\u0{2}5[Ff]){2}(?:p|\\u0{2}70)(?:r|\\u0{2}72)(?:o|\\u0{2}6[Ff])(?:t|\\u0{2}74)(?:o|\\u0{2}6[Ff])(?:_|\\u0{2}5[Ff]){2}"\s*:/,j=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/,k=/^\s*["[{]|^\s*-?\d{1,16}(\.\d{1,17})?([Ee][+-]?\d+)?\s*$/;function l(a,b){var c;return"__proto__"===a||"constructor"===a&&b&&"object"==typeof b&&"prototype"in b?void(c=a,console.warn(`[destr] Dropping "${c}" key to prevent prototype pollution.`)):b}function m(a,b={}){if("string"!=typeof a)return a;if('"'===a[0]&&'"'===a[a.length-1]&&-1===a.indexOf("\\"))return a.slice(1,-1);let c=a.trim();if(c.length<=9)switch(c.toLowerCase()){case"true":return!0;case"false":return!1;case"undefined":return;case"null":return null;case"nan":return NaN;case"infinity":return 1/0;case"-infinity":return-1/0}if(!k.test(a)){if(b.strict)throw SyntaxError("[destr] Invalid JSON");return a}try{if(i.test(a)||j.test(a)){if(b.strict)throw Error("[destr] Possible prototype pollution");return JSON.parse(a,l)}return JSON.parse(a)}catch(c){if(b.strict)throw c;return a}}function o(a,...b){try{var c;return(c=a(...b))&&"function"==typeof c.then?c:Promise.resolve(c)}catch(a){return Promise.reject(a)}}function p(a){if(function(a){let b=typeof a;return null===a||"object"!==b&&"function"!==b}(a))return String(a);if(function(a){let b=Object.getPrototypeOf(a);return!b||b.isPrototypeOf(Object)}(a)||Array.isArray(a))return JSON.stringify(a);if("function"==typeof a.toJSON)return p(a.toJSON());throw Error("[unstorage] Cannot stringify value!")}let q="base64:";function r(a){return a&&a.split("?")[0]?.replace(/[/\\]/g,":").replace(/:+/g,":").replace(/^:|:$/g,"")||""}function s(a){return(a=r(a))?a+":":""}function t(a={}){let b={mounts:{"":a.driver||(()=>{let a=new Map;return{name:"memory",getInstance:()=>a,hasItem:b=>a.has(b),getItem:b=>a.get(b)??null,getItemRaw:b=>a.get(b)??null,setItem(b,c){a.set(b,c)},setItemRaw(b,c){a.set(b,c)},removeItem(b){a.delete(b)},getKeys:()=>[...a.keys()],clear(){a.clear()},dispose(){a.clear()}}})()},mountpoints:[""],watching:!1,watchListeners:[],unwatch:{}},c=a=>{for(let c of b.mountpoints)if(a.startsWith(c))return{base:c,relativeKey:a.slice(c.length),driver:b.mounts[c]};return{base:"",relativeKey:a,driver:b.mounts[""]}},d=(a,c)=>b.mountpoints.filter(b=>b.startsWith(a)||c&&a.startsWith(b)).map(c=>({relativeBase:a.length>c.length?a.slice(c.length):void 0,mountpoint:c,driver:b.mounts[c]})),e=(a,c)=>{if(b.watching)for(let d of(c=r(c),b.watchListeners))d(a,c)},f=async()=>{if(!b.watching)for(let a in b.watching=!0,b.mounts)b.unwatch[a]=await u(b.mounts[a],e,a)},g=async()=>{if(b.watching){for(let a in b.unwatch)await b.unwatch[a]();b.unwatch={},b.watching=!1}},h=(a,b,d)=>{let e=new Map,f=a=>{let b=e.get(a.base);return b||(b={driver:a.driver,base:a.base,items:[]},e.set(a.base,b)),b};for(let d of a){let a="string"==typeof d,e=r(a?d:d.key),g=a?void 0:d.value,h=a||!d.options?b:{...b,...d.options},i=c(e);f(i).items.push({key:e,value:g,relativeKey:i.relativeKey,options:h})}return Promise.all([...e.values()].map(a=>d(a))).then(a=>a.flat())},i={hasItem(a,b={}){let{relativeKey:d,driver:e}=c(a=r(a));return o(e.hasItem,d,b)},getItem(a,b={}){let{relativeKey:d,driver:e}=c(a=r(a));return o(e.getItem,d,b).then(a=>m(a))},getItems:(a,b={})=>h(a,b,a=>a.driver.getItems?o(a.driver.getItems,a.items.map(a=>({key:a.relativeKey,options:a.options})),b).then(b=>b.map(b=>({key:function(...a){return r(a.join(":"))}(a.base,b.key),value:m(b.value)}))):Promise.all(a.items.map(b=>o(a.driver.getItem,b.relativeKey,b.options).then(a=>({key:b.key,value:m(a)}))))),getItemRaw(a,b={}){let{relativeKey:d,driver:e}=c(a=r(a));return e.getItemRaw?o(e.getItemRaw,d,b):o(e.getItem,d,b).then(a=>{var b;return"string"==typeof a&&a.startsWith(q)?(b=a.slice(q.length),globalThis.Buffer?Buffer.from(b,"base64"):Uint8Array.from(globalThis.atob(b),a=>a.codePointAt(0))):a})},async setItem(a,b,d={}){if(void 0===b)return i.removeItem(a);let{relativeKey:f,driver:g}=c(a=r(a));g.setItem&&(await o(g.setItem,f,p(b),d),g.watch||e("update",a))},async setItems(a,b){await h(a,b,async a=>{if(a.driver.setItems)return o(a.driver.setItems,a.items.map(a=>({key:a.relativeKey,value:p(a.value),options:a.options})),b);a.driver.setItem&&await Promise.all(a.items.map(b=>o(a.driver.setItem,b.relativeKey,p(b.value),b.options)))})},async setItemRaw(a,b,d={}){if(void 0===b)return i.removeItem(a,d);let{relativeKey:f,driver:g}=c(a=r(a));if(g.setItemRaw)await o(g.setItemRaw,f,b,d);else{var h;if(!g.setItem)return;await o(g.setItem,f,"string"==typeof b?b:q+(h=b,globalThis.Buffer?Buffer.from(h).toString("base64"):globalThis.btoa(String.fromCodePoint(...h))),d)}g.watch||e("update",a)},async removeItem(a,b={}){"boolean"==typeof b&&(b={removeMeta:b});let{relativeKey:d,driver:f}=c(a=r(a));f.removeItem&&(await o(f.removeItem,d,b),(b.removeMeta||b.removeMata)&&await o(f.removeItem,d+"$",b),f.watch||e("remove",a))},async getMeta(a,b={}){"boolean"==typeof b&&(b={nativeOnly:b});let{relativeKey:d,driver:e}=c(a=r(a)),f=Object.create(null);if(e.getMeta&&Object.assign(f,await o(e.getMeta,d,b)),!b.nativeOnly){let a=await o(e.getItem,d+"$",b).then(a=>m(a));a&&"object"==typeof a&&("string"==typeof a.atime&&(a.atime=new Date(a.atime)),"string"==typeof a.mtime&&(a.mtime=new Date(a.mtime)),Object.assign(f,a))}return f},setMeta(a,b,c={}){return this.setItem(a+"$",b,c)},removeMeta(a,b={}){return this.removeItem(a+"$",b)},async getKeys(a,b={}){let c=d(a=s(a),!0),e=[],f=[],g=!0;for(let a of c){for(let c of(a.driver.flags?.maxDepth||(g=!1),await o(a.driver.getKeys,a.relativeBase,b))){let b=a.mountpoint+r(c);e.some(a=>b.startsWith(a))||f.push(b)}e=[a.mountpoint,...e.filter(b=>!b.startsWith(a.mountpoint))]}let h=void 0!==b.maxDepth&&!g;return f.filter(c=>{var d;return(!h||function(a,b){if(void 0===b)return!0;let c=0,d=a.indexOf(":");for(;d>-1;)c++,d=a.indexOf(":",d+1);return c<=b}(c,b.maxDepth))&&((d=a)?c.startsWith(d)&&"$"!==c[c.length-1]:"$"!==c[c.length-1])})},async clear(a,b={}){a=s(a),await Promise.all(d(a,!1).map(async a=>a.driver.clear?o(a.driver.clear,a.relativeBase,b):a.driver.removeItem?Promise.all((await a.driver.getKeys(a.relativeBase||"",b)).map(c=>a.driver.removeItem(c,b))):void 0))},async dispose(){await Promise.all(Object.values(b.mounts).map(a=>v(a)))},watch:async a=>(await f(),b.watchListeners.push(a),async()=>{b.watchListeners=b.watchListeners.filter(b=>b!==a),0===b.watchListeners.length&&await g()}),async unwatch(){b.watchListeners=[],await g()},mount(a,c){if((a=s(a))&&b.mounts[a])throw Error(`already mounted at ${a}`);return a&&(b.mountpoints.push(a),b.mountpoints.sort((a,b)=>b.length-a.length)),b.mounts[a]=c,b.watching&&Promise.resolve(u(c,e,a)).then(c=>{b.unwatch[a]=c}).catch(console.error),i},async unmount(a,c=!0){(a=s(a))&&b.mounts[a]&&(b.watching&&a in b.unwatch&&(b.unwatch[a]?.(),delete b.unwatch[a]),c&&await v(b.mounts[a]),b.mountpoints=b.mountpoints.filter(b=>b!==a),delete b.mounts[a])},getMount(a=""){let b=c(a=r(a)+":");return{driver:b.driver,base:b.base}},getMounts:(a="",b={})=>d(a=r(a),b.parents).map(a=>({driver:a.driver,base:a.mountpoint})),keys:(a,b={})=>i.getKeys(a,b),get:(a,b={})=>i.getItem(a,b),set:(a,b,c={})=>i.setItem(a,b,c),has:(a,b={})=>i.hasItem(a,b),del:(a,b={})=>i.removeItem(a,b),remove:(a,b={})=>i.removeItem(a,b)};return i}function u(a,b,c){return a.watch?a.watch((a,d)=>b(a,c+d)):()=>{}}async function v(a){"function"==typeof a.dispose&&await o(a.dispose)}},362562,(a,b,c)=>{b.exports=a.x("module",()=>require("module"))},903874,(a,b,c)=>{"use strict";function d(a,b){return b}b.exports=function(){let a=Error.prepareStackTrace;Error.prepareStackTrace=d;let b=Error().stack;if(Error.prepareStackTrace=a,!Array.isArray(b))return;let c=b.slice(2),e=[];for(let a of c)a&&e.push(a.getFileName());return e}},327959,(a,b,c)=>{"use strict";if("undefined"!=typeof SharedArrayBuffer&&"undefined"!=typeof Atomics){let a=new Int32Array(new SharedArrayBuffer(4));b.exports=function(b){if(!1==(b>0&&b<1/0)){if("number"!=typeof b&&"bigint"!=typeof b)throw TypeError("sleep: ms must be a number");throw RangeError("sleep: ms must be a number that is greater than 0 but less than Infinity")}Atomics.wait(a,0,0,Number(b))}}else b.exports=function(a){if(!1==(a>0&&a<1/0)){if("number"!=typeof a&&"bigint"!=typeof a)throw TypeError("sleep: ms must be a number");throw RangeError("sleep: ms must be a number that is greater than 0 but less than Infinity")}let b=Date.now()+Number(a);for(;b>Date.now(););}},360012,(a,b,c)=>{"use strict";function d(a,b,c,d){function e(){let a=b.deref();void 0!==a&&c(a,d)}a[d]=e,process.once(d,e)}let e=new FinalizationRegistry(g),f=new WeakMap;function g(a){process.removeListener("exit",a.exit),process.removeListener("beforeExit",a.beforeExit)}b.exports={register:function(a,b){if(void 0===a)throw Error("the object can't be undefined");let c=new WeakRef(a),g={};f.set(a,g),e.register(a,g),d(g,c,b,"exit"),d(g,c,b,"beforeExit")},unregister:function(a){let b=f.get(a);f.delete(a),b&&g(b),e.unregister(a)}}},37702,(a,b,c)=>{b.exports=a.x("worker_threads",()=>require("worker_threads"))},261044,(a,b,c)=>{"use strict";b.exports={wait:function(a,b,c,d,e){let f=Date.now()+d,g=Atomics.load(a,b);if(g===c)return void e(null,"ok");let h=g,i=d=>{Date.now()>f?e(null,"timed-out"):setTimeout(()=>{h=g,(g=Atomics.load(a,b))===h?i(d>=1e3?1e3:2*d):g===c?e(null,"ok"):e(null,"not-equal")},d)};i(1)},waitDiff:function(a,b,c,d,e){let f=Date.now()+d,g=Atomics.load(a,b);if(g!==c)return void e(null,"ok");let h=d=>{Date.now()>f?e(null,"timed-out"):setTimeout(()=>{(g=Atomics.load(a,b))!==c?e(null,"ok"):h(d>=1e3?1e3:2*d)},d)};h(1)}}},475067,(a,b,c)=>{"use strict";b.exports={WRITE_INDEX:4,READ_INDEX:8}},505222,(a,b,c)=>{"use strict";let{EventEmitter:d}=a.r(427699),{Worker:e}=a.r(37702),{join:f}=a.r(814747),{pathToFileURL:g}=a.r(792509),{wait:h}=a.r(261044),{WRITE_INDEX:i,READ_INDEX:j}=a.r(475067),k=a.r(500874),l=a.r(449719),m=Symbol("kImpl"),o=k.constants.MAX_STRING_LENGTH;class p{constructor(a){this._value=a}deref(){return this._value}}let q=a.g.FinalizationRegistry||class{register(){}unregister(){}},r=a.g.WeakRef||p,s=new q(a=>{a.exited||a.terminate()});function t(a){l(!a[m].sync),a[m].needDrain&&(a[m].needDrain=!1,a.emit("drain"))}function u(a){let b=Atomics.load(a[m].state,i),c=a[m].data.length-b;if(c>0){if(0===a[m].buf.length){a[m].flushing=!1,a[m].ending?z(a):a[m].needDrain&&process.nextTick(t,a);return}let b=a[m].buf.slice(0,c),d=Buffer.byteLength(b);d<=c?(a[m].buf=a[m].buf.slice(c),y(a,b,u.bind(null,a))):a.flush(()=>{if(!a.destroyed){for(Atomics.store(a[m].state,j,0),Atomics.store(a[m].state,i,0);d>a[m].data.length;)c/=2,b=a[m].buf.slice(0,c),d=Buffer.byteLength(b);a[m].buf=a[m].buf.slice(c),y(a,b,u.bind(null,a))}})}else if(0===c){if(0===b&&0===a[m].buf.length)return;a.flush(()=>{Atomics.store(a[m].state,j,0),Atomics.store(a[m].state,i,0),u(a)})}else throw Error("overwritten")}function v(a){let b=this.stream.deref();if(void 0===b){this.exited=!0,this.terminate();return}switch(a.code){case"READY":this.stream=new r(b),b.flush(()=>{b[m].ready=!0,b.emit("ready")});break;case"ERROR":x(b,a.err);break;default:throw Error("this should not happen: "+a.code)}}function w(a){let b=this.stream.deref();void 0!==b&&(s.unregister(b),b.worker.exited=!0,b.worker.off("exit",w),x(b,0!==a?Error("The worker thread exited"):null))}function x(a,b){a[m].destroyed||(a[m].destroyed=!0,b&&(a[m].errored=b,a.emit("error",b)),a.worker.exited?setImmediate(()=>{a[m].closed=!0,a.emit("close")}):a.worker.terminate().catch(()=>{}).then(()=>{a[m].closed=!0,a.emit("close")}))}function y(a,b,c){let d=Atomics.load(a[m].state,i),e=Buffer.byteLength(b);return a[m].data.write(b,d),Atomics.store(a[m].state,i,d+e),Atomics.notify(a[m].state,i),c(),!0}function z(a){if(!a[m].ended&&a[m].ending&&!a[m].flushing){a[m].ended=!0;try{a.flushSync();let b=Atomics.load(a[m].state,j);Atomics.store(a[m].state,i,-1),Atomics.notify(a[m].state,i);let c=0;for(;-1!==b;){if(Atomics.wait(a[m].state,j,b,1e3),b=Atomics.load(a[m].state,j),-2===b)throw Error("end() failed");if(10==++c)throw Error("end() took too long (10s)")}process.nextTick(()=>{a[m].finished=!0,a.emit("finish")})}catch(b){x(a,b)}}}function A(a){let b=()=>{a[m].ending?z(a):a[m].needDrain&&process.nextTick(t,a)};for(a[m].flushing=!1;0!==a[m].buf.length;){let c=Atomics.load(a[m].state,i),d=a[m].data.length-c;if(0===d){B(a),Atomics.store(a[m].state,j,0),Atomics.store(a[m].state,i,0);continue}if(d<0)throw Error("overwritten");let e=a[m].buf.slice(0,d),f=Buffer.byteLength(e);if(f<=d)a[m].buf=a[m].buf.slice(d),y(a,e,b);else{for(B(a),Atomics.store(a[m].state,j,0),Atomics.store(a[m].state,i,0);f>a[m].buf.length;)d/=2,e=a[m].buf.slice(0,d),f=Buffer.byteLength(e);a[m].buf=a[m].buf.slice(d),y(a,e,b)}}}function B(a){if(a[m].flushing)throw Error("unable to flush while flushing");let b=Atomics.load(a[m].state,i),c=0;for(;;){let d=Atomics.load(a[m].state,j);if(-2===d)throw Error("_flushSync failed");if(d!==b)Atomics.wait(a[m].state,j,d,1e3);else break;if(10==++c)throw Error("_flushSync took too long (10s)")}}b.exports=class extends d{constructor(a={}){if(super(),a.bufferSize<4)throw Error("bufferSize must at least fit a 4-byte utf-8 char");this[m]={},this[m].stateBuf=new SharedArrayBuffer(128),this[m].state=new Int32Array(this[m].stateBuf),this[m].dataBuf=new SharedArrayBuffer(a.bufferSize||4194304),this[m].data=Buffer.from(this[m].dataBuf),this[m].sync=a.sync||!1,this[m].ending=!1,this[m].ended=!1,this[m].needDrain=!1,this[m].destroyed=!1,this[m].flushing=!1,this[m].ready=!1,this[m].finished=!1,this[m].errored=null,this[m].closed=!1,this[m].buf="",this.worker=function(a,b){let{filename:c,workerData:d}=b,h=new e(("__bundlerPathsOverrides"in globalThis?globalThis.__bundlerPathsOverrides:{})["thread-stream-worker"]||f("/ROOT/node_modules/thread-stream","lib","worker.js"),{...b.workerOpts,workerData:{filename:0===c.indexOf("file://")?c:g(c).href,dataBuf:a[m].dataBuf,stateBuf:a[m].stateBuf,workerData:d}});return h.stream=new p(a),h.on("message",v),h.on("exit",w),s.register(a,h),h}(this,a)}write(a){if(this[m].destroyed)throw Error("the worker has exited");if(this[m].ending)throw Error("the worker is ending");if(this[m].flushing&&this[m].buf.length+a.length>=o)try{A(this),this[m].flushing=!0}catch(a){return x(this,a),!1}if(this[m].buf+=a,this[m].sync)try{return A(this),!0}catch(a){return x(this,a),!1}return this[m].flushing||(this[m].flushing=!0,setImmediate(u,this)),this[m].needDrain=this[m].data.length-this[m].buf.length-Atomics.load(this[m].state,i)<=0,!this[m].needDrain}end(){this[m].destroyed||(this[m].ending=!0,z(this))}flush(a){if(this[m].destroyed){"function"==typeof a&&process.nextTick(a,Error("the worker has exited"));return}let b=Atomics.load(this[m].state,i);h(this[m].state,j,b,1/0,(b,c)=>{if(b){x(this,b),process.nextTick(a,b);return}if("not-equal"===c)return void this.flush(a);process.nextTick(a)})}flushSync(){this[m].destroyed||(A(this),B(this))}unref(){this.worker.unref()}ref(){this.worker.ref()}get ready(){return this[m].ready}get destroyed(){return this[m].destroyed}get closed(){return this[m].closed}get writable(){return!this[m].destroyed&&!this[m].ending}get writableEnded(){return this[m].ending}get writableFinished(){return this[m].finished}get writableNeedDrain(){return this[m].needDrain}get writableObjectMode(){return!1}get writableErrored(){return this[m].errored}}},47325,(a,b,c)=>{"use strict";let d,{createRequire:e}=a.r(362562),f=a.r(903874),{join:g,isAbsolute:h}=a.r(814747),i=a.r(327959);a.g.WeakRef&&a.g.WeakMap&&a.g.FinalizationRegistry&&(d=a.r(360012));let j=a.r(505222);function k(a){a.ref(),a.flushSync(),a.end(),a.once("close",function(){a.unref()})}b.exports=function(a){let{pipeline:b,targets:c,levels:l,options:m={},worker:o={},caller:p=f()}=a,q="string"==typeof p?[p]:p,r="__bundlerPathsOverrides"in globalThis?globalThis.__bundlerPathsOverrides:{},s=a.target;if(s&&c)throw Error("only one of target or targets can be specified");c?(s=r["pino-worker"]||g("/ROOT/node_modules/pino/lib","worker.js"),m.targets=c.map(a=>({...a,target:v(a.target)}))):b&&(s=r["pino-pipeline-worker"]||g("/ROOT/node_modules/pino/lib","worker-pipeline.js"),m.targets=b.map(a=>({...a,target:v(a.target)}))),l&&(m.levels=l);let t=new j({filename:v(s),workerData:m,workerOpts:o});function u(){t.closed||(t.flushSync(),i(100),t.end())}return t.on("ready",function(){process.removeListener("exit",u),t.unref(),!1!==o.autoEnd&&function(a){if(d)d.register(a,k),a.on("close",function(){d.unregister(a)});else{let b=k.bind(null,a);process.once("beforeExit",b),process.once("exit",b),a.on("close",function(){process.removeListener("beforeExit",b),process.removeListener("exit",b)})}}(t)}),t.on("close",function(){process.removeListener("exit",u)}),process.on("exit",u),t;function v(a){let b;if(h(a=r[a]||a)||0===a.indexOf("file://"))return a;if("pino/file"===a)return g("/ROOT/node_modules/pino/lib","..","file.js");for(let c of q)try{b=e(c).resolve(a);break}catch(a){continue}if(!b)throw Error(`unable to determine transport target for "${a}"`);return b}}},889275,(a,b,c)=>{"use strict";let d=Symbol("pino.setLevel"),e=Symbol("pino.getLevel"),f=Symbol("pino.levelVal"),g=Symbol("pino.useLevelLabels"),h=Symbol("pino.useOnlyCustomLevels"),i=Symbol("pino.mixin"),j=Symbol("pino.lsCache"),k=Symbol("pino.chindings"),l=Symbol("pino.parsedChindings"),m=Symbol("pino.asJson"),o=Symbol("pino.write"),p=Symbol("pino.redactFmt"),q=Symbol("pino.time"),r=Symbol("pino.timeSliceIndex"),s=Symbol("pino.stream"),t=Symbol("pino.stringify"),u=Symbol("pino.stringifySafe"),v=Symbol("pino.stringifiers"),w=Symbol("pino.end"),x=Symbol("pino.formatOpts"),y=Symbol("pino.messageKey"),z=Symbol("pino.nestedKey"),A=Symbol("pino.nestedKeyStr"),B=Symbol("pino.mixinMergeStrategy"),C=Symbol("pino.wildcardFirst"),D=Symbol.for("pino.serializers"),E=Symbol.for("pino.formatters"),F=Symbol.for("pino.hooks");b.exports={setLevelSym:d,getLevelSym:e,levelValSym:f,useLevelLabelsSym:g,mixinSym:i,lsCacheSym:j,chindingsSym:k,parsedChindingsSym:l,asJsonSym:m,writeSym:o,serializersSym:D,redactFmtSym:p,timeSym:q,timeSliceIndexSym:r,streamSym:s,stringifySym:t,stringifySafeSym:u,stringifiersSym:v,endSym:w,formatOptsSym:x,messageKeySym:y,nestedKeySym:z,wildcardFirstSym:C,needsMetadataGsym:Symbol.for("pino.metadata"),useOnlyCustomLevelsSym:h,formattersSym:E,hooksSym:F,nestedKeyStrSym:A,mixinMergeStrategySym:B}},250643,(a,b,c)=>{"use strict";function d(a){try{return JSON.stringify(a)}catch(a){return'"[Circular]"'}}b.exports=function(a,b,c){var e=c&&c.stringify||d;if("object"==typeof a&&null!==a){var f=b.length+1;if(1===f)return a;var g=Array(f);g[0]=e(a);for(var h=1;h<f;h++)g[h]=e(b[h]);return g.join(" ")}if("string"!=typeof a)return a;var i=b.length;if(0===i)return a;for(var j="",k=0,l=-1,m=a&&a.length||0,o=0;o<m;){if(37===a.charCodeAt(o)&&o+1<m){switch(l=l>-1?l:0,a.charCodeAt(o+1)){case 100:case 102:if(k>=i||null==b[k])break;l<o&&(j+=a.slice(l,o)),j+=Number(b[k]),l=o+2,o++;break;case 105:if(k>=i||null==b[k])break;l<o&&(j+=a.slice(l,o)),j+=Math.floor(Number(b[k])),l=o+2,o++;break;case 79:case 111:case 106:if(k>=i||void 0===b[k])break;l<o&&(j+=a.slice(l,o));var p=typeof b[k];if("string"===p){j+="'"+b[k]+"'",l=o+2,o++;break}if("function"===p){j+=b[k].name||"<anonymous>",l=o+2,o++;break}j+=e(b[k]),l=o+2,o++;break;case 115:if(k>=i)break;l<o&&(j+=a.slice(l,o)),j+=String(b[k]),l=o+2,o++;break;case 37:l<o&&(j+=a.slice(l,o)),j+="%",l=o+2,o++,k--}++k}++o}return -1===l?a:(l<m&&(j+=a.slice(l)),j)}},566653,(a,b,c)=>{"use strict";b.exports=function a(b){if(!(b instanceof Error))return b;b[e]=void 0;let c=Object.create(g);for(let f in c.type="[object Function]"===d.call(b.constructor)?b.constructor.name:b.name,c.message=b.message,c.stack=b.stack,b)if(void 0===c[f]){let d=b[f];d instanceof Error?d.hasOwnProperty(e)||(c[f]=a(d)):c[f]=d}return delete b[e],c.raw=b,c};let{toString:d}=Object.prototype,e=Symbol("circular-ref-tag"),f=Symbol("pino-raw-err-ref"),g=Object.create({},{type:{enumerable:!0,writable:!0,value:void 0},message:{enumerable:!0,writable:!0,value:void 0},stack:{enumerable:!0,writable:!0,value:void 0},raw:{enumerable:!1,get:function(){return this[f]},set:function(a){this[f]=a}}});Object.defineProperty(g,f,{writable:!0,value:{}})},919067,(a,b,c)=>{"use strict";b.exports={mapHttpRequest:function(a){return{req:f(a)}},reqSerializer:f};let d=Symbol("pino-raw-req-ref"),e=Object.create({},{id:{enumerable:!0,writable:!0,value:""},method:{enumerable:!0,writable:!0,value:""},url:{enumerable:!0,writable:!0,value:""},query:{enumerable:!0,writable:!0,value:""},params:{enumerable:!0,writable:!0,value:""},headers:{enumerable:!0,writable:!0,value:{}},remoteAddress:{enumerable:!0,writable:!0,value:""},remotePort:{enumerable:!0,writable:!0,value:""},raw:{enumerable:!1,get:function(){return this[d]},set:function(a){this[d]=a}}});function f(a){let b=a.info||a.socket,c=Object.create(e);return c.id="function"==typeof a.id?a.id():a.id||(a.info?a.info.id:void 0),c.method=a.method,a.originalUrl?(c.url=a.originalUrl,c.query=a.query,c.params=a.params):c.url=a.path||(a.url?a.url.path||a.url:void 0),c.headers=a.headers,c.remoteAddress=b&&b.remoteAddress,c.remotePort=b&&b.remotePort,c.raw=a.raw||a,c}Object.defineProperty(e,d,{writable:!0,value:{}})},510139,(a,b,c)=>{"use strict";b.exports={mapHttpResponse:function(a){return{res:f(a)}},resSerializer:f};let d=Symbol("pino-raw-res-ref"),e=Object.create({},{statusCode:{enumerable:!0,writable:!0,value:0},headers:{enumerable:!0,writable:!0,value:""},raw:{enumerable:!1,get:function(){return this[d]},set:function(a){this[d]=a}}});function f(a){let b=Object.create(e);return b.statusCode=a.statusCode,b.headers=a.getHeaders?a.getHeaders():a._headers,b.raw=a,b}Object.defineProperty(e,d,{writable:!0,value:{}})},631046,(a,b,c)=>{"use strict";let d=a.r(566653),e=a.r(919067),f=a.r(510139);b.exports={err:d,mapHttpRequest:e.mapHttpRequest,mapHttpResponse:f.mapHttpResponse,req:e.reqSerializer,res:f.resSerializer,wrapErrorSerializer:function(a){return a===d?a:function(b){return a(d(b))}},wrapRequestSerializer:function(a){return a===e.reqSerializer?a:function(b){return a(e.reqSerializer(b))}},wrapResponseSerializer:function(a){return a===f.resSerializer?a:function(b){return a(f.resSerializer(b))}}}},474359,(a,b,c)=>{"use strict";let d=a.r(522734),e=a.r(427699),f=a.r(224361).inherits,g=a.r(814747),h=a.r(327959);function i(a,b){function c(c,d){if(c){b._reopening=!1,b._writing=!1,b._opening=!1,b.sync?process.nextTick(()=>{b.listenerCount("error")>0&&b.emit("error",c)}):b.emit("error",c);return}b.fd=d,b.file=a,b._reopening=!1,b._opening=!1,b._writing=!1,b.sync?process.nextTick(()=>b.emit("ready")):b.emit("ready"),!b._reopening&&(b._writing||!(b._len>b.minLength)||b.destroyed||l(b))}b._opening=!0,b._writing=!0,b._asyncDrainScheduled=!1;let e=b.append?"a":"w",f=b.mode;if(b.sync)try{b.mkdir&&d.mkdirSync(g.dirname(a),{recursive:!0});let h=d.openSync(a,e,f);c(null,h)}catch(a){throw c(a),a}else b.mkdir?d.mkdir(g.dirname(a),{recursive:!0},b=>{if(b)return c(b);d.open(a,e,f,c)}):d.open(a,e,f,c)}function j(a){if(!(this instanceof j))return new j(a);let{fd:b,dest:c,minLength:e,maxLength:f,maxWrite:g,sync:o,append:p=!0,mode:q,mkdir:r,retryEAGAIN:s}=a||{};if(b=b||c,this._bufs=[],this._len=0,this.fd=-1,this._writing=!1,this._writingBuf="",this._ending=!1,this._reopening=!1,this._asyncDrainScheduled=!1,this._hwm=Math.max(e||0,16387),this.file=null,this.destroyed=!1,this.minLength=e||0,this.maxLength=f||0,this.maxWrite=g||16384,this.sync=o||!1,this.append=p||!1,this.mode=q,this.retryEAGAIN=s||(()=>!0),this.mkdir=r||!1,"number"==typeof b)this.fd=b,process.nextTick(()=>this.emit("ready"));else if("string"==typeof b)i(b,this);else throw Error("SonicBoom supports only file descriptors and files");if(this.minLength>=this.maxWrite)throw Error(`minLength should be smaller than maxWrite (${this.maxWrite})`);this.release=(a,b)=>{if(a){if("EAGAIN"===a.code&&this.retryEAGAIN(a,this._writingBuf.length,this._len-this._writingBuf.length))if(this.sync)try{h(100),this.release(void 0,0)}catch(a){this.release(a)}else setTimeout(()=>{d.write(this.fd,this._writingBuf,"utf8",this.release)},100);else this._writing=!1,this.emit("error",a);return}if(this.emit("write",b),this._len-=b,this._writingBuf=this._writingBuf.slice(b),this._writingBuf.length){if(!this.sync)return void d.write(this.fd,this._writingBuf,"utf8",this.release);try{do{let a=d.writeSync(this.fd,this._writingBuf,"utf8");this._len-=a,this._writingBuf=this._writingBuf.slice(a)}while(this._writingBuf)}catch(a){this.release(a);return}}let c=this._len;this._reopening?(this._writing=!1,this._reopening=!1,this.reopen()):c>this.minLength?l(this):this._ending?c>0?l(this):(this._writing=!1,m(this)):(this._writing=!1,this.sync?this._asyncDrainScheduled||(this._asyncDrainScheduled=!0,process.nextTick(k,this)):this.emit("drain"))},this.on("newListener",function(a){"drain"===a&&(this._asyncDrainScheduled=!1)})}function k(a){a.listenerCount("drain")>0&&(a._asyncDrainScheduled=!1,a.emit("drain"))}function l(a){let b=a.release;if(a._writing=!0,a._writingBuf=a._writingBuf||a._bufs.shift()||"",a.sync)try{let c=d.writeSync(a.fd,a._writingBuf,"utf8");b(null,c)}catch(a){b(a)}else d.write(a.fd,a._writingBuf,"utf8",b)}function m(a){if(-1===a.fd)return void a.once("ready",m.bind(null,a));function b(b){if(b)return void a.emit("error",b);a._ending&&!a._writing&&a.emit("finish"),a.emit("close")}a.destroyed=!0,a._bufs=[],1!==a.fd&&2!==a.fd?d.close(a.fd,b):setImmediate(b)}f(j,e),j.prototype.write=function(a){if(this.destroyed)throw Error("SonicBoom destroyed");let b=this._len+a.length,c=this._bufs;return this.maxLength&&b>this.maxLength?this.emit("drop",a):(0===c.length||c[c.length-1].length+a.length>this.maxWrite?c.push(""+a):c[c.length-1]+=a,this._len=b,!this._writing&&this._len>=this.minLength&&l(this)),this._len<this._hwm},j.prototype.flush=function(){if(this.destroyed)throw Error("SonicBoom destroyed");this._writing||this.minLength<=0||(0===this._bufs.length&&this._bufs.push(""),l(this))},j.prototype.reopen=function(a){if(this.destroyed)throw Error("SonicBoom destroyed");if(this._opening)return void this.once("ready",()=>{this.reopen(a)});if(this._ending)return;if(!this.file)throw Error("Unable to reopen a file descriptor, you must pass a file to SonicBoom");if(this._reopening=!0,this._writing)return;let b=this.fd;this.once("ready",()=>{b!==this.fd&&d.close(b,a=>{if(a)return this.emit("error",a)})}),i(a||this.file,this)},j.prototype.end=function(){if(this.destroyed)throw Error("SonicBoom destroyed");if(this._opening)return void this.once("ready",()=>{this.end()});!this._ending&&(this._ending=!0,this._writing||(this._len>0&&this.fd>=0?l(this):m(this)))},j.prototype.flushSync=function(){if(this.destroyed)throw Error("SonicBoom destroyed");if(this.fd<0)throw Error("sonic boom is not ready yet");for(!this._writing&&this._writingBuf.length>0&&(this._bufs.unshift(this._writingBuf),this._writingBuf="");this._bufs.length;){let a=this._bufs[0];try{this._len-=d.writeSync(this.fd,a,"utf8"),this._bufs.shift()}catch(b){if("EAGAIN"!==b.code||!this.retryEAGAIN(b,a.length,this._len-a.length))throw b;h(100)}}},j.prototype.destroy=function(){this.destroyed||m(this)},j.SonicBoom=j,j.default=j,b.exports=j},623465,(a,b,c)=>{"use strict";let{format:d}=a.r(224361);b.exports=function(){let a={},b=new Map;return{create:function(c,e,f){if(!c)throw Error("Warning name must not be empty");if(!e)throw Error("Warning code must not be empty");if(!f)throw Error("Warning message must not be empty");if(void 0!==a[e=e.toUpperCase()])throw Error(`The code '${e}' already exist`);return b.set(e,!1),a[e]=function(a,b,g){let h;return h=a&&b&&g?d(f,a,b,g):a&&b?d(f,a,b):a?d(f,a):f,{code:e,name:c,message:h}},a[e]},emit:function(c,d,e,f){if(void 0===a[c])throw Error(`The code '${c}' does not exist`);if(!0===b.get(c))return;b.set(c,!0);let g=a[c](d,e,f);process.emitWarning(g.message,g.name,g.code)},emitted:b}}},873281,(a,b,c)=>{"use strict";let d=a.r(623465)();b.exports=d;let e="PinoWarning";d.create(e,"PINODEP008","prettyPrint is deprecated, look at https://github.com/pinojs/pino-pretty for alternatives."),d.create(e,"PINODEP009","The use of pino.final is discouraged in Node.js v14+ and not required. It will be removed in the next major version")},89357,(a,b,c)=>{"use strict";let d=a.r(250643),{mapHttpRequest:e,mapHttpResponse:f}=a.r(631046),g=a.r(474359),h=a.r(873281),{lsCacheSym:i,chindingsSym:j,parsedChindingsSym:k,writeSym:l,serializersSym:m,formatOptsSym:o,endSym:p,stringifiersSym:q,stringifySym:r,stringifySafeSym:s,wildcardFirstSym:t,needsMetadataGsym:u,redactFmtSym:v,streamSym:w,nestedKeySym:x,formattersSym:y,messageKeySym:z,nestedKeyStrSym:A}=a.r(889275),{isMainThread:B}=a.r(37702),C=a.r(47325);function D(){}function E(a){let b="",c=0,d=!1,e=255,f=a.length;if(f>100)return JSON.stringify(a);for(var g=0;g<f&&e>=32;g++)(34===(e=a.charCodeAt(g))||92===e)&&(b+=a.slice(c,g)+"\\",c=g,d=!0);return d?b+=a.slice(c):b=a,e<32?JSON.stringify(a):'"'+b+'"'}function F(a,b,c,d){if(b&&"function"==typeof b)return G((b=b.bind(d))(a),c,a);try{let b=(()=>{let a=Error("Cannot find module 'pino-pretty'");throw a.code="MODULE_NOT_FOUND",a})().prettyFactory;return b.asMetaWrapper=G,G(b(a),c,a)}catch(a){if(a.message.startsWith("Cannot find module 'pino-pretty'"))throw Error("Missing `pino-pretty` module: `pino-pretty` must be installed separately");throw a}}function G(a,b,c){c=Object.assign({suppressFlushSyncWarning:!1},c);let d=!1;return{[u]:!0,lastLevel:0,lastMsg:null,lastObj:null,lastLogger:null,flushSync(){c.suppressFlushSyncWarning||d||(d=!0,J(b,this),b.write(a(Object.assign({level:40,msg:"pino.final with prettyPrint does not support flushing",time:Date.now()},this.chindings()))))},chindings(){let a=this.lastLogger,b=null;return a?(a.hasOwnProperty(k)?b=a[k]:(b=JSON.parse("{"+a[j].substr(1)+"}"),a[k]=b),b):null},write(c){let d=this.lastLogger,e=this.chindings(),f=this.lastTime;"number"==typeof f||(f=f.match(/^\d+/)?parseInt(f):f.slice(1,-1));let g=this.lastObj,h=this.lastMsg,i=d[y],j=i.log?i.log(g):g,k=d[z];h&&j&&!Object.prototype.hasOwnProperty.call(j,k)&&(j[k]=h);let l=Object.assign({level:this.lastLevel,time:f},j,null),o=d[m],p=Object.keys(o);for(var r=0;r<p.length;r++){let a=p[r];void 0!==l[a]&&(l[a]=o[a](l[a]))}for(let a in e)l.hasOwnProperty(a)||(l[a]=e[a]);let s=d[q][v],t=a("function"==typeof s?s(l):l);void 0!==t&&(J(b,this),b.write(t))}}}function H(b){let c=new g(b);return c.on("error",function a(b){if("EPIPE"===b.code){c.write=D,c.end=D,c.flushSync=D,c.destroy=D;return}c.removeListener("error",a),c.emit("error",b)}),!b.sync&&B&&function(b){if(a.g.WeakRef&&a.g.WeakMap&&a.g.FinalizationRegistry){let c=a.r(360012);c.register(b,I),b.on("close",function(){c.unregister(b)})}}(c),c}function I(a,b){a.destroyed||("beforeExit"===b?(a.flush(),a.on("drain",function(){a.end()})):a.flushSync())}function J(a,b){!0===a[u]&&(a.lastLevel=b.lastLevel,a.lastMsg=b.lastMsg,a.lastObj=b.lastObj,a.lastTime=b.lastTime,a.lastLogger=b.lastLogger)}b.exports={noop:D,buildSafeSonicBoom:H,getPrettyStream:F,asChindings:function(a,b){let c,d=a[j],e=a[r],f=a[s],g=a[q],h=g[t],i=a[m];for(let j in b=(0,a[y].bindings)(b))if(c=b[j],!0===("level"!==j&&"serializers"!==j&&"formatters"!==j&&"customLevels"!==j&&b.hasOwnProperty(j)&&void 0!==c)){if(c=i[j]?i[j](c):c,void 0===(c=(g[j]||h||e)(c,f)))continue;d+=',"'+j+'":'+c}return d},asJson:function(a,b,c,d){let e,f=this[r],g=this[s],h=this[q],k=this[p],l=this[j],o=this[m],u=this[y],v=this[z],w=this[i][c]+d;w+=l,u.log&&(a=u.log(a));let B=h[t],C="";for(let b in a)if(e=a[b],Object.prototype.hasOwnProperty.call(a,b)&&void 0!==e){e=o[b]?o[b](e):e;let a=h[b]||B;switch(typeof e){case"undefined":case"function":continue;case"number":!1===Number.isFinite(e)&&(e=null);case"boolean":a&&(e=a(e));break;case"string":e=(a||E)(e);break;default:e=(a||f)(e,g)}if(void 0===e)continue;C+=',"'+b+'":'+e}let D="";if(void 0!==b){e=o[v]?o[v](b):b;let a=h[v]||B;switch(typeof e){case"function":break;case"number":!1===Number.isFinite(e)&&(e=null);case"boolean":a&&(e=a(e)),D=',"'+v+'":'+e;break;case"string":D=',"'+v+'":'+(e=(a||E)(e));break;default:D=',"'+v+'":'+(e=(a||f)(e,g))}}return this[x]&&C?w+this[A]+C.slice(1)+"}"+D+k:w+C+D+k},genLog:function(a,b){if(!b)return c;return function(...d){b.call(this,d,c,a)};function c(b,...g){if("object"==typeof b){let c,h=b;null!==b&&(b.method&&b.headers&&b.socket?b=e(b):"function"==typeof b.setHeader&&(b=f(b))),null===h&&0===g.length?c=[null]:(h=g.shift(),c=g),this[l](b,d(h,c,this[o]),a)}else this[l](null,d(b,g,this[o]),a)}},createArgsNormalizer:function(a){return function(b,c,d={},e){var f;if("string"==typeof d)e=H({dest:d,sync:!0}),d={};else if("string"==typeof e){if(d&&d.transport)throw Error("only one of option.transport or stream can be specified");e=H({dest:e,sync:!0})}else if(d instanceof g||d.writable||d._writableState)e=d,d={};else if(d.transport){let a;if(d.transport instanceof g||d.transport.writable||d.transport._writableState)throw Error("option.transport do not allow stream, please pass to option directly. e.g. pino(transport)");if(d.transport.targets&&d.transport.targets.length&&d.formatters&&"function"==typeof d.formatters.level)throw Error("option.transport.targets do not allow custom level formatters");d.customLevels&&(a=d.useOnlyCustomLevels?d.customLevels:Object.assign({},d.levels,d.customLevels)),e=C({caller:c,...d.transport,levels:a})}if((d=Object.assign({},a,d)).serializers=Object.assign({},a.serializers,d.serializers),d.formatters=Object.assign({},a.formatters,d.formatters),"onTerminated"in d)throw Error("The onTerminated option has been removed, use pino.final instead");"changeLevelName"in d&&(process.emitWarning("The changeLevelName option is deprecated and will be removed in v7. Use levelKey instead.",{code:"changeLevelName_deprecation"}),d.levelKey=d.changeLevelName,delete d.changeLevelName);let{enabled:i,prettyPrint:j,prettifier:k,messageKey:l}=d;return!1===i&&(d.level="silent"),(e=e||process.stdout)===process.stdout&&e.fd>=0&&(f=e).write===f.constructor.prototype.write&&(e=H({fd:e.fd,sync:!0})),j&&(h.emit("PINODEP008"),e=F(Object.assign({messageKey:l},j),k,e,b)),{opts:d,stream:e}}},final:function(a,b){if(Number(process.versions.node.split(".")[0])>=14&&h.emit("PINODEP009"),void 0===a||"function"!=typeof a.child)throw Error("expected a pino logger instance");let c=void 0!==b;if(c&&"function"!=typeof b)throw Error("if supplied, the handler parameter should be a function");let d=a[w];if("function"!=typeof d.flushSync)throw Error("final requires a stream that has a flushSync method, such as pino.destination");let e=new Proxy(a,{get:(a,b)=>b in a.levels.values?(...c)=>{a[b](...c),d.flushSync()}:a[b]});if(!c){try{d.flushSync()}catch{}return e}return(a=null,...c)=>{try{d.flushSync()}catch(a){}return b(a,e,...c)}},stringify:function(a,b){try{return JSON.stringify(a)}catch(c){try{return(b||this[s])(a)}catch(a){return'"[unable to serialize, circular reference is too complex to analyze]"'}}},buildFormatters:function(a,b,c){return{level:a,bindings:b,log:c}},normalizeDestFileDescriptor:function(a){let b=Number(a);return"string"==typeof a&&Number.isFinite(b)?b:a}}},292204,(a,b,c)=>{"use strict";let{lsCacheSym:d,levelValSym:e,useOnlyCustomLevelsSym:f,streamSym:g,formattersSym:h,hooksSym:i}=a.r(889275),{noop:j,genLog:k}=a.r(89357),l={trace:10,debug:20,info:30,warn:40,error:50,fatal:60},m={fatal:a=>{let b=k(l.fatal,a);return function(...a){let c=this[g];if(b.call(this,...a),"function"==typeof c.flushSync)try{c.flushSync()}catch(a){}}},error:a=>k(l.error,a),warn:a=>k(l.warn,a),info:a=>k(l.info,a),debug:a=>k(l.debug,a),trace:a=>k(l.trace,a)},o=Object.keys(l).reduce((a,b)=>(a[l[b]]=b,a),{});b.exports={initialLsCache:Object.keys(o).reduce((a,b)=>(a[b]='{"level":'+Number(b),a),{}),genLsCache:function(a){let b=a[h].level,{labels:c}=a.levels,e={};for(let a in c){let d=b(c[a],Number(a));e[a]=JSON.stringify(d).slice(0,-1)}return a[d]=e,a},levelMethods:m,getLevel:function(a){let{levels:b,levelVal:c}=this;return b&&b.labels?b.labels[c]:""},setLevel:function(a){let{labels:b,values:c}=this.levels;if("number"==typeof a){if(void 0===b[a])throw Error("unknown level value"+a);a=b[a]}if(void 0===c[a])throw Error("unknown level "+a);let d=this[e],g=this[e]=c[a],h=this[f],l=this[i].logMethod;for(let a in c){if(g>c[a]){this[a]=j;continue}this[a]=!function(a,b){if(b)return!1;switch(a){case"fatal":case"error":case"warn":case"info":case"debug":case"trace":return!0;default:return!1}}(a,h)?k(c[a],l):m[a](l)}this.emit("level-change",a,g,b[d],d)},isLevelEnabled:function(a){let{values:b}=this.levels,c=b[a];return void 0!==c&&c>=this[e]},mappings:function(a=null,b=!1){let c=a?Object.keys(a).reduce((b,c)=>(b[a[c]]=c,b),{}):null;return{labels:Object.assign(Object.create(Object.prototype,{Infinity:{value:"silent"}}),b?null:o,c),values:Object.assign(Object.create(Object.prototype,{silent:{value:1/0}}),b?null:l,a)}},levels:l,assertNoLevelCollisions:function(a,b){let{labels:c,values:d}=a;for(let a in b){if(a in d)throw Error("levels cannot be overridden");if(b[a]in c)throw Error("pre-existing level values cannot be used for new levels")}},assertDefaultLevelFound:function(a,b,c){if("number"==typeof a){if(![].concat(Object.keys(b||{}).map(a=>b[a]),c?[]:Object.keys(o).map(a=>+a),1/0).includes(a))throw Error(`default level:${a} must be included in custom levels`);return}if(!(a in Object.assign(Object.create(Object.prototype,{silent:{value:1/0}}),c?null:l,b)))throw Error(`default level:${a} must be included in custom levels`)}}},688454,(a,b,c)=>{"use strict";let d=Symbol.for("pino.metadata"),{levels:e}=a.r(292204),f=Object.create(e);f.silent=1/0;let g=e.info;function h(a,b){return a.level-b.level}b.exports=function(a,b){let c=0;a=a||[];let e=f;(b=b||{dedupe:!1}).levels&&"object"==typeof b.levels&&(e=b.levels);let i={write:j,add:l,flushSync:k,end:function(){for(let{stream:a}of this.streams)"function"==typeof a.flushSync&&a.flushSync(),a.end()},minLevel:0,streams:[],clone:function a(b){let c=Array(this.streams.length);for(let a=0;a<c.length;a++)c[a]={level:b,stream:this.streams[a].stream};return{write:j,add:l,minLevel:b,streams:c,clone:a,flushSync:k,[d]:!0}},[d]:!0};return Array.isArray(a)?a.forEach(l,i):l.call(i,a),a=null,i;function j(a){let c,e,f=this.lastLevel,{streams:g}=this;for(let h=0;h<g.length;h++)if((c=g[h]).level<=f){if((e=c.stream)[d]){let{lastTime:a,lastMsg:b,lastObj:c,lastLogger:d}=this;e.lastLevel=f,e.lastTime=a,e.lastMsg=b,e.lastObj=c,e.lastLogger=d}b.dedupe&&c.level!==f||e.write(a)}else break}function k(){for(let{stream:a}of this.streams)"function"==typeof a.flushSync&&a.flushSync()}function l(a){if(!a)return i;let b="function"==typeof a.write||a.stream,d=a.write?a:a.stream;if(!b)throw Error("stream object needs to implement either StreamEntry or DestinationStream interface");let{streams:f}=this,j={stream:d,level:"number"==typeof a.levelVal?a.levelVal:"string"==typeof a.level?e[a.level]:"number"==typeof a.level?a.level:g,levelVal:void 0,id:c++};return f.unshift(j),f.sort(h),this.minLevel=f[0].level,i}}},944800,(a,b,c)=>{"use strict";b.exports=function(a={}){let{ERR_PATHS_MUST_BE_STRINGS:b=()=>"fast-redact - Paths must be (non-empty) strings",ERR_INVALID_PATH:c=a=>`fast-redact – Invalid path (${a})`}=a;return function({paths:a}){a.forEach(a=>{if("string"!=typeof a)throw Error(b());try{if(/〇/.test(a))throw Error();let b=("["===a[0]?"":".")+a.replace(/^\*/,"〇").replace(/\.\*/g,".〇").replace(/\[\*\]/g,"[〇]");if(/\n|\r|;/.test(b)||/\/\*/.test(b))throw Error();Function(`
            'use strict'
            const o = new Proxy({}, { get: () => o, set: () => { throw Error() } });
            const 〇 = null;
            o${b}
            if ([o${b}].length !== 1) throw Error()`)()}catch(b){throw Error(c(a))}})}}},673701,(a,b,c)=>{"use strict";b.exports=/[^.[\]]+|\[((?:.)*?)\]/g},903359,(a,b,c)=>{"use strict";let d=a.r(673701);b.exports=function({paths:a}){let b=[];var c=0;let e=a.reduce(function(a,e,f){var g=e.match(d).map(a=>a.replace(/'|"|`/g,""));let h="["===e[0],i=(g=g.map(a=>"["===a[0]?a.substr(1,a.length-2):a)).indexOf("*");if(i>-1){let a=g.slice(0,i),d=a.join("."),e=g.slice(i+1,g.length),f=e.length>0;c++,b.push({before:a,beforeStr:d,after:e,nested:f})}else a[e]={path:g,val:void 0,precensored:!1,circle:"",escPath:JSON.stringify(e),leadingBracket:h};return a},{});return{wildcards:b,wcLen:c,secret:e}}},411777,(a,b,c)=>{"use strict";let d=a.r(673701);b.exports=function({secret:a,serialize:b,wcLen:c,strict:e,isCensorFct:f,censorFctTakesPath:g},h){var i,j,k,l,m,o,p,q;let r=Function("o",`
    if (typeof o !== 'object' || o == null) {
      ${(i=e,j=b,!0===i?"throw Error('fast-redact: primitives cannot be redacted')":!1===j?"return o":"return this.serialize(o)")}
    }
    const { censor, secret } = this
    const originalSecret = {}
    const secretKeys = Object.keys(secret)
    for (var i = 0; i < secretKeys.length; i++) {
      originalSecret[secretKeys[i]] = secret[secretKeys[i]]
    }

    ${(k=a,l=f,m=g,Object.keys(k).map(a=>{let{escPath:b,leadingBracket:c,path:e}=k[a],f=+!!c,g=c?"":".",h=[];for(;null!==(i=d.exec(a));){let[,a]=i,{index:b,input:c}=i;b>f&&h.push(c.substring(0,b-!a))}var i,j=h.map(a=>`o${g}${a}`).join(" && ");0===j.length?j+=`o${g}${a} != null`:j+=` && o${g}${a} != null`;let o=`
      switch (true) {
        ${h.reverse().map(a=>`
          case o${g}${a} === censor:
            secret[${b}].circle = ${JSON.stringify(a)}
            break
        `).join("\n")}
      }
    `,p=m?`val, ${JSON.stringify(e)}`:"val";return`
      if (${j}) {
        const val = o${g}${a}
        if (val === censor) {
          secret[${b}].precensored = true
        } else {
          secret[${b}].val = val
          o${g}${a} = ${l?`censor(${p})`:"censor"}
          ${o}
        }
      }
    `}).join("\n"))}
    this.compileRestore()
    ${(o=c>0,p=f,q=g,!0===o?`
    {
      const { wildcards, wcLen, groupRedact, nestedRedact } = this
      for (var i = 0; i < wcLen; i++) {
        const { before, beforeStr, after, nested } = wildcards[i]
        if (nested === true) {
          secret[beforeStr] = secret[beforeStr] || []
          nestedRedact(secret[beforeStr], o, before, after, censor, ${p}, ${q})
        } else secret[beforeStr] = groupRedact(o, before, censor, ${p}, ${q})
      }
    }
  `:"")}
    this.secret = originalSecret
    ${!1===b?"return o":`
    var s = this.serialize(o)
    this.restore(o)
    return s
  `}
  `).bind(h);return r.state=h,!1===b&&(r.restore=a=>h.restore(a)),r}},882955,(a,b,c)=>{"use strict";function d(a,b){return null!=a&&("hasOwn"in Object?Object.hasOwn(a,b):Object.prototype.hasOwnProperty.call(a,b))}function e(a,b){for(var c=-1,d=b.length,e=a;null!=e&&++c<d;)e=e[b[c]];return e}function f(a,b,c){if(a.depth===c)return f(a.parent,b,c);var d={parent:a,key:b,depth:c,children:[]};return a.children.push(d),d}function g(a,b,c){let d=a,e=[];do e.push(d.key),d=d.parent;while(null!=d.parent)return{path:e,value:b,target:c}}b.exports={groupRedact:function(a,b,c,d,f){let g=e(a,b);if(null==g||"string"==typeof g)return{keys:null,values:null,target:g,flat:!0};let h=Object.keys(g),i=h.length,j=b.length,k=f?[...b]:void 0,l=Array(i);for(var m=0;m<i;m++){let a=h[m];l[m]=g[a],f?(k[j]=a,g[a]=c(g[a],k)):d?g[a]=c(g[a]):g[a]=c}return{keys:h,values:l,target:g,flat:!0}},groupRestore:function({keys:a,values:b,target:c}){if(null==c||"string"==typeof c)return;let d=a.length;for(var e=0;e<d;e++)c[a[e]]=b[e]},nestedRedact:function(a,b,c,h,i,j,k){let l=e(b,c);if(null==l)return;let m=Object.keys(l),o=m.length;for(var p=0;p<o;p++)!function(a,b,c,e,h,i,j,k){let l=h.length,m=l-1,o=c;var p,q,r,s,t,u=-1,v=null,w=!1,x=0,y={parent:null,key:null,children:[],depth:0};if(r=p=b[c],"object"==typeof p){for(;null!=p&&++u<l&&(x+=1,c=h[u],"*"===c||v||"object"==typeof p&&c in p);)if("*"!==c||("*"===v&&(w=!0),v=c,u===m)){if(v){let l=Object.keys(p);for(var z=0;z<l.length;z++){let v=l[z];if(t=p[v],s="*"===c,w)y=f(y,v,x),r=function a(b,c,e,h,i,j,k,l,m,o,p,q,r,s,t,u,v,w,x,y){if(0===c&&(r||"object"==typeof b&&null!==b&&e in b))if(q=r?b:b[e],p=t!==u?q:k?l?j(q,[...h,m,...i]):j(q):j,r){let a=g(v,q,x);w.push(a),o[s]=p}else if(b[e]===p);else if(void 0===p&&void 0!==j||d(b,e)&&p===q);else{let a=g(f(v,e,y+1),q,x);w.push(a),b[e]=p}for(let d in b)"object"==typeof b[d]&&(v=f(v,d,y),a(b[d],c-1,e,h,i,j,k,l,m,o,p,q,r,s,t,u,v,w,x,y+1))}(t,u-1,c,e,h,i,j,k,o,p,q,r,s,v,u,m,y,a,b[o],x+1);else if(s||"object"==typeof t&&null!==t&&c in t)if(r=s?t:t[c],q=u!==m?r:j?k?i(r,[...e,o,...h]):i(r):i,s){let c=g(f(y,v,x),r,b[o]);a.push(c),p[v]=q}else if(t[c]===q);else if(void 0===q&&void 0!==i||d(t,c)&&q===r)y=f(y,v,x);else{y=f(y,v,x);let d=g(f(y,c,x+1),r,b[o]);a.push(d),t[c]=q}}v=null}else{if(r=p[c],y=f(y,c,x),q=u!==m?r:j?k?i(r,[...e,o,...h]):i(r):i,d(p,c)&&q===r||void 0===q&&void 0!==i);else{let d=g(y,r,b[o]);a.push(d),p[c]=q}p=p[c]}if("object"!=typeof p)break}}}(a,l,m[p],c,h,i,j,k);return a},nestedRestore:function(a){for(let b=0;b<a.length;b++){let{target:c,path:d,value:e}=a[b],f=c;for(let a=d.length-1;a>0;a--)f=f[d[a]];f[d[0]]=e}}}},893839,(a,b,c)=>{"use strict";let{groupRestore:d,nestedRestore:e}=a.r(882955);b.exports=function(){return function(){var a;if(this.restore){this.restore.state.secret=this.secret;return}let{secret:b,wcLen:c}=this,f=Object.keys(b),g=(a=b,f.map(b=>{let{circle:c,escPath:d,leadingBracket:e}=a[b],f=c?`o.${c} = secret[${d}].val`:`o${e?"":"."}${b} = secret[${d}].val`,g=`secret[${d}].val = undefined`;return`
      if (secret[${d}].val !== undefined) {
        try { ${f} } catch (e) {}
        ${g}
      }
    `}).join("")),h=c>0,i=h?{secret:b,groupRestore:d,nestedRestore:e}:{secret:b};this.restore=Function("o",function(a,b,c){let d=!0===c?`
    const keys = Object.keys(secret)
    const len = keys.length
    for (var i = len - 1; i >= ${b.length}; i--) {
      const k = keys[i]
      const o = secret[k]
      if (o) {
        if (o.flat === true) this.groupRestore(o)
        else this.nestedRestore(o)
        secret[k] = null
      }
    }
  `:"";return`
    const secret = this.secret
    ${d}
    ${a}
    return o
  `}(g,f,h)).bind(i),this.restore.state=i}}},178579,(a,b,c)=>{"use strict";b.exports=function(a){let{secret:b,censor:c,compileRestore:d,serialize:e,groupRedact:f,nestedRedact:g,wildcards:h,wcLen:i}=a,j=[{secret:b,censor:c,compileRestore:d}];return!1!==e&&j.push({serialize:e}),i>0&&j.push({groupRedact:f,nestedRedact:g,wildcards:h,wcLen:i}),Object.assign(...j)}},101654,(a,b,c)=>{"use strict";let d=a.r(944800),e=a.r(903359),f=a.r(411777),g=a.r(893839),{groupRedact:h,nestedRedact:i}=a.r(882955),j=a.r(178579),k=a.r(673701),l=d(),m=a=>a;function o(a={}){let b=Array.from(new Set(a.paths||[])),c="serialize"in a&&(!1===a.serialize||"function"==typeof a.serialize)?a.serialize:JSON.stringify,d=a.remove;if(!0===d&&c!==JSON.stringify)throw Error("fast-redact – remove option may only be set when serializer is JSON.stringify");let k=!0===d?void 0:"censor"in a?a.censor:"[REDACTED]",p="function"==typeof k,q=p&&k.length>1;if(0===b.length)return c||m;l({paths:b,serialize:c,censor:k});let{wildcards:r,wcLen:s,secret:t}=e({paths:b,censor:k}),u=g();return f({secret:t,wcLen:s,serialize:c,strict:!("strict"in a)||a.strict,isCensorFct:p,censorFctTakesPath:q},j({secret:t,censor:k,compileRestore:u,serialize:c,groupRedact:h,nestedRedact:i,wildcards:r,wcLen:s}))}m.restore=m,o.rx=k,o.validator=d,b.exports=o},986234,(a,b,c)=>{"use strict";let d=a.r(101654),{redactFmtSym:e,wildcardFirstSym:f}=a.r(889275),{rx:g,validator:h}=d,i=h({ERR_PATHS_MUST_BE_STRINGS:()=>"pino – redacted paths must be strings",ERR_INVALID_PATH:a=>`pino – redact paths array contains an invalid path (${a})`}),j="[Redacted]";b.exports=function(a,b){let{paths:c,censor:h}=function(a){if(Array.isArray(a))return i(a={paths:a,censor:j}),a;let{paths:b,censor:c=j,remove:d}=a;if(!1===Array.isArray(b))throw Error("pino – redact must contain an array of strings");return!0===d&&(c=void 0),i({paths:b,censor:c}),{paths:b,censor:c}}(a),k=c.reduce((a,b)=>{g.lastIndex=0;let c=g.exec(b),d=g.exec(b),e=void 0!==c[1]?c[1].replace(/^(?:"|'|`)(.*)(?:"|'|`)$/,"$1"):c[0];if("*"===e&&(e=f),null===d)return a[e]=null,a;if(null===a[e])return a;let{index:h}=d,i=`${b.substr(h,b.length-1)}`;return a[e]=a[e]||[],e!==f&&0===a[e].length&&a[e].push(...a[f]||[]),e===f&&Object.keys(a).forEach(function(b){a[b]&&a[b].push(i)}),a[e].push(i),a},{}),l={[e]:d({paths:c,censor:h,serialize:b,strict:!1})};return[...Object.keys(k),...Object.getOwnPropertySymbols(k)].reduce((a,c)=>{if(null===k[c])a[c]=a=>((...a)=>"function"==typeof h?b(h(...a)):b(h))(a,[c]);else{let e="function"==typeof h?(a,b)=>h(a,[c,...b]):h;a[c]=d({paths:k[c],censor:e,serialize:b,strict:!1})}return a},l)}},362344,(a,b,c)=>{"use strict";b.exports={nullTime:()=>"",epochTime:()=>`,"time":${Date.now()}`,unixTime:()=>`,"time":${Math.round(Date.now()/1e3)}`,isoTime:()=>`,"time":"${new Date(Date.now()).toISOString()}"`}},274343,a=>{a.v(JSON.parse('{"name":"pino","version":"7.11.0","description":"super fast, all natural json logger","main":"pino.js","type":"commonjs","types":"pino.d.ts","browser":"./browser.js","files":["pino.js","file.js","pino.d.ts","bin.js","browser.js","pretty.js","usage.txt","test","docs","example.js","lib"],"scripts":{"docs":"docsify serve","browser-test":"airtap --local 8080 test/browser*test.js","lint":"eslint .","test":"npm run lint && npm run transpile && tap --ts && jest test/jest && npm run test-types","test-ci":"npm run lint && npm run transpile && tap --ts --no-check-coverage --coverage-report=lcovonly && npm run test-types","test-ci-pnpm":"pnpm run lint && npm run transpile && tap --ts --no-coverage --no-check-coverage && pnpm run test-types","test-ci-yarn-pnp":"yarn run lint && npm run transpile && tap --ts --no-check-coverage --coverage-report=lcovonly","test-types":"tsc && tsd && ts-node test/types/pino.ts","transpile":"node ./test/fixtures/ts/transpile.cjs","cov-ui":"tap --ts --coverage-report=html","bench":"node benchmarks/utils/runbench all","bench-basic":"node benchmarks/utils/runbench basic","bench-object":"node benchmarks/utils/runbench object","bench-deep-object":"node benchmarks/utils/runbench deep-object","bench-multi-arg":"node benchmarks/utils/runbench multi-arg","bench-longs-tring":"node benchmarks/utils/runbench long-string","bench-child":"node benchmarks/utils/runbench child","bench-child-child":"node benchmarks/utils/runbench child-child","bench-child-creation":"node benchmarks/utils/runbench child-creation","bench-formatters":"node benchmarks/utils/runbench formatters","update-bench-doc":"node benchmarks/utils/generate-benchmark-doc > docs/benchmarks.md"},"bin":{"pino":"./bin.js"},"precommit":"test","repository":{"type":"git","url":"git+https://github.com/pinojs/pino.git"},"keywords":["fast","logger","stream","json"],"author":"Matteo Collina <hello@matteocollina.com>","contributors":["David Mark Clements <huperekchuno@googlemail.com>","James Sumners <james.sumners@gmail.com>","Thomas Watson Steen <w@tson.dk> (https://twitter.com/wa7son)"],"license":"MIT","bugs":{"url":"https://github.com/pinojs/pino/issues"},"homepage":"http://getpino.io","devDependencies":{"@types/flush-write-stream":"^1.0.0","@types/node":"^17.0.0","@types/tap":"^15.0.6","airtap":"4.0.4","benchmark":"^2.1.4","bole":"^4.0.0","bunyan":"^1.8.14","docsify-cli":"^4.4.1","eslint":"^7.17.0","eslint-config-standard":"^16.0.3","eslint-plugin-import":"^2.22.1","eslint-plugin-node":"^11.1.0","eslint-plugin-promise":"^5.1.0","execa":"^5.0.0","fastbench":"^1.0.1","flush-write-stream":"^2.0.0","import-fresh":"^3.2.1","jest":"^27.3.1","log":"^6.0.0","loglevel":"^1.6.7","pino-pretty":"^v7.6.0","pre-commit":"^1.2.2","proxyquire":"^2.1.3","pump":"^3.0.0","rimraf":"^3.0.2","semver":"^7.0.0","split2":"^4.0.0","steed":"^1.1.3","strip-ansi":"^6.0.0","tap":"^16.0.0","tape":"^5.0.0","through2":"^4.0.0","ts-node":"^10.7.0","tsd":"^0.20.0","typescript":"^4.4.4","winston":"^3.3.3"},"dependencies":{"atomic-sleep":"^1.0.0","fast-redact":"^3.0.0","on-exit-leak-free":"^0.2.0","pino-abstract-transport":"v0.5.0","pino-std-serializers":"^4.0.0","process-warning":"^1.0.0","quick-format-unescaped":"^4.0.3","real-require":"^0.1.0","safe-stable-stringify":"^2.1.0","sonic-boom":"^2.2.1","thread-stream":"^0.15.1"},"tsd":{"directory":"test/types"}}'))},349478,(a,b,c)=>{"use strict";let{version:d}=a.r(274343);b.exports={version:d}},603693,(a,b,c)=>{"use strict";let{EventEmitter:d}=a.r(427699),{lsCacheSym:e,levelValSym:f,setLevelSym:g,getLevelSym:h,chindingsSym:i,parsedChindingsSym:j,mixinSym:k,asJsonSym:l,writeSym:m,mixinMergeStrategySym:o,timeSym:p,timeSliceIndexSym:q,streamSym:r,serializersSym:s,formattersSym:t,useOnlyCustomLevelsSym:u,needsMetadataGsym:v,redactFmtSym:w,stringifySym:x,formatOptsSym:y,stringifiersSym:z}=a.r(889275),{getLevel:A,setLevel:B,isLevelEnabled:C,mappings:D,initialLsCache:E,genLsCache:F,assertNoLevelCollisions:G}=a.r(292204),{asChindings:H,asJson:I,buildFormatters:J,stringify:K}=a.r(89357),{version:L}=a.r(349478),M=a.r(986234),N={constructor:class{},child:function(a,b){if(!a)throw Error("missing bindings for child Pino");b=b||{};let c=this[s],d=this[t],e=Object.create(this);if(!0===b.hasOwnProperty("serializers")){for(let a in e[s]=Object.create(null),c)e[s][a]=c[a];let a=Object.getOwnPropertySymbols(c);for(var f=0;f<a.length;f++){let b=a[f];e[s][b]=c[b]}for(let a in b.serializers)e[s][a]=b.serializers[a];let d=Object.getOwnPropertySymbols(b.serializers);for(var h=0;h<d.length;h++){let a=d[h];e[s][a]=b.serializers[a]}}else e[s]=c;if(b.hasOwnProperty("formatters")){let{level:a,bindings:c,log:f}=b.formatters;e[t]=J(a||d.level,c||O,f||d.log)}else e[t]=J(d.level,O,d.log);if(!0===b.hasOwnProperty("customLevels")&&(G(this.levels,b.customLevels),e.levels=D(b.customLevels,e[u]),F(e)),"object"==typeof b.redact&&null!==b.redact||Array.isArray(b.redact)){e.redact=b.redact;let a=M(e.redact,K),c={stringify:a[w]};e[x]=K,e[z]=a,e[y]=c}e[i]=H(e,a);let j=b.level||this.level;return e[g](j),e},bindings:function(){let a=this[i],b=JSON.parse(`{${a.substr(1)}}`);return delete b.pid,delete b.hostname,b},setBindings:function(a){let b=H(this,a);this[i]=b,delete this[j]},flush:function(){let a=this[r];"flush"in a&&a.flush(Q)},isLevelEnabled:C,version:L,get level(){return this[h]()},set level(lvl){this[g](lvl)},get levelVal(){return this[f]},set levelVal(n){throw Error("levelVal is read-only")},[e]:E,[m]:function(a,b,c){let d,e=this[p](),f=this[k],g=this[o]||P;null==a?d={}:a instanceof Error?(d={err:a},void 0===b&&(b=a.message)):(d=a,void 0===b&&a.err&&(b=a.err.message)),f&&(d=g(d,f(d,c)));let h=this[l](d,b,c,e),i=this[r];!0===i[v]&&(i.lastLevel=c,i.lastObj=d,i.lastMsg=b,i.lastTime=e.slice(this[q]),i.lastLogger=this),i.write(h)},[l]:I,[h]:A,[g]:B};Object.setPrototypeOf(N,d.prototype),b.exports=function(){return Object.create(N)};let O=a=>a;function P(a,b){return Object.assign(b,a)}function Q(){}},9839,(a,b,c)=>{"use strict";let{hasOwnProperty:d}=Object.prototype,e=o();e.configure=o,e.stringify=e,e.default=e,c.stringify=e,c.configure=o,b.exports=e;let f=/[\u0000-\u001f\u0022\u005c\ud800-\udfff]/;function g(a){return a.length<5e3&&!f.test(a)?`"${a}"`:JSON.stringify(a)}function h(a,b){if(a.length>200||b)return a.sort(b);for(let b=1;b<a.length;b++){let c=a[b],d=b;for(;0!==d&&a[d-1]>c;)a[d]=a[d-1],d--;a[d]=c}return a}let i=Object.getOwnPropertyDescriptor(Object.getPrototypeOf(Object.getPrototypeOf(new Int8Array)),Symbol.toStringTag).get;function j(a){return void 0!==i.call(a)&&0!==a.length}function k(a,b,c){a.length<c&&(c=a.length);let d=","===b?"":" ",e=`"0":${d}${a[0]}`;for(let f=1;f<c;f++)e+=`${b}"${f}":${d}${a[f]}`;return e}function l(a,b){let c;if(d.call(a,b)){if("number"!=typeof(c=a[b]))throw TypeError(`The "${b}" argument must be of type number`);if(!Number.isInteger(c))throw TypeError(`The "${b}" argument must be an integer`);if(c<1)throw RangeError(`The "${b}" argument must be >= 1`)}return void 0===c?1/0:c}function m(a){return 1===a?"1 item":`${a} items`}function o(a){let b=function(a){if(d.call(a,"strict")){let b=a.strict;if("boolean"!=typeof b)throw TypeError('The "strict" argument must be of type boolean');if(b)return a=>{let b=`Object can not safely be stringified. Received type ${typeof a}`;throw"function"!=typeof a&&(b+=` (${a.toString()})`),Error(b)}}}(a={...a});b&&(void 0===a.bigint&&(a.bigint=!1),"circularValue"in a||(a.circularValue=Error));let c=function(a){if(d.call(a,"circularValue")){let b=a.circularValue;if("string"==typeof b)return`"${b}"`;if(null==b)return b;if(b===Error||b===TypeError)return{toString(){throw TypeError("Converting circular structure to JSON")}};throw TypeError('The "circularValue" argument must be of type string or the value null or undefined')}return'"[Circular]"'}(a),e=function(a,b){let c;if(d.call(a,b)&&"boolean"!=typeof(c=a[b]))throw TypeError(`The "${b}" argument must be of type boolean`);return void 0===c||c}(a,"bigint"),f=function(a){let b;if(d.call(a,"deterministic")&&"boolean"!=typeof(b=a.deterministic)&&"function"!=typeof b)throw TypeError('The "deterministic" argument must be of type boolean or comparator function');return void 0===b||b}(a),i="function"==typeof f?f:void 0,o=l(a,"maximumDepth"),p=l(a,"maximumBreadth");return function(a,d,l){if(arguments.length>1){let q="";if("number"==typeof l?q=" ".repeat(Math.min(l,10)):"string"==typeof l&&(q=l.slice(0,10)),null!=d){if("function"==typeof d)return function a(d,k,l,q,r,s){let t=k[d];switch("object"==typeof t&&null!==t&&"function"==typeof t.toJSON&&(t=t.toJSON(d)),typeof(t=q.call(k,d,t))){case"string":return g(t);case"object":{if(null===t)return"null";if(-1!==l.indexOf(t))return c;let b="",d=",",e=s;if(Array.isArray(t)){if(0===t.length)return"[]";if(o<l.length+1)return'"[Array]"';l.push(t),""!==r&&(s+=r,b+=`
${s}`,d=`,
${s}`);let c=Math.min(t.length,p),f=0;for(;f<c-1;f++){let c=a(String(f),t,l,q,r,s);b+=void 0!==c?c:"null",b+=d}let g=a(String(f),t,l,q,r,s);if(b+=void 0!==g?g:"null",t.length-1>p){let a=t.length-p-1;b+=`${d}"... ${m(a)} not stringified"`}return""!==r&&(b+=`
${e}`),l.pop(),`[${b}]`}let k=Object.keys(t),u=k.length;if(0===u)return"{}";if(o<l.length+1)return'"[Object]"';let v="",w="";""!==r&&(s+=r,d=`,
${s}`,v=" ");let x=Math.min(u,p);f&&!j(t)&&(k=h(k,i)),l.push(t);for(let c=0;c<x;c++){let e=k[c],f=a(e,t,l,q,r,s);void 0!==f&&(b+=`${w}${g(e)}:${v}${f}`,w=d)}return u>p&&(b+=`${w}"...":${v}"${m(u-p)} not stringified"`,w=d),""!==r&&w.length>1&&(b=`
${s}${b}
${e}`),l.pop(),`{${b}}`}case"number":return isFinite(t)?String(t):b?b(t):"null";case"boolean":return!0===t?"true":"false";case"undefined":return;case"bigint":if(e)return String(t);default:return b?b(t):void 0}}("",{"":a},[],d,q,"");if(Array.isArray(d))return function a(d,f,h,i,j,k){switch("object"==typeof f&&null!==f&&"function"==typeof f.toJSON&&(f=f.toJSON(d)),typeof f){case"string":return g(f);case"object":{if(null===f)return"null";if(-1!==h.indexOf(f))return c;let b=k,d="",e=",";if(Array.isArray(f)){if(0===f.length)return"[]";if(o<h.length+1)return'"[Array]"';h.push(f),""!==j&&(k+=j,d+=`
${k}`,e=`,
${k}`);let c=Math.min(f.length,p),g=0;for(;g<c-1;g++){let b=a(String(g),f[g],h,i,j,k);d+=void 0!==b?b:"null",d+=e}let l=a(String(g),f[g],h,i,j,k);if(d+=void 0!==l?l:"null",f.length-1>p){let a=f.length-p-1;d+=`${e}"... ${m(a)} not stringified"`}return""!==j&&(d+=`
${b}`),h.pop(),`[${d}]`}h.push(f);let l="";""!==j&&(k+=j,e=`,
${k}`,l=" ");let q="";for(let b of i){let c=a(b,f[b],h,i,j,k);void 0!==c&&(d+=`${q}${g(b)}:${l}${c}`,q=e)}return""!==j&&q.length>1&&(d=`
${k}${d}
${b}`),h.pop(),`{${d}}`}case"number":return isFinite(f)?String(f):b?b(f):"null";case"boolean":return!0===f?"true":"false";case"undefined":return;case"bigint":if(e)return String(f);default:return b?b(f):void 0}}("",a,[],function(a){let b=new Set;for(let c of a)("string"==typeof c||"number"==typeof c)&&b.add(String(c));return b}(d),q,"")}if(0!==q.length)return function a(d,l,q,r,s){switch(typeof l){case"string":return g(l);case"object":{if(null===l)return"null";if("function"==typeof l.toJSON){if("object"!=typeof(l=l.toJSON(d)))return a(d,l,q,r,s);if(null===l)return"null"}if(-1!==q.indexOf(l))return c;let b=s;if(Array.isArray(l)){if(0===l.length)return"[]";if(o<q.length+1)return'"[Array]"';q.push(l),s+=r;let c=`
${s}`,d=`,
${s}`,e=Math.min(l.length,p),f=0;for(;f<e-1;f++){let b=a(String(f),l[f],q,r,s);c+=void 0!==b?b:"null",c+=d}let g=a(String(f),l[f],q,r,s);if(c+=void 0!==g?g:"null",l.length-1>p){let a=l.length-p-1;c+=`${d}"... ${m(a)} not stringified"`}return c+=`
${b}`,q.pop(),`[${c}]`}let e=Object.keys(l),t=e.length;if(0===t)return"{}";if(o<q.length+1)return'"[Object]"';s+=r;let u=`,
${s}`,v="",w="",x=Math.min(t,p);j(l)&&(v+=k(l,u,p),e=e.slice(l.length),x-=l.length,w=u),f&&(e=h(e,i)),q.push(l);for(let b=0;b<x;b++){let c=e[b],d=a(c,l[c],q,r,s);void 0!==d&&(v+=`${w}${g(c)}: ${d}`,w=u)}return t>p&&(v+=`${w}"...": "${m(t-p)} not stringified"`,w=u),""!==w&&(v=`
${s}${v}
${b}`),q.pop(),`{${v}}`}case"number":return isFinite(l)?String(l):b?b(l):"null";case"boolean":return!0===l?"true":"false";case"undefined":return;case"bigint":if(e)return String(l);default:return b?b(l):void 0}}("",a,[],q,"")}return function a(d,l,q){switch(typeof l){case"string":return g(l);case"object":{if(null===l)return"null";if("function"==typeof l.toJSON){if("object"!=typeof(l=l.toJSON(d)))return a(d,l,q);if(null===l)return"null"}if(-1!==q.indexOf(l))return c;let b="",e=void 0!==l.length;if(e&&Array.isArray(l)){if(0===l.length)return"[]";if(o<q.length+1)return'"[Array]"';q.push(l);let c=Math.min(l.length,p),d=0;for(;d<c-1;d++){let c=a(String(d),l[d],q);b+=void 0!==c?c:"null",b+=","}let e=a(String(d),l[d],q);if(b+=void 0!==e?e:"null",l.length-1>p){let a=l.length-p-1;b+=`,"... ${m(a)} not stringified"`}return q.pop(),`[${b}]`}let r=Object.keys(l),s=r.length;if(0===s)return"{}";if(o<q.length+1)return'"[Object]"';let t="",u=Math.min(s,p);e&&j(l)&&(b+=k(l,",",p),r=r.slice(l.length),u-=l.length,t=","),f&&(r=h(r,i)),q.push(l);for(let c=0;c<u;c++){let d=r[c],e=a(d,l[d],q);void 0!==e&&(b+=`${t}${g(d)}:${e}`,t=",")}return s>p&&(b+=`${t}"...":"${m(s-p)} not stringified"`),q.pop(),`{${b}}`}case"number":return isFinite(l)?String(l):b?b(l):"null";case"boolean":return!0===l?"true":"false";case"undefined":return;case"bigint":if(e)return String(l);default:return b?b(l):void 0}}("",a,[])}}},626262,(a,b,c)=>{"use strict";let d=a.r(446786),e=a.r(631046),f=a.r(903874),g=a.r(986234),h=a.r(362344),i=a.r(603693),j=a.r(889275),{configure:k}=a.r(9839),{assertDefaultLevelFound:l,mappings:m,genLsCache:o,levels:p}=a.r(292204),{createArgsNormalizer:q,asChindings:r,final:s,buildSafeSonicBoom:t,buildFormatters:u,stringify:v,normalizeDestFileDescriptor:w,noop:x}=a.r(89357),{version:y}=a.r(349478),{chindingsSym:z,redactFmtSym:A,serializersSym:B,timeSym:C,timeSliceIndexSym:D,streamSym:E,stringifySym:F,stringifySafeSym:G,stringifiersSym:H,setLevelSym:I,endSym:J,formatOptsSym:K,messageKeySym:L,nestedKeySym:M,mixinSym:N,useOnlyCustomLevelsSym:O,formattersSym:P,hooksSym:Q,nestedKeyStrSym:R,mixinMergeStrategySym:S}=j,{epochTime:T,nullTime:U}=h,{pid:V}=process,W=d.hostname(),X=e.err,Y=q({level:"info",levels:p,messageKey:"msg",nestedKey:null,enabled:!0,prettyPrint:!1,base:{pid:V,hostname:W},serializers:Object.assign(Object.create(null),{err:X}),formatters:Object.assign(Object.create(null),{bindings:a=>a,level:(a,b)=>({level:b})}),hooks:{logMethod:void 0},timestamp:T,name:void 0,redact:null,customLevels:null,useOnlyCustomLevels:!1,depthLimit:5,edgeLimit:100}),Z=Object.assign(Object.create(null),e);function $(...a){let b={},{opts:c,stream:d}=Y(b,f(),...a),{redact:e,crlf:h,serializers:j,timestamp:p,messageKey:q,nestedKey:s,base:t,name:w,level:y,customLevels:V,mixin:W,mixinMergeStrategy:X,useOnlyCustomLevels:Z,formatters:_,hooks:aa,depthLimit:ab,edgeLimit:ac}=c,ad=k({maximumDepth:ab,maximumBreadth:ac}),ae=u(_.level,_.bindings,_.log),af=e?g(e,v):{},ag=v.bind({[G]:ad}),ah=e?{stringify:af[A]}:{stringify:ag},ai=r.bind(null,{[z]:"",[B]:j,[H]:af,[F]:v,[G]:ad,[P]:ae}),aj="";null!==t&&(aj=ai(void 0===w?t:Object.assign({},t,{name:w})));let ak=p instanceof Function?p:p?T:U,al=ak().indexOf(":")+1;if(Z&&!V)throw Error("customLevels is required if useOnlyCustomLevels is set true");if(W&&"function"!=typeof W)throw Error(`Unknown mixin type "${typeof W}" - expected "function"`);return l(y,V,Z),Object.assign(b,{levels:m(V,Z),[O]:Z,[E]:d,[C]:ak,[D]:al,[F]:v,[G]:ad,[H]:af,[J]:"}"+(h?"\r\n":"\n"),[K]:ah,[L]:q,[M]:s,[R]:s?`,${JSON.stringify(s)}:{`:"",[B]:j,[N]:W,[S]:X,[z]:aj,[P]:ae,[Q]:aa,silent:x}),Object.setPrototypeOf(b,i()),o(b),b[I](y),b}b.exports=$,b.exports.destination=(a=process.stdout.fd)=>"object"==typeof a?(a.dest=w(a.dest||process.stdout.fd),t(a)):t({dest:w(a),minLength:0,sync:!0}),b.exports.transport=a.r(47325),b.exports.multistream=a.r(688454),b.exports.final=s,b.exports.levels=m(),b.exports.stdSerializers=Z,b.exports.stdTimeFunctions=Object.assign({},h),b.exports.symbols=j,b.exports.version=y,b.exports.default=$,b.exports.pino=$},996840,31620,384317,a=>{"use strict";a.s(["default",()=>l],996840);var b=a.i(212566),c=a.i(404703),d=a.i(920275);class e{constructor(){this.indexedDb=(0,b.createStorage)({driver:((a={})=>{let b,d=a.base&&a.base.length>0?`${a.base}:`:"";return a.dbName&&a.storeName&&(b=(0,c.createStore)(a.dbName,a.storeName)),{name:"idb-keyval",options:a,hasItem:async a=>!(typeof await (0,c.get)(d+a,b)>"u"),getItem:async a=>await (0,c.get)(d+a,b)??null,setItem:(a,e)=>(0,c.set)(d+a,e,b),removeItem:a=>(0,c.del)(d+a,b),getKeys:()=>(0,c.keys)(b),clear:()=>(0,c.clear)(b)}})({dbName:"WALLET_CONNECT_V2_INDEXED_DB",storeName:"keyvaluestorage"})})}async getKeys(){return this.indexedDb.getKeys()}async getEntries(){return(await this.indexedDb.getItems(await this.indexedDb.getKeys())).map(a=>[a.key,a.value])}async getItem(a){let b=await this.indexedDb.getItem(a);if(null!==b)return b}async setItem(a,b){await this.indexedDb.setItem(a,(0,d.safeJsonStringify)(b))}async removeItem(a){await this.indexedDb.removeItem(a)}}var f="u">typeof globalThis?globalThis:a.g,g={exports:{}};function h(a){var b;return[a[0],(0,d.safeJsonParse)(null!=(b=a[1])?b:"")]}!function(){function a(){}a.prototype.getItem=function(a){return this.hasOwnProperty(a)?String(this[a]):null},a.prototype.setItem=function(a,b){this[a]=String(b)},a.prototype.removeItem=function(a){delete this[a]},a.prototype.clear=function(){let a=this;Object.keys(a).forEach(function(b){a[b]=void 0,delete a[b]})},a.prototype.key=function(a){return a=a||0,Object.keys(this)[a]},a.prototype.__defineGetter__("length",function(){return Object.keys(this).length}),"u">typeof f&&f.localStorage?g.exports=f.localStorage:g.exports=new a}();class i{constructor(){this.localStorage=g.exports}async getKeys(){return Object.keys(this.localStorage)}async getEntries(){return Object.entries(this.localStorage).map(h)}async getItem(a){let b=this.localStorage.getItem(a);if(null!==b)return(0,d.safeJsonParse)(b)}async setItem(a,b){this.localStorage.setItem(a,(0,d.safeJsonStringify)(b))}async removeItem(a){this.localStorage.removeItem(a)}}let j=async(a,b,c)=>{let d="wc_storage_version",e=await b.getItem(d);if(e&&e>=1)return void c(b);let f=await a.getKeys();if(!f.length)return void c(b);let g=[];for(;f.length;){let c=f.shift();if(!c)continue;let d=c.toLowerCase();if(d.includes("wc@")||d.includes("walletconnect")||d.includes("wc_")||d.includes("wallet_connect")){let d=await a.getItem(c);await b.setItem(c,d),g.push(c)}}await b.setItem(d,1),c(b),k(a,g)},k=async(a,b)=>{b.length&&b.forEach(async b=>{await a.removeItem(b)})};class l{constructor(){this.initialized=!1,this.setInitialized=a=>{this.storage=a,this.initialized=!0};let a=new i;this.storage=a;try{let b=new e;j(a,b,this.setInitialized)}catch{this.initialized=!0}}async getKeys(){return await this.initialize(),this.storage.getKeys()}async getEntries(){return await this.initialize(),this.storage.getEntries()}async getItem(a){return await this.initialize(),this.storage.getItem(a)}async setItem(a,b){return await this.initialize(),this.storage.setItem(a,b)}async removeItem(a){return await this.initialize(),this.storage.removeItem(a)}async initialize(){this.initialized||await new Promise(a=>{let b=setInterval(()=>{this.initialized&&(clearInterval(b),a())},20)})}}a.s(["generateChildLogger",()=>F,"generatePlatformLogger",()=>G,"getDefaultLoggerOptions",()=>D,"getLoggerContext",()=>E],31620);var m=a.i(626262);let o={level:"info"},p="custom_context";class q{constructor(a){this.nodeValue=a,this.sizeInBytes=new TextEncoder().encode(this.nodeValue).length,this.next=null}get value(){return this.nodeValue}get size(){return this.sizeInBytes}}class r{constructor(a){this.head=null,this.tail=null,this.lengthInNodes=0,this.maxSizeInBytes=a,this.sizeInBytes=0}append(a){let b=new q(a);if(b.size>this.maxSizeInBytes)throw Error(`[LinkedList] Value too big to insert into list: ${a} with size ${b.size}`);for(;this.size+b.size>this.maxSizeInBytes;)this.shift();this.head?this.tail&&(this.tail.next=b):this.head=b,this.tail=b,this.lengthInNodes++,this.sizeInBytes+=b.size}shift(){if(!this.head)return;let a=this.head;this.head=this.head.next,this.head||(this.tail=null),this.lengthInNodes--,this.sizeInBytes-=a.size}toArray(){let a=[],b=this.head;for(;null!==b;)a.push(b.value),b=b.next;return a}get length(){return this.lengthInNodes}get size(){return this.sizeInBytes}toOrderedArray(){return Array.from(this)}[Symbol.iterator](){let a=this.head;return{next:()=>{if(!a)return{done:!0,value:null};let b=a.value;return a=a.next,{done:!1,value:b}}}}}class s{constructor(a,b=1024e3){this.level=a??"error",this.levelValue=m.levels.values[this.level],this.MAX_LOG_SIZE_IN_BYTES=b,this.logs=new r(this.MAX_LOG_SIZE_IN_BYTES)}forwardToConsole(a,b){b===m.levels.values.error?console.error(a):b===m.levels.values.warn?console.warn(a):b===m.levels.values.debug?console.debug(a):b===m.levels.values.trace?console.trace(a):console.log(a)}appendToLogs(a){this.logs.append((0,d.safeJsonStringify)({timestamp:new Date().toISOString(),log:a}));let b="string"==typeof a?JSON.parse(a).level:a.level;b>=this.levelValue&&this.forwardToConsole(a,b)}getLogs(){return this.logs}clearLogs(){this.logs=new r(this.MAX_LOG_SIZE_IN_BYTES)}getLogArray(){return Array.from(this.logs)}logsToBlob(a){let b=this.getLogArray();return b.push((0,d.safeJsonStringify)({extraMetadata:a})),new Blob(b,{type:"application/json"})}}class t{constructor(a,b=1024e3){this.baseChunkLogger=new s(a,b)}write(a){this.baseChunkLogger.appendToLogs(a)}getLogs(){return this.baseChunkLogger.getLogs()}clearLogs(){this.baseChunkLogger.clearLogs()}getLogArray(){return this.baseChunkLogger.getLogArray()}logsToBlob(a){return this.baseChunkLogger.logsToBlob(a)}}var u=Object.defineProperty,v=Object.defineProperties,w=Object.getOwnPropertyDescriptors,x=Object.getOwnPropertySymbols,y=Object.prototype.hasOwnProperty,z=Object.prototype.propertyIsEnumerable,A=(a,b,c)=>b in a?u(a,b,{enumerable:!0,configurable:!0,writable:!0,value:c}):a[b]=c,B=(a,b)=>{for(var c in b||(b={}))y.call(b,c)&&A(a,c,b[c]);if(x)for(var c of x(b))z.call(b,c)&&A(a,c,b[c]);return a},C=(a,b)=>v(a,w(b));function D(a){return C(B({},a),{level:a?.level||o.level})}function E(a,b=p){return typeof a.bindings>"u"?function(a,b=p){return a[b]||""}(a,b):a.bindings().context||""}function F(a,b,c=p){let d=function(a,b,c=p){let d=E(a,c);return d.trim()?`${d}/${b}`:b}(a,b,c);return function(a,b,c=p){return a[c]=b,a}(a.child({context:d}),d,c)}function G(a){return"u">typeof a.loggerOverride&&"string"!=typeof a.loggerOverride?{logger:a.loggerOverride,chunkLoggerController:null}:function(a){var b;let c=new t(null==(b=a.opts)?void 0:b.level,a.maxSizeInBytes);return{logger:(0,m.default)(C(B({},a.opts),{level:"trace"}),c),chunkLoggerController:c}}(a)}a.s(["pino",()=>H.default],384317);var H=m},588047,a=>{"use strict";a.s(["__assign",()=>d,"__asyncDelegator",()=>t,"__asyncGenerator",()=>s,"__asyncValues",()=>u,"__await",()=>r,"__awaiter",()=>i,"__classPrivateFieldGet",()=>y,"__classPrivateFieldSet",()=>z,"__createBinding",()=>k,"__decorate",()=>f,"__exportStar",()=>l,"__extends",()=>c,"__generator",()=>j,"__importDefault",()=>x,"__importStar",()=>w,"__makeTemplateObject",()=>v,"__metadata",()=>h,"__param",()=>g,"__read",()=>o,"__rest",()=>e,"__spread",()=>p,"__spreadArrays",()=>q,"__values",()=>m]);var b=function(a,c){return(b=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])})(a,c)};function c(a,c){function d(){this.constructor=a}b(a,c),a.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}var d=function(){return(d=Object.assign||function(a){for(var b,c=1,d=arguments.length;c<d;c++)for(var e in b=arguments[c])Object.prototype.hasOwnProperty.call(b,e)&&(a[e]=b[e]);return a}).apply(this,arguments)};function e(a,b){var c={};for(var d in a)Object.prototype.hasOwnProperty.call(a,d)&&0>b.indexOf(d)&&(c[d]=a[d]);if(null!=a&&"function"==typeof Object.getOwnPropertySymbols)for(var e=0,d=Object.getOwnPropertySymbols(a);e<d.length;e++)0>b.indexOf(d[e])&&Object.prototype.propertyIsEnumerable.call(a,d[e])&&(c[d[e]]=a[d[e]]);return c}function f(a,b,c,d){var e,f=arguments.length,g=f<3?b:null===d?d=Object.getOwnPropertyDescriptor(b,c):d;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)g=Reflect.decorate(a,b,c,d);else for(var h=a.length-1;h>=0;h--)(e=a[h])&&(g=(f<3?e(g):f>3?e(b,c,g):e(b,c))||g);return f>3&&g&&Object.defineProperty(b,c,g),g}function g(a,b){return function(c,d){b(c,d,a)}}function h(a,b){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(a,b)}function i(a,b,c,d){return new(c||(c=Promise))(function(e,f){function g(a){try{i(d.next(a))}catch(a){f(a)}}function h(a){try{i(d.throw(a))}catch(a){f(a)}}function i(a){var b;a.done?e(a.value):((b=a.value)instanceof c?b:new c(function(a){a(b)})).then(g,h)}i((d=d.apply(a,b||[])).next())})}function j(a,b){var c,d,e,f,g={label:0,sent:function(){if(1&e[0])throw e[1];return e[1]},trys:[],ops:[]};return f={next:h(0),throw:h(1),return:h(2)},"function"==typeof Symbol&&(f[Symbol.iterator]=function(){return this}),f;function h(f){return function(h){var i=[f,h];if(c)throw TypeError("Generator is already executing.");for(;g;)try{if(c=1,d&&(e=2&i[0]?d.return:i[0]?d.throw||((e=d.return)&&e.call(d),0):d.next)&&!(e=e.call(d,i[1])).done)return e;switch(d=0,e&&(i=[2&i[0],e.value]),i[0]){case 0:case 1:e=i;break;case 4:return g.label++,{value:i[1],done:!1};case 5:g.label++,d=i[1],i=[0];continue;case 7:i=g.ops.pop(),g.trys.pop();continue;default:if(!(e=(e=g.trys).length>0&&e[e.length-1])&&(6===i[0]||2===i[0])){g=0;continue}if(3===i[0]&&(!e||i[1]>e[0]&&i[1]<e[3])){g.label=i[1];break}if(6===i[0]&&g.label<e[1]){g.label=e[1],e=i;break}if(e&&g.label<e[2]){g.label=e[2],g.ops.push(i);break}e[2]&&g.ops.pop(),g.trys.pop();continue}i=b.call(a,g)}catch(a){i=[6,a],d=0}finally{c=e=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}}}function k(a,b,c,d){void 0===d&&(d=c),a[d]=b[c]}function l(a,b){for(var c in a)"default"===c||b.hasOwnProperty(c)||(b[c]=a[c])}function m(a){var b="function"==typeof Symbol&&Symbol.iterator,c=b&&a[b],d=0;if(c)return c.call(a);if(a&&"number"==typeof a.length)return{next:function(){return a&&d>=a.length&&(a=void 0),{value:a&&a[d++],done:!a}}};throw TypeError(b?"Object is not iterable.":"Symbol.iterator is not defined.")}function o(a,b){var c="function"==typeof Symbol&&a[Symbol.iterator];if(!c)return a;var d,e,f=c.call(a),g=[];try{for(;(void 0===b||b-- >0)&&!(d=f.next()).done;)g.push(d.value)}catch(a){e={error:a}}finally{try{d&&!d.done&&(c=f.return)&&c.call(f)}finally{if(e)throw e.error}}return g}function p(){for(var a=[],b=0;b<arguments.length;b++)a=a.concat(o(arguments[b]));return a}function q(){for(var a=0,b=0,c=arguments.length;b<c;b++)a+=arguments[b].length;for(var d=Array(a),e=0,b=0;b<c;b++)for(var f=arguments[b],g=0,h=f.length;g<h;g++,e++)d[e]=f[g];return d}function r(a){return this instanceof r?(this.v=a,this):new r(a)}function s(a,b,c){if(!Symbol.asyncIterator)throw TypeError("Symbol.asyncIterator is not defined.");var d,e=c.apply(a,b||[]),f=[];return d={},g("next"),g("throw"),g("return"),d[Symbol.asyncIterator]=function(){return this},d;function g(a){e[a]&&(d[a]=function(b){return new Promise(function(c,d){f.push([a,b,c,d])>1||h(a,b)})})}function h(a,b){try{var c;(c=e[a](b)).value instanceof r?Promise.resolve(c.value.v).then(i,j):k(f[0][2],c)}catch(a){k(f[0][3],a)}}function i(a){h("next",a)}function j(a){h("throw",a)}function k(a,b){a(b),f.shift(),f.length&&h(f[0][0],f[0][1])}}function t(a){var b,c;return b={},d("next"),d("throw",function(a){throw a}),d("return"),b[Symbol.iterator]=function(){return this},b;function d(d,e){b[d]=a[d]?function(b){return(c=!c)?{value:r(a[d](b)),done:"return"===d}:e?e(b):b}:e}}function u(a){if(!Symbol.asyncIterator)throw TypeError("Symbol.asyncIterator is not defined.");var b,c=a[Symbol.asyncIterator];return c?c.call(a):(a=m(a),b={},d("next"),d("throw"),d("return"),b[Symbol.asyncIterator]=function(){return this},b);function d(c){b[c]=a[c]&&function(b){return new Promise(function(d,e){var f,g,h;f=d,g=e,h=(b=a[c](b)).done,Promise.resolve(b.value).then(function(a){f({value:a,done:h})},g)})}}}function v(a,b){return Object.defineProperty?Object.defineProperty(a,"raw",{value:b}):a.raw=b,a}function w(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)Object.hasOwnProperty.call(a,c)&&(b[c]=a[c]);return b.default=a,b}function x(a){return a&&a.__esModule?a:{default:a}}function y(a,b){if(!b.has(a))throw TypeError("attempted to get private field on non-instance");return b.get(a)}function z(a,b,c){if(!b.has(a))throw TypeError("attempted to set private field on non-instance");return b.set(a,c),c}},283435,(a,b,c)=>{"use strict";function d(){return(null===a.g||void 0===a.g?void 0:a.g.crypto)||(null===a.g||void 0===a.g?void 0:a.g.msCrypto)||{}}function e(){let a=d();return a.subtle||a.webkitSubtle}Object.defineProperty(c,"__esModule",{value:!0}),c.isBrowserCryptoAvailable=c.getSubtleCrypto=c.getBrowerCrypto=void 0,c.getBrowerCrypto=d,c.getSubtleCrypto=e,c.isBrowserCryptoAvailable=function(){return!!d()&&!!e()}},666818,(a,b,c)=>{"use strict";function d(){return"undefined"==typeof document&&"undefined"!=typeof navigator&&"ReactNative"===navigator.product}function e(){return"undefined"!=typeof process&&void 0!==process.versions&&void 0!==process.versions.node}Object.defineProperty(c,"__esModule",{value:!0}),c.isBrowser=c.isNode=c.isReactNative=void 0,c.isReactNative=d,c.isNode=e,c.isBrowser=function(){return!d()&&!e()}},42289,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0});let d=a.r(588047);d.__exportStar(a.r(283435),c),d.__exportStar(a.r(666818),c)},783855,(a,b,c)=>{"use strict";b.exports={BINARY_TYPES:["nodebuffer","arraybuffer","fragments"],GUID:"258EAFA5-E914-47DA-95CA-C5AB0DC85B11",kStatusCode:Symbol("status-code"),kWebSocket:Symbol("websocket"),EMPTY_BUFFER:Buffer.alloc(0),NOOP:()=>{}}},424321,(a,b,c)=>{"use strict";let{EMPTY_BUFFER:d}=a.r(783855);function e(a,b){if(0===a.length)return d;if(1===a.length)return a[0];let c=Buffer.allocUnsafe(b),e=0;for(let b=0;b<a.length;b++){let d=a[b];c.set(d,e),e+=d.length}return e<b?c.slice(0,e):c}function f(a,b,c,d,e){for(let f=0;f<e;f++)c[d+f]=a[f]^b[3&f]}function g(a,b){let c=a.length;for(let d=0;d<c;d++)a[d]^=b[3&d]}function h(a){return a.byteLength===a.buffer.byteLength?a.buffer:a.buffer.slice(a.byteOffset,a.byteOffset+a.byteLength)}function i(a){let b;return(i.readOnly=!0,Buffer.isBuffer(a))?a:(a instanceof ArrayBuffer?b=Buffer.from(a):ArrayBuffer.isView(a)?b=Buffer.from(a.buffer,a.byteOffset,a.byteLength):(b=Buffer.from(a),i.readOnly=!1),b)}try{let c=a.r(202625),d=c.BufferUtil||c;b.exports={concat:e,mask(a,b,c,e,g){g<48?f(a,b,c,e,g):d.mask(a,b,c,e,g)},toArrayBuffer:h,toBuffer:i,unmask(a,b){a.length<32?g(a,b):d.unmask(a,b)}}}catch(a){b.exports={concat:e,mask:f,toArrayBuffer:h,toBuffer:i,unmask:g}}},303099,(a,b,c)=>{"use strict";let d=Symbol("kDone"),e=Symbol("kRun");b.exports=class{constructor(a){this[d]=()=>{this.pending--,this[e]()},this.concurrency=a||1/0,this.jobs=[],this.pending=0}add(a){this.jobs.push(a),this[e]()}[e](){if(this.pending!==this.concurrency&&this.jobs.length){let a=this.jobs.shift();this.pending++,a(this[d])}}}},90739,(a,b,c)=>{"use strict";let d,e=a.r(406461),f=a.r(424321),g=a.r(303099),{kStatusCode:h,NOOP:i}=a.r(783855),j=Buffer.from([0,0,255,255]),k=Symbol("permessage-deflate"),l=Symbol("total-length"),m=Symbol("callback"),o=Symbol("buffers"),p=Symbol("error");function q(a){this[o].push(a),this[l]+=a.length}function r(a){if(this[l]+=a.length,this[k]._maxPayload<1||this[l]<=this[k]._maxPayload)return void this[o].push(a);this[p]=RangeError("Max payload size exceeded"),this[p].code="WS_ERR_UNSUPPORTED_MESSAGE_LENGTH",this[p][h]=1009,this.removeListener("data",r),this.reset()}function s(a){this[k]._inflate=null,a[h]=1007,this[m](a)}b.exports=class{constructor(a,b,c){this._maxPayload=0|c,this._options=a||{},this._threshold=void 0!==this._options.threshold?this._options.threshold:1024,this._isServer=!!b,this._deflate=null,this._inflate=null,this.params=null,d||(d=new g(void 0!==this._options.concurrencyLimit?this._options.concurrencyLimit:10))}static get extensionName(){return"permessage-deflate"}offer(){let a={};return this._options.serverNoContextTakeover&&(a.server_no_context_takeover=!0),this._options.clientNoContextTakeover&&(a.client_no_context_takeover=!0),this._options.serverMaxWindowBits&&(a.server_max_window_bits=this._options.serverMaxWindowBits),this._options.clientMaxWindowBits?a.client_max_window_bits=this._options.clientMaxWindowBits:null==this._options.clientMaxWindowBits&&(a.client_max_window_bits=!0),a}accept(a){return a=this.normalizeParams(a),this.params=this._isServer?this.acceptAsServer(a):this.acceptAsClient(a),this.params}cleanup(){if(this._inflate&&(this._inflate.close(),this._inflate=null),this._deflate){let a=this._deflate[m];this._deflate.close(),this._deflate=null,a&&a(Error("The deflate stream was closed while data was being processed"))}}acceptAsServer(a){let b=this._options,c=a.find(a=>(!1!==b.serverNoContextTakeover||!a.server_no_context_takeover)&&(!a.server_max_window_bits||!1!==b.serverMaxWindowBits&&("number"!=typeof b.serverMaxWindowBits||!(b.serverMaxWindowBits>a.server_max_window_bits)))&&("number"!=typeof b.clientMaxWindowBits||!!a.client_max_window_bits));if(!c)throw Error("None of the extension offers can be accepted");return b.serverNoContextTakeover&&(c.server_no_context_takeover=!0),b.clientNoContextTakeover&&(c.client_no_context_takeover=!0),"number"==typeof b.serverMaxWindowBits&&(c.server_max_window_bits=b.serverMaxWindowBits),"number"==typeof b.clientMaxWindowBits?c.client_max_window_bits=b.clientMaxWindowBits:(!0===c.client_max_window_bits||!1===b.clientMaxWindowBits)&&delete c.client_max_window_bits,c}acceptAsClient(a){let b=a[0];if(!1===this._options.clientNoContextTakeover&&b.client_no_context_takeover)throw Error('Unexpected parameter "client_no_context_takeover"');if(b.client_max_window_bits){if(!1===this._options.clientMaxWindowBits||"number"==typeof this._options.clientMaxWindowBits&&b.client_max_window_bits>this._options.clientMaxWindowBits)throw Error('Unexpected or invalid parameter "client_max_window_bits"')}else"number"==typeof this._options.clientMaxWindowBits&&(b.client_max_window_bits=this._options.clientMaxWindowBits);return b}normalizeParams(a){return a.forEach(a=>{Object.keys(a).forEach(b=>{let c=a[b];if(c.length>1)throw Error(`Parameter "${b}" must have only a single value`);if(c=c[0],"client_max_window_bits"===b){if(!0!==c){let a=+c;if(!Number.isInteger(a)||a<8||a>15)throw TypeError(`Invalid value for parameter "${b}": ${c}`);c=a}else if(!this._isServer)throw TypeError(`Invalid value for parameter "${b}": ${c}`)}else if("server_max_window_bits"===b){let a=+c;if(!Number.isInteger(a)||a<8||a>15)throw TypeError(`Invalid value for parameter "${b}": ${c}`);c=a}else if("client_no_context_takeover"===b||"server_no_context_takeover"===b){if(!0!==c)throw TypeError(`Invalid value for parameter "${b}": ${c}`)}else throw Error(`Unknown parameter "${b}"`);a[b]=c})}),a}decompress(a,b,c){d.add(d=>{this._decompress(a,b,(a,b)=>{d(),c(a,b)})})}compress(a,b,c){d.add(d=>{this._compress(a,b,(a,b)=>{d(),c(a,b)})})}_decompress(a,b,c){let d=this._isServer?"client":"server";if(!this._inflate){let a=`${d}_max_window_bits`,b="number"!=typeof this.params[a]?e.Z_DEFAULT_WINDOWBITS:this.params[a];this._inflate=e.createInflateRaw({...this._options.zlibInflateOptions,windowBits:b}),this._inflate[k]=this,this._inflate[l]=0,this._inflate[o]=[],this._inflate.on("error",s),this._inflate.on("data",r)}this._inflate[m]=c,this._inflate.write(a),b&&this._inflate.write(j),this._inflate.flush(()=>{let a=this._inflate[p];if(a){this._inflate.close(),this._inflate=null,c(a);return}let e=f.concat(this._inflate[o],this._inflate[l]);this._inflate._readableState.endEmitted?(this._inflate.close(),this._inflate=null):(this._inflate[l]=0,this._inflate[o]=[],b&&this.params[`${d}_no_context_takeover`]&&this._inflate.reset()),c(null,e)})}_compress(a,b,c){let d=this._isServer?"server":"client";if(!this._deflate){let a=`${d}_max_window_bits`,b="number"!=typeof this.params[a]?e.Z_DEFAULT_WINDOWBITS:this.params[a];this._deflate=e.createDeflateRaw({...this._options.zlibDeflateOptions,windowBits:b}),this._deflate[l]=0,this._deflate[o]=[],this._deflate.on("error",i),this._deflate.on("data",q)}this._deflate[m]=c,this._deflate.write(a),this._deflate.flush(e.Z_SYNC_FLUSH,()=>{if(!this._deflate)return;let a=f.concat(this._deflate[o],this._deflate[l]);b&&(a=a.slice(0,a.length-4)),this._deflate[m]=null,this._deflate[l]=0,this._deflate[o]=[],b&&this.params[`${d}_no_context_takeover`]&&this._deflate.reset(),c(null,a)})}}},780553,(a,b,c)=>{"use strict";function d(a){return a>=1e3&&a<=1014&&1004!==a&&1005!==a&&1006!==a||a>=3e3&&a<=4999}function e(a){let b=a.length,c=0;for(;c<b;)if((128&a[c])==0)c++;else if((224&a[c])==192){if(c+1===b||(192&a[c+1])!=128||(254&a[c])==192)return!1;c+=2}else if((240&a[c])==224){if(c+2>=b||(192&a[c+1])!=128||(192&a[c+2])!=128||224===a[c]&&(224&a[c+1])==128||237===a[c]&&(224&a[c+1])==160)return!1;c+=3}else{if((248&a[c])!=240||c+3>=b||(192&a[c+1])!=128||(192&a[c+2])!=128||(192&a[c+3])!=128||240===a[c]&&(240&a[c+1])==128||244===a[c]&&a[c+1]>143||a[c]>244)return!1;c+=4}return!0}try{let c=a.r(399873);"object"==typeof c&&(c=c.Validation.isValidUTF8),b.exports={isValidStatusCode:d,isValidUTF8:a=>a.length<150?e(a):c(a)}}catch(a){b.exports={isValidStatusCode:d,isValidUTF8:e}}},303833,(a,b,c)=>{"use strict";let{Writable:d}=a.r(688947),e=a.r(90739),{BINARY_TYPES:f,EMPTY_BUFFER:g,kStatusCode:h,kWebSocket:i}=a.r(783855),{concat:j,toArrayBuffer:k,unmask:l}=a.r(424321),{isValidStatusCode:m,isValidUTF8:o}=a.r(780553);function p(a,b,c,d,e){let f=new a(c?`Invalid WebSocket frame: ${b}`:b);return Error.captureStackTrace(f,p),f.code=e,f[h]=d,f}b.exports=class extends d{constructor(a,b,c,d){super(),this._binaryType=a||f[0],this[i]=void 0,this._extensions=b||{},this._isServer=!!c,this._maxPayload=0|d,this._bufferedBytes=0,this._buffers=[],this._compressed=!1,this._payloadLength=0,this._mask=void 0,this._fragmented=0,this._masked=!1,this._fin=!1,this._opcode=0,this._totalPayloadLength=0,this._messageLength=0,this._fragments=[],this._state=0,this._loop=!1}_write(a,b,c){if(8===this._opcode&&0==this._state)return c();this._bufferedBytes+=a.length,this._buffers.push(a),this.startLoop(c)}consume(a){if(this._bufferedBytes-=a,a===this._buffers[0].length)return this._buffers.shift();if(a<this._buffers[0].length){let b=this._buffers[0];return this._buffers[0]=b.slice(a),b.slice(0,a)}let b=Buffer.allocUnsafe(a);do{let c=this._buffers[0],d=b.length-a;a>=c.length?b.set(this._buffers.shift(),d):(b.set(new Uint8Array(c.buffer,c.byteOffset,a),d),this._buffers[0]=c.slice(a)),a-=c.length}while(a>0)return b}startLoop(a){let b;this._loop=!0;do switch(this._state){case 0:b=this.getInfo();break;case 1:b=this.getPayloadLength16();break;case 2:b=this.getPayloadLength64();break;case 3:this.getMask();break;case 4:b=this.getData(a);break;default:this._loop=!1;return}while(this._loop)a(b)}getInfo(){if(this._bufferedBytes<2){this._loop=!1;return}let a=this.consume(2);if((48&a[0])!=0)return this._loop=!1,p(RangeError,"RSV2 and RSV3 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_2_3");let b=(64&a[0])==64;if(b&&!this._extensions[e.extensionName])return this._loop=!1,p(RangeError,"RSV1 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_1");if(this._fin=(128&a[0])==128,this._opcode=15&a[0],this._payloadLength=127&a[1],0===this._opcode){if(b)return this._loop=!1,p(RangeError,"RSV1 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_1");if(!this._fragmented)return this._loop=!1,p(RangeError,"invalid opcode 0",!0,1002,"WS_ERR_INVALID_OPCODE");this._opcode=this._fragmented}else if(1===this._opcode||2===this._opcode){if(this._fragmented)return this._loop=!1,p(RangeError,`invalid opcode ${this._opcode}`,!0,1002,"WS_ERR_INVALID_OPCODE");this._compressed=b}else{if(!(this._opcode>7)||!(this._opcode<11))return this._loop=!1,p(RangeError,`invalid opcode ${this._opcode}`,!0,1002,"WS_ERR_INVALID_OPCODE");if(!this._fin)return this._loop=!1,p(RangeError,"FIN must be set",!0,1002,"WS_ERR_EXPECTED_FIN");if(b)return this._loop=!1,p(RangeError,"RSV1 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_1");if(this._payloadLength>125)return this._loop=!1,p(RangeError,`invalid payload length ${this._payloadLength}`,!0,1002,"WS_ERR_INVALID_CONTROL_PAYLOAD_LENGTH")}if(this._fin||this._fragmented||(this._fragmented=this._opcode),this._masked=(128&a[1])==128,this._isServer){if(!this._masked)return this._loop=!1,p(RangeError,"MASK must be set",!0,1002,"WS_ERR_EXPECTED_MASK")}else if(this._masked)return this._loop=!1,p(RangeError,"MASK must be clear",!0,1002,"WS_ERR_UNEXPECTED_MASK");if(126===this._payloadLength)this._state=1;else{if(127!==this._payloadLength)return this.haveLength();this._state=2}}getPayloadLength16(){if(this._bufferedBytes<2){this._loop=!1;return}return this._payloadLength=this.consume(2).readUInt16BE(0),this.haveLength()}getPayloadLength64(){if(this._bufferedBytes<8){this._loop=!1;return}let a=this.consume(8),b=a.readUInt32BE(0);return b>2097151?(this._loop=!1,p(RangeError,"Unsupported WebSocket frame: payload length > 2^53 - 1",!1,1009,"WS_ERR_UNSUPPORTED_DATA_PAYLOAD_LENGTH")):(this._payloadLength=0x100000000*b+a.readUInt32BE(4),this.haveLength())}haveLength(){if(this._payloadLength&&this._opcode<8&&(this._totalPayloadLength+=this._payloadLength,this._totalPayloadLength>this._maxPayload&&this._maxPayload>0))return this._loop=!1,p(RangeError,"Max payload size exceeded",!1,1009,"WS_ERR_UNSUPPORTED_MESSAGE_LENGTH");this._masked?this._state=3:this._state=4}getMask(){if(this._bufferedBytes<4){this._loop=!1;return}this._mask=this.consume(4),this._state=4}getData(a){let b=g;if(this._payloadLength){if(this._bufferedBytes<this._payloadLength){this._loop=!1;return}b=this.consume(this._payloadLength),this._masked&&l(b,this._mask)}if(this._opcode>7)return this.controlMessage(b);if(this._compressed){this._state=5,this.decompress(b,a);return}return b.length&&(this._messageLength=this._totalPayloadLength,this._fragments.push(b)),this.dataMessage()}decompress(a,b){this._extensions[e.extensionName].decompress(a,this._fin,(a,c)=>{if(a)return b(a);if(c.length){if(this._messageLength+=c.length,this._messageLength>this._maxPayload&&this._maxPayload>0)return b(p(RangeError,"Max payload size exceeded",!1,1009,"WS_ERR_UNSUPPORTED_MESSAGE_LENGTH"));this._fragments.push(c)}let d=this.dataMessage();if(d)return b(d);this.startLoop(b)})}dataMessage(){if(this._fin){let a=this._messageLength,b=this._fragments;if(this._totalPayloadLength=0,this._messageLength=0,this._fragmented=0,this._fragments=[],2===this._opcode){let c;c="nodebuffer"===this._binaryType?j(b,a):"arraybuffer"===this._binaryType?k(j(b,a)):b,this.emit("message",c)}else{let c=j(b,a);if(!o(c))return this._loop=!1,p(Error,"invalid UTF-8 sequence",!0,1007,"WS_ERR_INVALID_UTF8");this.emit("message",c.toString())}}this._state=0}controlMessage(a){if(8===this._opcode)if(this._loop=!1,0===a.length)this.emit("conclude",1005,""),this.end();else{if(1===a.length)return p(RangeError,"invalid payload length 1",!0,1002,"WS_ERR_INVALID_CONTROL_PAYLOAD_LENGTH");let b=a.readUInt16BE(0);if(!m(b))return p(RangeError,`invalid status code ${b}`,!0,1002,"WS_ERR_INVALID_CLOSE_CODE");let c=a.slice(2);if(!o(c))return p(Error,"invalid UTF-8 sequence",!0,1007,"WS_ERR_INVALID_UTF8");this.emit("conclude",b,c.toString()),this.end()}else 9===this._opcode?this.emit("ping",a):this.emit("pong",a);this._state=0}}},218307,(a,b,c)=>{"use strict";a.r(504446),a.r(755004);let{randomFillSync:d}=a.r(254799),e=a.r(90739),{EMPTY_BUFFER:f}=a.r(783855),{isValidStatusCode:g}=a.r(780553),{mask:h,toBuffer:i}=a.r(424321),j=Buffer.alloc(4);class k{constructor(a,b){this._extensions=b||{},this._socket=a,this._firstFragment=!0,this._compress=!1,this._bufferedBytes=0,this._deflating=!1,this._queue=[]}static frame(a,b){let c=b.mask&&b.readOnly,e=b.mask?6:2,f=a.length;a.length>=65536?(e+=8,f=127):a.length>125&&(e+=2,f=126);let g=Buffer.allocUnsafe(c?a.length+e:e);return(g[0]=b.fin?128|b.opcode:b.opcode,b.rsv1&&(g[0]|=64),g[1]=f,126===f?g.writeUInt16BE(a.length,2):127===f&&(g.writeUInt32BE(0,2),g.writeUInt32BE(a.length,6)),b.mask)?(d(j,0,4),g[1]|=128,g[e-4]=j[0],g[e-3]=j[1],g[e-2]=j[2],g[e-1]=j[3],c)?(h(a,j,g,e,a.length),[g]):(h(a,j,a,0,a.length),[g,a]):[g,a]}close(a,b,c,d){let e;if(void 0===a)e=f;else if("number"==typeof a&&g(a))if(void 0===b||""===b)(e=Buffer.allocUnsafe(2)).writeUInt16BE(a,0);else{let c=Buffer.byteLength(b);if(c>123)throw RangeError("The message must not be greater than 123 bytes");(e=Buffer.allocUnsafe(2+c)).writeUInt16BE(a,0),e.write(b,2)}else throw TypeError("First argument must be a valid error code number");this._deflating?this.enqueue([this.doClose,e,c,d]):this.doClose(e,c,d)}doClose(a,b,c){this.sendFrame(k.frame(a,{fin:!0,rsv1:!1,opcode:8,mask:b,readOnly:!1}),c)}ping(a,b,c){let d=i(a);if(d.length>125)throw RangeError("The data size must not be greater than 125 bytes");this._deflating?this.enqueue([this.doPing,d,b,i.readOnly,c]):this.doPing(d,b,i.readOnly,c)}doPing(a,b,c,d){this.sendFrame(k.frame(a,{fin:!0,rsv1:!1,opcode:9,mask:b,readOnly:c}),d)}pong(a,b,c){let d=i(a);if(d.length>125)throw RangeError("The data size must not be greater than 125 bytes");this._deflating?this.enqueue([this.doPong,d,b,i.readOnly,c]):this.doPong(d,b,i.readOnly,c)}doPong(a,b,c,d){this.sendFrame(k.frame(a,{fin:!0,rsv1:!1,opcode:10,mask:b,readOnly:c}),d)}send(a,b,c){let d=i(a),f=this._extensions[e.extensionName],g=b.binary?2:1,h=b.compress;if(this._firstFragment?(this._firstFragment=!1,h&&f&&(h=d.length>=f._threshold),this._compress=h):(h=!1,g=0),b.fin&&(this._firstFragment=!0),f){let a={fin:b.fin,rsv1:h,opcode:g,mask:b.mask,readOnly:i.readOnly};this._deflating?this.enqueue([this.dispatch,d,this._compress,a,c]):this.dispatch(d,this._compress,a,c)}else this.sendFrame(k.frame(d,{fin:b.fin,rsv1:!1,opcode:g,mask:b.mask,readOnly:i.readOnly}),c)}dispatch(a,b,c,d){if(!b)return void this.sendFrame(k.frame(a,c),d);let f=this._extensions[e.extensionName];this._bufferedBytes+=a.length,this._deflating=!0,f.compress(a,c.fin,(b,e)=>{if(this._socket.destroyed){let a=Error("The socket was closed while data was being compressed");"function"==typeof d&&d(a);for(let b=0;b<this._queue.length;b++){let c=this._queue[b][4];"function"==typeof c&&c(a)}return}this._bufferedBytes-=a.length,this._deflating=!1,c.readOnly=!1,this.sendFrame(k.frame(e,c),d),this.dequeue()})}dequeue(){for(;!this._deflating&&this._queue.length;){let a=this._queue.shift();this._bufferedBytes-=a[1].length,Reflect.apply(a[0],this,a.slice(1))}}enqueue(a){this._bufferedBytes+=a[1].length,this._queue.push(a)}sendFrame(a,b){2===a.length?(this._socket.cork(),this._socket.write(a[0]),this._socket.write(a[1],b),this._socket.uncork()):this._socket.write(a[0],b)}}b.exports=k},975134,(a,b,c)=>{"use strict";class d{constructor(a,b){this.target=b,this.type=a}}class e extends d{constructor(a,b){super("message",b),this.data=a}}class f extends d{constructor(a,b,c){super("close",c),this.wasClean=c._closeFrameReceived&&c._closeFrameSent,this.reason=b,this.code=a}}class g extends d{constructor(a){super("open",a)}}class h extends d{constructor(a,b){super("error",b),this.message=a.message,this.error=a}}b.exports={addEventListener(a,b,c){if("function"!=typeof b)return;function d(a){b.call(this,new e(a,this))}function i(a,c){b.call(this,new f(a,c,this))}function j(a){b.call(this,new h(a,this))}function k(){b.call(this,new g(this))}let l=c&&c.once?"once":"on";"message"===a?(d._listener=b,this[l](a,d)):"close"===a?(i._listener=b,this[l](a,i)):"error"===a?(j._listener=b,this[l](a,j)):"open"===a?(k._listener=b,this[l](a,k)):this[l](a,b)},removeEventListener(a,b){let c=this.listeners(a);for(let d=0;d<c.length;d++)(c[d]===b||c[d]._listener===b)&&this.removeListener(a,c[d])}}},852882,(a,b,c)=>{"use strict";let d=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1,1,1,1,1,0,0,1,1,0,1,1,0,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,1,0,1,0];function e(a,b,c){void 0===a[b]?a[b]=[c]:a[b].push(c)}b.exports={format:function(a){return Object.keys(a).map(b=>{let c=a[b];return Array.isArray(c)||(c=[c]),c.map(a=>[b].concat(Object.keys(a).map(b=>{let c=a[b];return Array.isArray(c)||(c=[c]),c.map(a=>!0===a?b:`${b}=${a}`).join("; ")})).join("; ")).join(", ")}).join(", ")},parse:function(a){let b,c,f=Object.create(null);if(void 0===a||""===a)return f;let g=Object.create(null),h=!1,i=!1,j=!1,k=-1,l=-1,m=0;for(;m<a.length;m++){let o=a.charCodeAt(m);if(void 0===b)if(-1===l&&1===d[o])-1===k&&(k=m);else if(32===o||9===o)-1===l&&-1!==k&&(l=m);else if(59===o||44===o){if(-1===k)throw SyntaxError(`Unexpected character at index ${m}`);-1===l&&(l=m);let c=a.slice(k,l);44===o?(e(f,c,g),g=Object.create(null)):b=c,k=l=-1}else throw SyntaxError(`Unexpected character at index ${m}`);else if(void 0===c)if(-1===l&&1===d[o])-1===k&&(k=m);else if(32===o||9===o)-1===l&&-1!==k&&(l=m);else if(59===o||44===o){if(-1===k)throw SyntaxError(`Unexpected character at index ${m}`);-1===l&&(l=m),e(g,a.slice(k,l),!0),44===o&&(e(f,b,g),g=Object.create(null),b=void 0),k=l=-1}else if(61===o&&-1!==k&&-1===l)c=a.slice(k,m),k=l=-1;else throw SyntaxError(`Unexpected character at index ${m}`);else if(i){if(1!==d[o])throw SyntaxError(`Unexpected character at index ${m}`);-1===k?k=m:h||(h=!0),i=!1}else if(j)if(1===d[o])-1===k&&(k=m);else if(34===o&&-1!==k)j=!1,l=m;else if(92===o)i=!0;else throw SyntaxError(`Unexpected character at index ${m}`);else if(34===o&&61===a.charCodeAt(m-1))j=!0;else if(-1===l&&1===d[o])-1===k&&(k=m);else if(-1!==k&&(32===o||9===o))-1===l&&(l=m);else if(59===o||44===o){if(-1===k)throw SyntaxError(`Unexpected character at index ${m}`);-1===l&&(l=m);let d=a.slice(k,l);h&&(d=d.replace(/\\/g,""),h=!1),e(g,c,d),44===o&&(e(f,b,g),g=Object.create(null),b=void 0),c=void 0,k=l=-1}else throw SyntaxError(`Unexpected character at index ${m}`)}if(-1===k||j)throw SyntaxError("Unexpected end of input");-1===l&&(l=m);let o=a.slice(k,l);return void 0===b?e(f,o,g):(void 0===c?e(g,o,!0):h?e(g,c,o.replace(/\\/g,"")):e(g,c,o),e(f,b,g)),f}}},413523,(a,b,c)=>{"use strict";let d=a.r(427699),e=a.r(524836),f=a.r(921517),g=a.r(504446),h=a.r(755004),{randomBytes:i,createHash:j}=a.r(254799),{Readable:k}=a.r(688947),{URL:l}=a.r(792509),m=a.r(90739),o=a.r(303833),p=a.r(218307),{BINARY_TYPES:q,EMPTY_BUFFER:r,GUID:s,kStatusCode:t,kWebSocket:u,NOOP:v}=a.r(783855),{addEventListener:w,removeEventListener:x}=a.r(975134),{format:y,parse:z}=a.r(852882),{toBuffer:A}=a.r(424321),B=["CONNECTING","OPEN","CLOSING","CLOSED"],C=[8,13];class D extends d{constructor(a,b,c){super(),this._binaryType=q[0],this._closeCode=1006,this._closeFrameReceived=!1,this._closeFrameSent=!1,this._closeMessage="",this._closeTimer=null,this._extensions={},this._protocol="",this._readyState=D.CONNECTING,this._receiver=null,this._sender=null,this._socket=null,null!==a?(this._bufferedAmount=0,this._isServer=!1,this._redirects=0,Array.isArray(b)?b=b.join(", "):"object"==typeof b&&null!==b&&(c=b,b=void 0),function a(b,c,d,g){let h,k,o={protocolVersion:C[1],maxPayload:0x6400000,perMessageDeflate:!0,followRedirects:!1,maxRedirects:10,...g,createConnection:void 0,socketPath:void 0,hostname:void 0,protocol:void 0,timeout:void 0,method:void 0,host:void 0,path:void 0,port:void 0};if(!C.includes(o.protocolVersion))throw RangeError(`Unsupported protocol version: ${o.protocolVersion} (supported versions: ${C.join(", ")})`);c instanceof l?(h=c,b._url=c.href):(h=new l(c),b._url=c);let p="ws+unix:"===h.protocol;if(!h.host&&(!p||!h.pathname)){let a=Error(`Invalid URL: ${b.url}`);if(0!==b._redirects)return void E(b,a);throw a}let q="wss:"===h.protocol||"https:"===h.protocol,r=q?443:80,t=i(16).toString("base64"),u=q?e.get:f.get;if(o.createConnection=q?G:F,o.defaultPort=o.defaultPort||r,o.port=h.port||r,o.host=h.hostname.startsWith("[")?h.hostname.slice(1,-1):h.hostname,o.headers={"Sec-WebSocket-Version":o.protocolVersion,"Sec-WebSocket-Key":t,Connection:"Upgrade",Upgrade:"websocket",...o.headers},o.path=h.pathname+h.search,o.timeout=o.handshakeTimeout,o.perMessageDeflate&&(k=new m(!0!==o.perMessageDeflate?o.perMessageDeflate:{},!1,o.maxPayload),o.headers["Sec-WebSocket-Extensions"]=y({[m.extensionName]:k.offer()})),d&&(o.headers["Sec-WebSocket-Protocol"]=d),o.origin&&(o.protocolVersion<13?o.headers["Sec-WebSocket-Origin"]=o.origin:o.headers.Origin=o.origin),(h.username||h.password)&&(o.auth=`${h.username}:${h.password}`),p){let a=o.path.split(":");o.socketPath=a[0],o.path=a[1]}if(o.followRedirects){if(0===b._redirects){b._originalUnixSocket=p,b._originalSecure=q,b._originalHostOrSocketPath=p?o.socketPath:h.host;let a=g&&g.headers;if(g={...g,headers:{}},a)for(let[b,c]of Object.entries(a))g.headers[b.toLowerCase()]=c}else{let a=p?!!b._originalUnixSocket&&o.socketPath===b._originalHostOrSocketPath:!b._originalUnixSocket&&h.host===b._originalHostOrSocketPath;a&&(!b._originalSecure||q)||(delete o.headers.authorization,delete o.headers.cookie,a||delete o.headers.host,o.auth=void 0)}o.auth&&!g.headers.authorization&&(g.headers.authorization="Basic "+Buffer.from(o.auth).toString("base64"))}let v=b._req=u(o);o.timeout&&v.on("timeout",()=>{H(b,v,"Opening handshake has timed out")}),v.on("error",a=>{null===v||v.aborted||(v=b._req=null,E(b,a))}),v.on("response",e=>{let f=e.headers.location,h=e.statusCode;if(f&&o.followRedirects&&h>=300&&h<400){let e;if(++b._redirects>o.maxRedirects)return void H(b,v,"Maximum redirects exceeded");v.abort();try{e=new l(f,c)}catch(a){E(b,a);return}a(b,e,d,g)}else b.emit("unexpected-response",v,e)||H(b,v,`Unexpected server response: ${e.statusCode}`)}),v.on("upgrade",(a,c,e)=>{let f;if(b.emit("upgrade",a),b.readyState!==D.CONNECTING)return;v=b._req=null;let g=a.headers.upgrade;if(void 0===g||"websocket"!==g.toLowerCase())return void H(b,c,"Invalid Upgrade header");let h=j("sha1").update(t+s).digest("base64");if(a.headers["sec-websocket-accept"]!==h)return void H(b,c,"Invalid Sec-WebSocket-Accept header");let i=a.headers["sec-websocket-protocol"],l=(d||"").split(/, */);if(!d&&i?f="Server sent a subprotocol but none was requested":d&&!i?f="Server sent no subprotocol":i&&!l.includes(i)&&(f="Server sent an invalid subprotocol"),f)return void H(b,c,f);i&&(b._protocol=i);let p=a.headers["sec-websocket-extensions"];if(void 0!==p){let a;if(!k)return void H(b,c,"Server sent a Sec-WebSocket-Extensions header but no extension was requested");try{a=z(p)}catch(a){H(b,c,"Invalid Sec-WebSocket-Extensions header");return}let d=Object.keys(a);if(d.length){if(1!==d.length||d[0]!==m.extensionName)return void H(b,c,"Server indicated an extension that was not requested");try{k.accept(a[m.extensionName])}catch(a){H(b,c,"Invalid Sec-WebSocket-Extensions header");return}b._extensions[m.extensionName]=k}}b.setSocket(c,e,o.maxPayload)})}(this,a,b,c)):this._isServer=!0}get binaryType(){return this._binaryType}set binaryType(a){q.includes(a)&&(this._binaryType=a,this._receiver&&(this._receiver._binaryType=a))}get bufferedAmount(){return this._socket?this._socket._writableState.length+this._sender._bufferedBytes:this._bufferedAmount}get extensions(){return Object.keys(this._extensions).join()}get onclose(){}set onclose(a){}get onerror(){}set onerror(a){}get onopen(){}set onopen(a){}get onmessage(){}set onmessage(a){}get protocol(){return this._protocol}get readyState(){return this._readyState}get url(){return this._url}setSocket(a,b,c){let d=new o(this.binaryType,this._extensions,this._isServer,c);this._sender=new p(a,this._extensions),this._receiver=d,this._socket=a,d[u]=this,a[u]=this,d.on("conclude",J),d.on("drain",K),d.on("error",L),d.on("message",N),d.on("ping",O),d.on("pong",P),a.setTimeout(0),a.setNoDelay(),b.length>0&&a.unshift(b),a.on("close",R),a.on("data",S),a.on("end",T),a.on("error",U),this._readyState=D.OPEN,this.emit("open")}emitClose(){if(!this._socket){this._readyState=D.CLOSED,this.emit("close",this._closeCode,this._closeMessage);return}this._extensions[m.extensionName]&&this._extensions[m.extensionName].cleanup(),this._receiver.removeAllListeners(),this._readyState=D.CLOSED,this.emit("close",this._closeCode,this._closeMessage)}close(a,b){if(this.readyState!==D.CLOSED){if(this.readyState===D.CONNECTING)return H(this,this._req,"WebSocket was closed before the connection was established");if(this.readyState===D.CLOSING){this._closeFrameSent&&(this._closeFrameReceived||this._receiver._writableState.errorEmitted)&&this._socket.end();return}this._readyState=D.CLOSING,this._sender.close(a,b,!this._isServer,a=>{!a&&(this._closeFrameSent=!0,(this._closeFrameReceived||this._receiver._writableState.errorEmitted)&&this._socket.end())}),this._closeTimer=setTimeout(this._socket.destroy.bind(this._socket),3e4)}}ping(a,b,c){if(this.readyState===D.CONNECTING)throw Error("WebSocket is not open: readyState 0 (CONNECTING)");if("function"==typeof a?(c=a,a=b=void 0):"function"==typeof b&&(c=b,b=void 0),"number"==typeof a&&(a=a.toString()),this.readyState!==D.OPEN)return void I(this,a,c);void 0===b&&(b=!this._isServer),this._sender.ping(a||r,b,c)}pong(a,b,c){if(this.readyState===D.CONNECTING)throw Error("WebSocket is not open: readyState 0 (CONNECTING)");if("function"==typeof a?(c=a,a=b=void 0):"function"==typeof b&&(c=b,b=void 0),"number"==typeof a&&(a=a.toString()),this.readyState!==D.OPEN)return void I(this,a,c);void 0===b&&(b=!this._isServer),this._sender.pong(a||r,b,c)}send(a,b,c){if(this.readyState===D.CONNECTING)throw Error("WebSocket is not open: readyState 0 (CONNECTING)");if("function"==typeof b&&(c=b,b={}),"number"==typeof a&&(a=a.toString()),this.readyState!==D.OPEN)return void I(this,a,c);let d={binary:"string"!=typeof a,mask:!this._isServer,compress:!0,fin:!0,...b};this._extensions[m.extensionName]||(d.compress=!1),this._sender.send(a||r,d,c)}terminate(){if(this.readyState!==D.CLOSED){if(this.readyState===D.CONNECTING)return H(this,this._req,"WebSocket was closed before the connection was established");this._socket&&(this._readyState=D.CLOSING,this._socket.destroy())}}}function E(a,b){a._readyState=D.CLOSING,a.emit("error",b),a.emitClose()}function F(a){return a.path=a.socketPath,g.connect(a)}function G(a){return a.path=void 0,a.servername||""===a.servername||(a.servername=g.isIP(a.host)?"":a.host),h.connect(a)}function H(a,b,c){a._readyState=D.CLOSING;let d=Error(c);Error.captureStackTrace(d,H),b.setHeader?(b.abort(),b.socket&&!b.socket.destroyed&&b.socket.destroy(),b.once("abort",a.emitClose.bind(a)),a.emit("error",d)):(b.destroy(d),b.once("error",a.emit.bind(a,"error")),b.once("close",a.emitClose.bind(a)))}function I(a,b,c){if(b){let c=A(b).length;a._socket?a._sender._bufferedBytes+=c:a._bufferedAmount+=c}c&&c(Error(`WebSocket is not open: readyState ${a.readyState} (${B[a.readyState]})`))}function J(a,b){let c=this[u];c._closeFrameReceived=!0,c._closeMessage=b,c._closeCode=a,void 0!==c._socket[u]&&(c._socket.removeListener("data",S),process.nextTick(Q,c._socket),1005===a?c.close():c.close(a,b))}function K(){this[u]._socket.resume()}function L(a){let b=this[u];void 0!==b._socket[u]&&(b._socket.removeListener("data",S),process.nextTick(Q,b._socket),b.close(a[t])),b.emit("error",a)}function M(){this[u].emitClose()}function N(a){this[u].emit("message",a)}function O(a){let b=this[u];b.pong(a,!b._isServer,v),b.emit("ping",a)}function P(a){this[u].emit("pong",a)}function Q(a){a.resume()}function R(){let a,b=this[u];this.removeListener("close",R),this.removeListener("data",S),this.removeListener("end",T),b._readyState=D.CLOSING,this._readableState.endEmitted||b._closeFrameReceived||b._receiver._writableState.errorEmitted||null===(a=b._socket.read())||b._receiver.write(a),b._receiver.end(),this[u]=void 0,clearTimeout(b._closeTimer),b._receiver._writableState.finished||b._receiver._writableState.errorEmitted?b.emitClose():(b._receiver.on("error",M),b._receiver.on("finish",M))}function S(a){this[u]._receiver.write(a)||this.pause()}function T(){let a=this[u];a._readyState=D.CLOSING,a._receiver.end(),this.end()}function U(){let a=this[u];this.removeListener("error",U),this.on("error",v),a&&(a._readyState=D.CLOSING,this.destroy())}Object.defineProperty(D,"CONNECTING",{enumerable:!0,value:B.indexOf("CONNECTING")}),Object.defineProperty(D.prototype,"CONNECTING",{enumerable:!0,value:B.indexOf("CONNECTING")}),Object.defineProperty(D,"OPEN",{enumerable:!0,value:B.indexOf("OPEN")}),Object.defineProperty(D.prototype,"OPEN",{enumerable:!0,value:B.indexOf("OPEN")}),Object.defineProperty(D,"CLOSING",{enumerable:!0,value:B.indexOf("CLOSING")}),Object.defineProperty(D.prototype,"CLOSING",{enumerable:!0,value:B.indexOf("CLOSING")}),Object.defineProperty(D,"CLOSED",{enumerable:!0,value:B.indexOf("CLOSED")}),Object.defineProperty(D.prototype,"CLOSED",{enumerable:!0,value:B.indexOf("CLOSED")}),["binaryType","bufferedAmount","extensions","protocol","readyState","url"].forEach(a=>{Object.defineProperty(D.prototype,a,{enumerable:!0})}),["open","error","close","message"].forEach(a=>{Object.defineProperty(D.prototype,`on${a}`,{enumerable:!0,get(){let b=this.listeners(a);for(let a=0;a<b.length;a++)if(b[a]._listener)return b[a]._listener},set(b){let c=this.listeners(a);for(let b=0;b<c.length;b++)c[b]._listener&&this.removeListener(a,c[b]);this.addEventListener(a,b)}})}),D.prototype.addEventListener=w,D.prototype.removeEventListener=x,b.exports=D},127493,(a,b,c)=>{"use strict";let{Duplex:d}=a.r(688947);function e(a){a.emit("close")}function f(){!this.destroyed&&this._writableState.finished&&this.destroy()}function g(a){this.removeListener("error",g),this.destroy(),0===this.listenerCount("error")&&this.emit("error",a)}b.exports=function(a,b){let c=!0,h=!0;function i(){c&&a._socket.resume()}a.readyState===a.CONNECTING?a.once("open",function(){a._receiver.removeAllListeners("drain"),a._receiver.on("drain",i)}):(a._receiver.removeAllListeners("drain"),a._receiver.on("drain",i));let j=new d({...b,autoDestroy:!1,emitClose:!1,objectMode:!1,writableObjectMode:!1});return a.on("message",function(b){j.push(b)||(c=!1,a._socket.pause())}),a.once("error",function(a){j.destroyed||(h=!1,j.destroy(a))}),a.once("close",function(){j.destroyed||j.push(null)}),j._destroy=function(b,c){if(a.readyState===a.CLOSED){c(b),process.nextTick(e,j);return}let d=!1;a.once("error",function(a){d=!0,c(a)}),a.once("close",function(){d||c(b),process.nextTick(e,j)}),h&&a.terminate()},j._final=function(b){if(a.readyState===a.CONNECTING)return void a.once("open",function(){j._final(b)});null!==a._socket&&(a._socket._writableState.finished?(b(),j._readableState.endEmitted&&j.destroy()):(a._socket.once("finish",function(){b()}),a.close()))},j._read=function(){(a.readyState===a.OPEN||a.readyState===a.CLOSING)&&!c&&(c=!0,a._receiver._writableState.needDrain||a._socket.resume())},j._write=function(b,c,d){if(a.readyState===a.CONNECTING)return void a.once("open",function(){j._write(b,c,d)});a.send(b,d)},j.on("end",f),j.on("error",g),j}},356492,(a,b,c)=>{"use strict";let d=a.r(427699),e=a.r(921517);a.r(524836),a.r(504446),a.r(755004);let{createHash:f}=a.r(254799),g=a.r(90739),h=a.r(413523),{format:i,parse:j}=a.r(852882),{GUID:k,kWebSocket:l}=a.r(783855),m=/^[+/0-9A-Za-z]{22}==$/;function o(a){a._state=2,a.emit("close")}function p(){this.destroy()}function q(a,b,c,d){a.writable&&(c=c||e.STATUS_CODES[b],d={Connection:"close","Content-Type":"text/html","Content-Length":Buffer.byteLength(c),...d},a.write(`HTTP/1.1 ${b} ${e.STATUS_CODES[b]}\r
`+Object.keys(d).map(a=>`${a}: ${d[a]}`).join("\r\n")+"\r\n\r\n"+c)),a.removeListener("error",p),a.destroy()}function r(a){return a.trim()}b.exports=class extends d{constructor(a,b){if(super(),null==(a={maxPayload:0x6400000,perMessageDeflate:!1,handleProtocols:null,clientTracking:!0,verifyClient:null,noServer:!1,backlog:null,server:null,host:null,path:null,port:null,...a}).port&&!a.server&&!a.noServer||null!=a.port&&(a.server||a.noServer)||a.server&&a.noServer)throw TypeError('One and only one of the "port", "server", or "noServer" options must be specified');if(null!=a.port?(this._server=e.createServer((a,b)=>{let c=e.STATUS_CODES[426];b.writeHead(426,{"Content-Length":c.length,"Content-Type":"text/plain"}),b.end(c)}),this._server.listen(a.port,a.host,a.backlog,b)):a.server&&(this._server=a.server),this._server){let a=this.emit.bind(this,"connection");this._removeListeners=function(a,b){for(let c of Object.keys(b))a.on(c,b[c]);return function(){for(let c of Object.keys(b))a.removeListener(c,b[c])}}(this._server,{listening:this.emit.bind(this,"listening"),error:this.emit.bind(this,"error"),upgrade:(b,c,d)=>{this.handleUpgrade(b,c,d,a)}})}!0===a.perMessageDeflate&&(a.perMessageDeflate={}),a.clientTracking&&(this.clients=new Set),this.options=a,this._state=0}address(){if(this.options.noServer)throw Error('The server is operating in "noServer" mode');return this._server?this._server.address():null}close(a){if(a&&this.once("close",a),2===this._state)return void process.nextTick(o,this);if(1===this._state)return;if(this._state=1,this.clients)for(let a of this.clients)a.terminate();let b=this._server;if(b&&(this._removeListeners(),this._removeListeners=this._server=null,null!=this.options.port))return void b.close(o.bind(void 0,this));process.nextTick(o,this)}shouldHandle(a){if(this.options.path){let b=a.url.indexOf("?");if((-1!==b?a.url.slice(0,b):a.url)!==this.options.path)return!1}return!0}handleUpgrade(a,b,c,d){b.on("error",p);let e=void 0!==a.headers["sec-websocket-key"]&&a.headers["sec-websocket-key"].trim(),f=a.headers.upgrade,h=+a.headers["sec-websocket-version"],i={};if("GET"!==a.method||void 0===f||"websocket"!==f.toLowerCase()||!e||!m.test(e)||8!==h&&13!==h||!this.shouldHandle(a))return q(b,400);if(this.options.perMessageDeflate){let c=new g(this.options.perMessageDeflate,!0,this.options.maxPayload);try{let b=j(a.headers["sec-websocket-extensions"]);b[g.extensionName]&&(c.accept(b[g.extensionName]),i[g.extensionName]=c)}catch(a){return q(b,400)}}if(this.options.verifyClient){let f={origin:a.headers[`${8===h?"sec-websocket-origin":"origin"}`],secure:!!(a.socket.authorized||a.socket.encrypted),req:a};if(2===this.options.verifyClient.length)return void this.options.verifyClient(f,(f,g,h,j)=>{if(!f)return q(b,g||401,h,j);this.completeUpgrade(e,i,a,b,c,d)});if(!this.options.verifyClient(f))return q(b,401)}this.completeUpgrade(e,i,a,b,c,d)}completeUpgrade(a,b,c,d,e,j){if(!d.readable||!d.writable)return d.destroy();if(d[l])throw Error("server.handleUpgrade() was called more than once with the same socket, possibly due to a misconfiguration");if(this._state>0)return q(d,503);let m=f("sha1").update(a+k).digest("base64"),o=["HTTP/1.1 101 Switching Protocols","Upgrade: websocket","Connection: Upgrade",`Sec-WebSocket-Accept: ${m}`],s=new h(null),t=c.headers["sec-websocket-protocol"];if(t&&(t=t.split(",").map(r),(t=this.options.handleProtocols?this.options.handleProtocols(t,c):t[0])&&(o.push(`Sec-WebSocket-Protocol: ${t}`),s._protocol=t)),b[g.extensionName]){let a=b[g.extensionName].params,c=i({[g.extensionName]:[a]});o.push(`Sec-WebSocket-Extensions: ${c}`),s._extensions=b}this.emit("headers",o,c),d.write(o.concat("\r\n").join("\r\n")),d.removeListener("error",p),s.setSocket(d,e,this.options.maxPayload),this.clients&&(this.clients.add(s),s.on("close",()=>this.clients.delete(s))),j(s,c)}}},769084,(a,b,c)=>{"use strict";let d=a.r(413523);d.createWebSocketStream=a.r(127493),d.Server=a.r(356492),d.Receiver=a.r(303833),d.Sender=a.r(218307),b.exports=d},837591,(a,b,c)=>{let d=a.r(671277),e=d.default||d,f=function(a,b){return/^\/\//.test(a)&&(a="https:"+a),e.call(this,a,b)};f.ponyfill=!0,b.exports=c=f,c.fetch=f,c.Headers=d.Headers,c.Request=d.Request,c.Response=d.Response,c.default=f},271137,499963,517992,258910,901631,419997,a=>{"use strict";a.s(["JsonRpcProvider",()=>A],271137);var b=a.i(427699);a.s([],258910);let c="INTERNAL_ERROR",d="SERVER_ERROR",e=[-32700,-32600,-32601,-32602,-32603],f={PARSE_ERROR:{code:-32700,message:"Parse error"},INVALID_REQUEST:{code:-32600,message:"Invalid Request"},METHOD_NOT_FOUND:{code:-32601,message:"Method not found"},INVALID_PARAMS:{code:-32602,message:"Invalid params"},[c]:{code:-32603,message:"Internal error"},[d]:{code:-32e3,message:"Server error"}};function g(a){return Object.keys(f).includes(a)?f[a]:f[d]}function h(a,b,c){return a.message.includes("getaddrinfo ENOTFOUND")||a.message.includes("connect ECONNREFUSED")?Error(`Unavailable ${c} RPC url at ${b}`):a}var i=a.i(42289);function j(a=3){return Date.now()*Math.pow(10,a)+Math.floor(Math.random()*Math.pow(10,a))}function k(a=6){return BigInt(j(a))}function l(a,b,c){return{id:c||j(),jsonrpc:"2.0",method:a,params:b}}function m(a,b){return{id:a,jsonrpc:"2.0",result:b}}function o(a,b,h){var i,j,k;return{id:a,jsonrpc:"2.0",error:(i=b,j=h,void 0===i?g(c):("string"==typeof i&&(i=Object.assign(Object.assign({},g(d)),{message:i})),void 0!==j&&(i.data=j),k=i.code,e.includes(k)&&(i=function(a){let b=Object.values(f).find(b=>b.code===a);return b||f[d]}(i.code)),i))}}i.isNode,a.s(["formatJsonRpcError",()=>o,"formatJsonRpcRequest",()=>l,"formatJsonRpcResult",()=>m,"getBigIntRpcId",()=>k,"payloadId",()=>j],499963);class p{}class q extends p{constructor(){super()}}class r extends q{constructor(a){super()}}function s(a,b){let c=function(a){let b=a.match(RegExp(/^\w+:/,"gi"));if(b&&b.length)return b[0]}(a);return void 0!==c&&new RegExp(b).test(c)}function t(a){return s(a,"^https?:")}function u(a){return s(a,"^wss?:")}function v(a){return"object"==typeof a&&"id"in a&&"jsonrpc"in a&&"2.0"===a.jsonrpc}function w(a){return v(a)&&"method"in a}function x(a){return v(a)&&(y(a)||z(a))}function y(a){return"result"in a}function z(a){return"error"in a}a.s(["isJsonRpcError",()=>z,"isJsonRpcRequest",()=>w,"isJsonRpcResponse",()=>x,"isJsonRpcResult",()=>y],517992);class A extends r{constructor(a){super(a),this.events=new b.EventEmitter,this.hasRegisteredEventListeners=!1,this.connection=this.setConnection(a),this.connection.connected&&this.registerEventListeners()}async connect(a=this.connection){await this.open(a)}async disconnect(){await this.close()}on(a,b){this.events.on(a,b)}once(a,b){this.events.once(a,b)}off(a,b){this.events.off(a,b)}removeListener(a,b){this.events.removeListener(a,b)}async request(a,b){return this.requestStrict(l(a.method,a.params||[],a.id||k().toString()),b)}async requestStrict(a,b){return new Promise(async(c,d)=>{if(!this.connection.connected)try{await this.open()}catch(a){d(a)}this.events.on(`${a.id}`,a=>{z(a)?d(a.error):c(a.result)});try{await this.connection.send(a,b)}catch(a){d(a)}})}setConnection(a=this.connection){return a}onPayload(a){this.events.emit("payload",a),x(a)?this.events.emit(`${a.id}`,a):this.events.emit("message",{type:a.method,data:a.params})}onClose(a){a&&3e3===a.code&&this.events.emit("error",Error(`WebSocket connection closed abnormally with code: ${a.code} ${a.reason?`(${a.reason})`:""}`)),this.events.emit("disconnect")}async open(a=this.connection){this.connection===a&&this.connection.connected||(this.connection.connected&&this.close(),"string"==typeof a&&(await this.connection.open(a),a=this.connection),this.connection=this.setConnection(a),await this.connection.open(),this.registerEventListeners(),this.events.emit("connect"))}async close(){await this.connection.close()}registerEventListeners(){this.hasRegisteredEventListeners||(this.connection.on("payload",a=>this.onPayload(a)),this.connection.on("close",a=>this.onClose(a)),this.connection.on("error",a=>this.events.emit("error",a)),this.connection.on("register_error",a=>this.onClose()),this.hasRegisteredEventListeners=!0)}}a.s(["default",()=>E],901631);var B=a.i(920275);let C=a=>a.split("?")[0],D="u">typeof WebSocket?WebSocket:"u">typeof a.g.WebSocket?a.g.WebSocket:"u">typeof self&&"u">typeof self.WebSocket?self.WebSocket:a.r(769084);class E{constructor(a){if(this.url=a,this.events=new b.EventEmitter,this.registering=!1,!u(a))throw Error(`Provided URL is not compatible with WebSocket connection: ${a}`);this.url=a}get connected(){return"u">typeof this.socket}get connecting(){return this.registering}on(a,b){this.events.on(a,b)}once(a,b){this.events.once(a,b)}off(a,b){this.events.off(a,b)}removeListener(a,b){this.events.removeListener(a,b)}async open(a=this.url){await this.register(a)}async close(){return new Promise((a,b)=>{if(typeof this.socket>"u")return void b(Error("Connection already closed"));this.socket.onclose=b=>{this.onClose(b),a()},this.socket.close()})}async send(a){typeof this.socket>"u"&&(this.socket=await this.register());try{this.socket.send((0,B.safeJsonStringify)(a))}catch(b){this.onError(a.id,b)}}register(b=this.url){if(!u(b))throw Error(`Provided URL is not compatible with WebSocket connection: ${b}`);if(this.registering){let a=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=a||this.events.listenerCount("open")>=a)&&this.events.setMaxListeners(a+1),new Promise((a,b)=>{this.events.once("register_error",a=>{this.resetMaxListeners(),b(a)}),this.events.once("open",()=>{if(this.resetMaxListeners(),typeof this.socket>"u")return b(Error("WebSocket connection is missing or invalid"));a(this.socket)})})}return this.url=b,this.registering=!0,new Promise((c,d)=>{let e=(0,i.isReactNative)()?void 0:{rejectUnauthorized:!RegExp("wss?://localhost(:d{2,5})?").test(b)},f=new D(b,[],e);"u">typeof WebSocket||"u">typeof a.g.WebSocket||"u">typeof self&&"u">typeof self.WebSocket?f.onerror=a=>{d(this.emitError(a.error))}:f.on("error",a=>{d(this.emitError(a))}),f.onopen=()=>{this.onOpen(f),c(f)}})}onOpen(a){a.onmessage=a=>this.onPayload(a),a.onclose=a=>this.onClose(a),this.socket=a,this.registering=!1,this.events.emit("open")}onClose(a){this.socket=void 0,this.registering=!1,this.events.emit("close",a)}onPayload(a){if(typeof a.data>"u")return;let b="string"==typeof a.data?(0,B.safeJsonParse)(a.data):a.data;this.events.emit("payload",b)}onError(a,b){let c=this.parseError(b),d=o(a,c.message||c.toString());this.events.emit("payload",d)}parseError(a,b=this.url){return h(a,C(b),"WS")}resetMaxListeners(){this.events.getMaxListeners()>10&&this.events.setMaxListeners(10)}emitError(a){let b=this.parseError(Error(a?.message||`WebSocket connection failed for host: ${C(this.url)}`));return this.events.emit("register_error",b),b}}a.s(["HttpConnection",()=>Q,"default",()=>Q],419997);var F=a.i(837591),G=Object.defineProperty,H=Object.defineProperties,I=Object.getOwnPropertyDescriptors,J=Object.getOwnPropertySymbols,K=Object.prototype.hasOwnProperty,L=Object.prototype.propertyIsEnumerable,M=(a,b,c)=>b in a?G(a,b,{enumerable:!0,configurable:!0,writable:!0,value:c}):a[b]=c,N=(a,b)=>{for(var c in b||(b={}))K.call(b,c)&&M(a,c,b[c]);if(J)for(var c of J(b))L.call(b,c)&&M(a,c,b[c]);return a},O=(a,b)=>H(a,I(b));let P={headers:{Accept:"application/json","Content-Type":"application/json"},method:"POST"};class Q{constructor(a,c=!1){if(this.url=a,this.disableProviderPing=c,this.events=new b.EventEmitter,this.isAvailable=!1,this.registering=!1,!t(a))throw Error(`Provided URL is not compatible with HTTP connection: ${a}`);this.url=a,this.disableProviderPing=c}get connected(){return this.isAvailable}get connecting(){return this.registering}on(a,b){this.events.on(a,b)}once(a,b){this.events.once(a,b)}off(a,b){this.events.off(a,b)}removeListener(a,b){this.events.removeListener(a,b)}async open(a=this.url){await this.register(a)}async close(){if(!this.isAvailable)throw Error("Connection already closed");this.onClose()}async send(a){this.isAvailable||await this.register();try{let b=(0,B.safeJsonStringify)(a),c=await (await (0,F.default)(this.url,O(N({},P),{body:b}))).json();this.onPayload({data:c})}catch(b){this.onError(a.id,b)}}async register(a=this.url){if(!t(a))throw Error(`Provided URL is not compatible with HTTP connection: ${a}`);if(this.registering){let a=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=a||this.events.listenerCount("open")>=a)&&this.events.setMaxListeners(a+1),new Promise((a,b)=>{this.events.once("register_error",a=>{this.resetMaxListeners(),b(a)}),this.events.once("open",()=>{if(this.resetMaxListeners(),typeof this.isAvailable>"u")return b(Error("HTTP connection is missing or invalid"));a()})})}this.url=a,this.registering=!0;try{if(!this.disableProviderPing){let b=(0,B.safeJsonStringify)({id:1,jsonrpc:"2.0",method:"test",params:[]});await (0,F.default)(a,O(N({},P),{body:b}))}this.onOpen()}catch(b){let a=this.parseError(b);throw this.events.emit("register_error",a),this.onClose(),a}}onOpen(){this.isAvailable=!0,this.registering=!1,this.events.emit("open")}onClose(){this.isAvailable=!1,this.registering=!1,this.events.emit("close")}onPayload(a){if(typeof a.data>"u")return;let b="string"==typeof a.data?(0,B.safeJsonParse)(a.data):a.data;this.events.emit("payload",b)}onError(a,b){let c=this.parseError(b),d=o(a,c.message||c.toString());this.events.emit("payload",d)}parseError(a,b=this.url){return h(a,b,"HTTP")}resetMaxListeners(){this.events.getMaxListeners()>10&&this.events.setMaxListeners(10)}}}];

//# sourceMappingURL=%5Broot-of-the-server%5D__c737c8e8._.js.map