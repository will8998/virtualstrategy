module.exports=[439579,a=>{"use strict";a.s(["Dashboard",()=>ae],439579);var b=a.i(187924),c=a.i(572131),d=a.i(433217),e=a.i(981425);let f={contract:"0xC53341BDe576085aE2E59B4dF53CEEaA9d993cC0",toshi:"0xAC1Bd2486aAf3B5C0fc3Fd868558b082a531B2B4",tostr:"0x0000000000000000000000000000000000000000",dead:"0x000000000000000000000000000000000000dEaD"},g=[{type:"function",name:"balanceOf",stateMutability:"view",inputs:[{name:"",type:"address"}],outputs:[{type:"uint256"}]}],h=[{type:"function",name:"getOrderCount",stateMutability:"view",inputs:[],outputs:[{type:"uint256"}]},{type:"function",name:"orders",stateMutability:"view",inputs:[{name:"",type:"uint256"}],outputs:[{name:"ethSpent",type:"uint256"},{name:"toshiBought",type:"uint256"},{name:"entryPrice",type:"uint160"},{name:"sold",type:"bool"}]},{type:"event",name:"ToshiBought",inputs:[{name:"orderId",type:"uint256",indexed:!0},{name:"ethSpent",type:"uint256",indexed:!1},{name:"toshiBought",type:"uint256",indexed:!1}]},{type:"event",name:"ToshiSold",inputs:[{name:"orderId",type:"uint256",indexed:!0},{name:"ethReceived",type:"uint256",indexed:!1},{name:"profit",type:"uint256",indexed:!1}]},{type:"function",name:"triggerBuy",stateMutability:"nonpayable",inputs:[],outputs:[]},{type:"function",name:"process",stateMutability:"nonpayable",inputs:[],outputs:[]},{type:"function",name:"buy",stateMutability:"nonpayable",inputs:[],outputs:[]}];var i=a.i(937927),j=a.i(600528),k=a.i(221570);async function l(a,{chain:b}){let{id:c,name:d,nativeCurrency:e,rpcUrls:f,blockExplorers:g}=b;await a.request({method:"wallet_addEthereumChain",params:[{chainId:(0,k.numberToHex)(c),chainName:d,nativeCurrency:e,rpcUrls:f.default.http,blockExplorerUrls:g?Object.values(g).map(({url:a})=>a):void 0}]},{dedupe:!0,retryCount:0})}var m=a.i(526540),n=a.i(567218),o=a.i(116330);async function p(a){return a.account?.type==="local"?[a.account.address]:(await a.request({method:"eth_accounts"},{dedupe:!0})).map(a=>(0,o.checksumAddress)(a))}var q=a.i(130573),r=a.i(134510);async function s(a,b={}){let{account:c=a.account,chainId:d}=b,e=c?(0,r.parseAccount)(c):void 0,f=d?[e?.address,[(0,k.numberToHex)(d)]]:[e?.address],g=await a.request({method:"wallet_getCapabilities",params:f}),h={};for(let[a,b]of Object.entries(g))for(let[c,d]of(h[Number(a)]={},Object.entries(b)))"addSubAccount"===c&&(c="unstable_addSubAccount"),h[Number(a)][c]=d;return"number"==typeof d?h[d]:h}async function t(a){return await a.request({method:"wallet_getPermissions"},{dedupe:!0})}var u=a.i(742031),v=a.i(366451);async function w(a){return(await a.request({method:"eth_requestAccounts"},{dedupe:!0,retryCount:0})).map(a=>(0,o.getAddress)(a))}async function x(a,b){return a.request({method:"wallet_requestPermissions",params:[b]},{retryCount:0})}var y=a.i(486007),z=a.i(158413);async function A(a,b){let{id:c}=b;await a.request({method:"wallet_showCallsStatus",params:[c]})}var B=a.i(770548);async function C(a,b){let{account:c=a.account}=b;if(!c)throw new B.AccountNotFoundError({docsPath:"/docs/eip7702/signAuthorization"});let d=(0,r.parseAccount)(c);if(!d.signAuthorization)throw new B.AccountTypeNotSupportedError({docsPath:"/docs/eip7702/signAuthorization",metaMessages:["The `signAuthorization` Action does not support JSON-RPC Accounts."],type:d.type});let e=await (0,u.prepareAuthorization)(a,b);return d.signAuthorization(e)}var D=a.i(553033),E=a.i(88963),F=a.i(637998),G=a.i(709987),H=a.i(745914);async function I(a,b){let{account:c=a.account,chain:d=a.chain,...e}=b;if(!c)throw new B.AccountNotFoundError({docsPath:"/docs/actions/wallet/signTransaction"});let f=(0,r.parseAccount)(c);(0,H.assertRequest)({account:f,...b});let g=await (0,G.getAction)(a,j.getChainId,"getChainId")({});null!==d&&(0,E.assertCurrentChain)({currentChainId:g,chain:d});let h=d?.formatters||a.chain?.formatters,i=h?.transactionRequest?.format||F.formatTransactionRequest;return f.signTransaction?f.signTransaction({...e,chainId:g},{serializer:a.chain?.serializers?.transaction}):await a.request({method:"eth_signTransaction",params:[{...i(e),chainId:(0,k.numberToHex)(g),from:f.address}]},{retryCount:0})}var J=a.i(126982);async function K(a,b){let{account:c=a.account,domain:d,message:e,primaryType:f}=b;if(!c)throw new B.AccountNotFoundError({docsPath:"/docs/actions/wallet/signTypedData"});let g=(0,r.parseAccount)(c),h={EIP712Domain:(0,J.getTypesForEIP712Domain)({domain:d}),...b.types};if((0,J.validateTypedData)({domain:d,message:e,primaryType:f,types:h}),g.signTypedData)return g.signTypedData({domain:d,message:e,primaryType:f,types:h});let i=(0,J.serializeTypedData)({domain:d,message:e,primaryType:f,types:h});return a.request({method:"eth_signTypedData_v4",params:[g.address,i]},{retryCount:0})}async function L(a,{id:b}){await a.request({method:"wallet_switchEthereumChain",params:[{chainId:(0,k.numberToHex)(b)}]},{retryCount:0})}var M=a.i(526629);async function N(a,b){return await a.request({method:"wallet_watchAsset",params:b},{retryCount:0})}var O=a.i(59854),P=a.i(664221);async function Q(a,b){let{abi:c,account:d=a.account,address:e,args:f,dataSuffix:g,functionName:h,...i}=b;if(void 0===d)throw new B.AccountNotFoundError({docsPath:"/docs/contract/writeContract"});let j=d?(0,r.parseAccount)(d):null,k=(0,O.encodeFunctionData)({abi:c,args:f,functionName:h});try{return await (0,G.getAction)(a,n.sendTransaction,"sendTransaction")({data:`${k}${g?g.replace("0x",""):""}`,to:e,account:j,...i})}catch(a){throw(0,P.getContractError)(a,{abi:c,address:e,args:f,docsPath:"/docs/contract/writeContract",functionName:h,sender:j?.address})}}function R(a){return{addChain:b=>l(a,b),deployContract:b=>(function(a,b){let{abi:c,args:d,bytecode:e,...f}=b,g=(0,m.encodeDeployData)({abi:c,args:d,bytecode:e});return(0,n.sendTransaction)(a,{...f,...f.authorizationList?{to:null}:{},data:g})})(a,b),getAddresses:()=>p(a),getCallsStatus:b=>(0,q.getCallsStatus)(a,b),getCapabilities:b=>s(a,b),getChainId:()=>(0,j.getChainId)(a),getPermissions:()=>t(a),prepareAuthorization:b=>(0,u.prepareAuthorization)(a,b),prepareTransactionRequest:b=>(0,v.prepareTransactionRequest)(a,b),requestAddresses:()=>w(a),requestPermissions:b=>x(a,b),sendCalls:b=>(0,y.sendCalls)(a,b),sendRawTransaction:b=>(0,z.sendRawTransaction)(a,b),sendTransaction:b=>(0,n.sendTransaction)(a,b),showCallsStatus:b=>A(a,b),signAuthorization:b=>C(a,b),signMessage:b=>(0,D.signMessage)(a,b),signTransaction:b=>I(a,b),signTypedData:b=>K(a,b),switchChain:b=>L(a,b),waitForCallsStatus:b=>(0,M.waitForCallsStatus)(a,b),watchAsset:b=>N(a,b),writeContract:b=>Q(a,b)}}var S=a.i(718983);async function T(a,b={}){return(await (0,S.getConnectorClient)(a,b)).extend(R)}var U=a.i(88043),V=a.i(333083),W=a.i(933323),X=a.i(852098),Y=a.i(101662),Z=a.i(875946),$=a.i(170106);let _=(0,$.default)("coins",[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]]),aa=(0,$.default)("wallet",[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]]),ab=(0,$.default)("flame",[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]]),ac=(0,$.default)("circle-check",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),ad=(0,$.default)("arrow-right-left",[["path",{d:"m16 3 4 4-4 4",key:"1x1c3m"}],["path",{d:"M20 7H4",key:"zbl0bi"}],["path",{d:"m8 21-4-4 4-4",key:"h9nckh"}],["path",{d:"M4 17h16",key:"g4d7ey"}]]);function ae(){let[a]=(0,c.useState)(8.6),{data:j}=function(){let a=(0,e.usePublicClient)();return(0,d.useQuery)({queryKey:["status"],queryFn:async()=>{if(!a)throw Error("No public client");let[b,c,d]=await Promise.all([a.getBalance({address:f.contract}),a.readContract({address:f.toshi,abi:g,functionName:"balanceOf",args:[f.contract]}),a.readContract({address:f.tostr,abi:g,functionName:"balanceOf",args:[f.dead]})]);return{eth:b,toshi:c,burned:d}},refetchInterval:3e4})}(),{data:k}=function(){let a=(0,e.usePublicClient)();return(0,d.useQuery)({queryKey:["orders"],queryFn:async()=>{if(!a)throw Error("No public client");let b=await a.readContract({address:f.contract,abi:h,functionName:"getOrderCount"}),c=[],d=[];for(let e=1;e<=Number(b);e++){let[b,g,i,j]=await a.readContract({address:f.contract,abi:h,functionName:"orders",args:[BigInt(e)]}),k={id:e,ethSpent:b,toshiBought:g,entryPrice:i,sold:j};(j?d:c).push(k)}return{active:c,completed:d,count:Number(b)}},refetchInterval:3e4})}(),{trigger:l}=function(){let{data:a}=function(a={}){let{query:b={},...d}=a,e=(0,Y.useConfig)(d),f=(0,i.useQueryClient)(),{address:g,connector:h,status:j}=(0,W.useAccount)({config:e}),k=(0,X.useChainId)({config:e}),l=a.connector??h,{queryKey:m,...n}=function(a,b={}){return{gcTime:0,async queryFn({queryKey:c}){let{connector:d}=b,{connectorUid:e,scopeKey:f,...g}=c[1];return T(a,{...g,connector:d})},queryKey:function(a={}){let{connector:b,...c}=a;return["walletClient",{...(0,U.filterQueryOptions)(c),connectorUid:b?.uid}]}(b)}}(e,{...a,chainId:a.chainId??k,connector:a.connector??h}),o=!!(("connected"===j||"reconnecting"===j&&l?.getProvider)&&(b.enabled??!0)),p=(0,c.useRef)(g);return(0,c.useEffect)(()=>{let a=p.current;!g&&a?(f.removeQueries({queryKey:m}),p.current=void 0):g!==a&&(f.invalidateQueries({queryKey:m}),p.current=g)},[g,f]),(0,V.useQuery)({...b,...n,queryKey:m,enabled:o,staleTime:1/0})}();return{trigger:async function(){let b;if(!a)throw Error("Connect wallet");for(let c of["triggerBuy","process","buy"])try{return await a.writeContract({address:f.contract,abi:h,functionName:c,args:[]})}catch(a){b=a}throw b??Error("No compatible trigger function found")}}}(),[m,n]=(0,c.useState)("idle"),[o,p]=(0,c.useState)("ETH"),[q,r]=(0,c.useState)("active");return(0,b.jsxs)("div",{className:"py-8 sm:py-10 md:py-12",children:[(0,b.jsxs)("section",{className:"app-container",children:[(0,b.jsxs)("div",{className:"inline-flex items-center gap-2 text-xs px-2 py-1 rounded-full bg-[--color-muted] border border-white/10 mb-3",children:[(0,b.jsx)("span",{className:"inline-block h-1.5 w-1.5 rounded-full bg-[--color-accent]"}),"Live holdings"]}),(0,b.jsxs)("div",{className:"card p-4 sm:p-5 md:p-6",children:[(0,b.jsx)("h2",{className:"text-lg sm:text-xl font-semibold mb-4",children:"VirtualStrategy is currently holding"}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 auto-rows-fr",children:[(0,b.jsxs)("div",{className:"rounded-xl bg-[--color-muted] p-4 border border-white/10 h-full",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 text-sm text-white/80",children:[(0,b.jsx)(aa,{size:16})," ETH"]}),(0,b.jsx)("div",{className:"text-2xl font-semibold mt-1",children:"0"})]}),(0,b.jsxs)("div",{className:"rounded-xl bg-[--color-muted] p-4 border border-white/10 h-full",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 text-sm text-white/80",children:[(0,b.jsx)(_,{size:16})," VIRTUAL"]}),(0,b.jsx)("div",{className:"text-2xl font-semibold mt-1",children:"0"})]}),(0,b.jsxs)("div",{className:"rounded-xl bg-[--color-muted] p-4 border border-white/10 h-full",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between text-xs text-white/70",children:[(0,b.jsx)("span",{children:"Progress to Next Purchase"}),(0,b.jsxs)("span",{children:[a,"%"]})]}),(0,b.jsx)("div",{className:"mt-3 h-2 rounded-full bg-black/30 overflow-hidden",children:(0,b.jsx)("div",{className:"h-2 bg-[--color-accent]",style:{width:`${a}%`}})}),(0,b.jsxs)("p",{className:"mt-3 text-xs text-white/70",children:["When the machine acquires the missing ",(0,b.jsx)("b",{children:"0 ETH"}),", the contract autobuys VIRTUAL."]})]}),(0,b.jsxs)("div",{className:"rounded-xl bg-[--color-muted] p-4 border border-white/10 h-full",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between text-xs text-white/70",children:[(0,b.jsxs)("span",{className:"inline-flex items-center gap-1",children:[(0,b.jsx)(ab,{size:14})," Burned $VIRSTR"]}),(0,b.jsx)("span",{className:"inline-flex items-center text-[11px] px-2 py-0.5 rounded-full bg-white/5 border border-white/10",children:"0.73% of 1B"})]}),(0,b.jsx)("div",{className:"text-2xl font-semibold mt-2",children:"0"})]})]})]})]}),(0,b.jsxs)("section",{className:"card p-4 sm:p-5 md:p-6 mb-6 app-container",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between text-xs text-white/70",children:[(0,b.jsx)("span",{children:"Progress to Next Purchase"}),(0,b.jsx)("span",{children:"Current rewards: 0 ETH"})]}),(0,b.jsx)("div",{className:"mt-3 h-12 rounded-lg bg-[--color-muted] border border-white/10 flex items-center px-3",children:(0,b.jsxs)("span",{className:"text-xs text-white/70",children:["When the machine acquires the missing ",(0,b.jsx)("b",{children:"0 ETH"}),", the first entity to trigger the functions below will process the mechanism forward and earn a reward."]})}),(0,b.jsxs)("div",{className:"mt-4",children:[(0,b.jsx)("div",{className:"w-full h-2 bg-black/30 rounded-full overflow-hidden",children:(0,b.jsx)("div",{className:"h-2 bg-[--color-accent]",style:{width:`${a}%`}})}),(0,b.jsx)("button",{className:"btn-primary mt-3 w-full py-3 disabled:opacity-50",disabled:"pending"===m,onClick:async()=>{try{n("pending"),await l(),n("success")}catch(a){console.error(a),n("error")}finally{setTimeout(()=>n("idle"),4e3)}},children:"pending"===m?"Processing…":"success"===m?"Buy submitted":"error"===m?"Failed - retry":"Buy"})]})]}),(0,b.jsxs)("section",{className:"app-container mb-6",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,b.jsxs)("div",{className:"inline-flex rounded-full border border-white/10 bg-white/5 p-1 text-xs",children:[(0,b.jsx)("button",{className:`px-3 py-1 rounded-full ${"active"===q?"bg-[--color-accent] text-white":"hover:bg-white/10"}`,onClick:()=>r("active"),children:"Currently Holding"}),(0,b.jsx)("button",{className:`px-3 py-1 rounded-full ${"sold"===q?"bg-[--color-accent] text-white":"hover:bg-white/10"}`,onClick:()=>r("sold"),children:"Sold Pepe"})]}),(0,b.jsx)("span",{className:"text-xs text-white/60",children:"Orders"})]}),(0,b.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:("active"===q?k?.active:k?.completed)?.slice(0,3).map(a=>(0,b.jsxs)("div",{className:"card p-4",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between text-xs text-white/70 mb-2",children:[(0,b.jsxs)("span",{children:["#",a.id]}),(0,b.jsx)("span",{className:"inline-flex items-center gap-1 px-2 py-0.5 rounded-full border border-white/10 bg-white/5",children:"active"===q?(0,b.jsx)(b.Fragment,{children:"Open"}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(ac,{size:12})," Sold"]})})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[(0,b.jsxs)("div",{className:"rounded-lg bg-[--color-muted] p-3 border border-white/10",children:[(0,b.jsx)("div",{className:"text-white/70 text-xs",children:"ETH Spent"}),(0,b.jsxs)("div",{className:"font-semibold mt-1",children:[Number((0,Z.formatEther)(a.ethSpent)).toFixed(3)," Ξ"]})]}),(0,b.jsxs)("div",{className:"rounded-lg bg-[--color-muted] p-3 border border-white/10",children:[(0,b.jsx)("div",{className:"text-white/70 text-xs",children:"PEPE Bought"}),(0,b.jsx)("div",{className:"font-semibold mt-1",children:a.toshiBought.toString()})]}),(0,b.jsxs)("div",{className:"rounded-lg bg-[--color-muted] p-3 border border-white/10",children:[(0,b.jsx)("div",{className:"text-white/70 text-xs",children:"Est. Value (now)"}),(0,b.jsx)("div",{className:"font-semibold mt-1",children:"—"})]}),(0,b.jsxs)("div",{className:"rounded-lg bg-[--color-muted] p-3 border border-white/10",children:[(0,b.jsx)("div",{className:"text-white/70 text-xs",children:"Target to Sell"}),(0,b.jsx)("div",{className:"font-semibold mt-1",children:"—"})]})]}),"active"===q?(0,b.jsxs)("div",{className:"mt-3",children:[(0,b.jsx)("div",{className:"w-full h-2 bg-black/30 rounded-full overflow-hidden",children:(0,b.jsx)("div",{className:"h-2 bg-[--color-accent]",style:{width:"82%"}})}),(0,b.jsxs)("button",{className:"btn-secondary mt-3 w-full py-2 inline-flex items-center justify-center gap-1",children:[(0,b.jsx)(ad,{size:14})," Sell"]})]}):null]},a.id))})]}),(0,b.jsxs)("section",{className:"card p-3 md:p-4 app-container",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between text-xs text-white/60 mb-3",children:[(0,b.jsx)("span",{children:"Market Chart"}),(0,b.jsxs)("div",{className:"inline-flex rounded-full border border-white/10 bg-white/5 p-1",children:[(0,b.jsx)("button",{className:`px-3 py-1 rounded-full text-xs ${"ETH"===o?"bg-[--color-accent] text-white":"hover:bg-white/10"}`,onClick:()=>p("ETH"),children:"ETH"}),(0,b.jsx)("button",{className:`px-3 py-1 rounded-full text-xs ${"VIRTUAL"===o?"bg-[--color-accent] text-white":"hover:bg-white/10"}`,onClick:()=>p("VIRTUAL"),children:"VIRTUAL"})]})]}),(0,b.jsx)("div",{className:"aspect-[16/9] w-full overflow-hidden rounded-md border border-white/10",children:"ETH"===o?(0,b.jsx)("iframe",{className:"w-full h-full",src:"https://www.tradingview.com/widgetembed/?symbol=COINBASE:ETHUSD&interval=60&hidesidetoolbar=1&symboledit=1&saveimage=0&toolbarbg=rgba(0,0,0,0)&hideideas=1&studies=[]&theme=dark&style=1&timezone=Etc/UTC&withdateranges=1&allow_symbol_change=1#",title:"ETH Chart"}):(0,b.jsx)("iframe",{className:"w-full h-full",src:"https://dexscreener.com/base/0xc4da0cb0e9cc712ab8b2b90d282bd55a05518d76?embed=1&theme=dark",title:"Dexscreener"})})]}),(0,b.jsx)("div",{className:"h-6"})]})}}];

//# sourceMappingURL=src_components_Dashboard_tsx_efc4dc27._.js.map